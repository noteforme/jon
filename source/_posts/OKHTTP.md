---
title: OKHTTP
comments: true
date: 2017-08-07 10:04:29
tags:
categories: ANDROID

---

Okhttp使用线程池无 核心级线程，不应该先把阻塞队列塞满，再执行非核心级线程吗，这样任何不应该会立即执行呀？？？
阻塞队列用了synchrnized 会添加失败。所以直接创建非核心线程。

# 如何阅读开源项目

https://www.codedump.info/post/20200605-how-to-read-code-v2020/

## 编译通过

开始阅读一份项目源码的第一步，是先让这个项目能够通过你自己编译通过并且顺利跑起来。这一点尤其重要。

## 设计文档

阅读源码之前，查看该项目是否提供架构和设计文档，阅读这些文档可以了解该项目的大体设计和结构，

## 区分主线和支线剧情

了解Nginx核心的基础流程以及数据结构。
了解Nginx如何实现一个模块。

## 画图

画图，理清主干后，可以将整个流程画成流程图或者是标准的UML图，帮助记忆以及下一步的阅读。

## fork

 尽量避免大段的贴代码。我认为在这类文章中，大段贴上代码有点自欺欺人：就是看上去自己懂了，其实并不见得。如果真要解释某段代码，可以使用伪代码或者缩减代码的方式。记住：不要自欺欺人，要真的懂了。如果真的想在代码上加上自己的注释，我有一个建议是fork出来一份该项目某个版本的代码，提交到自己的github上，上面随时可以加上自己的注释并且保存提交。比如我自己注释的etcd 3.1.10代码：etcd-3.1.10-codedump，类似的我阅读的其他项目都会在github上fork出一个带上codedump后缀的项目。

## 枝叶代码

以兴趣为主，挑选感兴趣的“枝叶”代码去阅读。

## 输出

输出的手段有很多，在阅读代码时，比较建议的是自己能够多问自己一些问题，比如

* 为什么选择这个数据结构来描述这个问题？类似的场景下，其他项目是怎么设计的？都有哪些数据结构做这样的事情？
* 如果由我来设计这样的项目，我会怎么做？
  等等等等。越是主动积极的思考，就越有更好的输出，输出质量与学习质量成正比关系。

https://time.geekbang.org/column/article/186778
https://www.imooc.com/article/301778
https://www.jianshu.com/p/656dbb97a40f

不管写的怎么样，先把东西弄出来，然后参考别人的写法，做对比

 
