<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Jon&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  
  
    <link rel="alternate" href="/atom.xml" title="Jon's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
    
<link rel="stylesheet" href="/localshare/css/share.css">

  
  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jon&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Cease to struggle and you cease to live. - Thomas Carlyle</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/."><i class="fa fa-home"></i> Start</a>
        
          <a class="main-nav-link" href="/archives/"><i class="fa fa-archive"></i> Archiv</a>
        
          <a class="main-nav-link" href="/about/"><i class="fa fa-user"></i> Über</a>
        
          <a class="main-nav-link" href="/atom.xml"><i class="fa fa-rss"></i> RSS</a>
        
      </nav>
    </div>
    <div id="search-form">
      <div id="result-mask" class="hide"></div>
      <label><input id="search-key" type="text" autocomplete="off" placeholder="Suche"></label>
      <div id="result-wrap" class="hide">
        <div id="search-result"></div>
      </div>
      <div class="hide">
        <template id="search-tpl">
          <div class="item">
            <a href="/{path}" title="{title}">
              <div class="title">{title}</div>
              <div class="time">{date}</div>
              <div class="tags">{tags}</div>
            </a>
          </div>
        </template>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  <article id="post-OS-PROCESS" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/17/OS-PROCESS/">OS_PROCESS</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-08-17T02:55:14.000Z" itemprop="datePublished">2020年08月17日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/OS/">OS</a>
  </div>

      
      
<a href="/2020/08/17/OS-PROCESS/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Gästebuch
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="进程"><a href="#进程" class="headerlink" title="进程"></a>进程</h4><p>进程有很大的独立性</p>
<p>为了实现进程模型，操作系统维护着一张表格，进程表。每个进程占用一个进程表项。</p>
<h4 id="进程通信"><a href="#进程通信" class="headerlink" title="进程通信"></a>进程通信</h4><h5 id="进程通信方式"><a href="#进程通信方式" class="headerlink" title="进程通信方式"></a>进程通信方式</h5><pre><code>文件
AIDL （基于 Binder）
    Android 进阶：进程通信之 AIDL 的使用
    Android 进阶：进程通信之 AIDL 解析
Binder
    Android 进阶：进程通信之 Binder 机制浅析
Messenger （基于 Binder）
    Android 进阶：进程通信之 Messenger 使用与解析 
ContentProvider （基于 Binder）
    Android 进阶：进程通信之 ContentProvider 内容提供者 
Socket
    Android 进阶：进程通信之 Socket （顺便回顾 TCP UDP）
</code></pre>
<p><img src="https://img-blog.csdn.net/20170605011532312?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvdTAxMTI0MDg3Nw==/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast"><br>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/u011240877/article/details/72863432">https://blog.csdn.net/u011240877/article/details/72863432</a></p>
<p><img src="/2020/08/17/OS-PROCESS/2021-08-17_COMM_TYPE.png"></p>
<p>管道通信</p>
<p>无名管道， 有名管道:文件系统中有这样一个文件名</p>
<p>信号通信： </p>
<h5 id="进程通信的思想"><a href="#进程通信的思想" class="headerlink" title="进程通信的思想"></a>进程通信的思想</h5><p><img src="/2020/08/17/OS-PROCESS/2021-08-17_INTER_THINK.png"></p>
<p><strong>共享内存</strong></p>
<p> 共享存储允许不相关的进程访问同一片物理内存</p>
<p>共享内存是两个进程之间共享和传递数据最快的方式</p>
<p>共享内存未提供同步机制，需要借助其他机制管理访问</p>
<p>共享存储是两个进程之间共享和传递数据最快的一种方式</p>
<p>共享内存未提供同步机制，需要借助其他机制管理访问</p>
<p><strong>Unix域套接字</strong></p>
<p>域套接字是一种高级的进程间通信的方法</p>
<p>Unix域套接字可以用于同一机器进程间通信</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1tJ41117ty?from=search&amp;seid=13006387505737298314">https://www.bilibili.com/video/BV1tJ41117ty?from=search&amp;seid=13006387505737298314</a></p>

        
        
          <blockquote id="copyright">
              <p>Ursprünglicher Link: <a href="http://noteforme.github.io.com/page/4/index.html">http://noteforme.github.io.com/page/4/index.html</a></p>
              <p>Copyright-Erklärung: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Aktie:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-AutoDispose" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/14/AutoDispose/">AutoDispose</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-08-14T02:18:28.000Z" itemprop="datePublished">2020年08月14日</time>
</span>
      
      
      
<a href="/2020/08/14/AutoDispose/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Gästebuch
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://uber.github.io/AutoDispose/">https://uber.github.io/AutoDispose/</a></p>

        
        
          <blockquote id="copyright">
              <p>Ursprünglicher Link: <a href="http://noteforme.github.io.com/page/4/index.html">http://noteforme.github.io.com/page/4/index.html</a></p>
              <p>Copyright-Erklärung: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RxJava/" rel="tag">RxJava</a></li></ul>

          
    <div class="social-share">
      <span>Aktie:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-ViewGroup" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/13/ViewGroup/">ViewGroup</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-08-12T23:36:27.000Z" itemprop="datePublished">2020年08月13日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/VIEW/">VIEW</a>
  </div>

      
      
<a href="/2020/08/13/ViewGroup/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Gästebuch
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="生命周期"><a href="#生命周期" class="headerlink" title="生命周期"></a>生命周期</h4><p><img src="/2020/08/13/ViewGroup/2021-08-10_view_lifecycle.png"></p>
<p>每次onMeasure，onLayout用到的值都不能在构造方法里面初始化。</p>
<h4 id="ViewGroup测量"><a href="#ViewGroup测量" class="headerlink" title="ViewGroup测量"></a>ViewGroup测量</h4><p><img src="/2020/08/13/ViewGroup/2021-08-12_viewgroup_layout.png"></p>
<p>![](/Users/john/Documents/noteforme.github.io/source/_posts/ViewGroup/Screen Shot 2021-08-13 at 6.21.59 PM.png)</p>
<h4 id="MeasureSpec"><a href="#MeasureSpec" class="headerlink" title="MeasureSpec"></a>MeasureSpec</h4><h5 id="MeasureSpec创建规则"><a href="#MeasureSpec创建规则" class="headerlink" title="MeasureSpec创建规则"></a>MeasureSpec创建规则</h5><p><img src="/2020/08/13/ViewGroup/2021-08-12_9.33_measure_spec_mode.png"></p>
<ol>
<li>子View为精确宽高，无论父容器的MeasureSpec，子View的MeasureSpec都为精确值且遵循LayoutParams中的值。 </li>
<li>子View为match_parent时，如果父容器是精确模式，则子View也为精确模式且为父容器的剩余空间大小；如果父容器是最大模式，则子View也是最大模式且不会超过父容器的剩余空间。</li>
<li>子View为wrap_content时，无论父View是精确还是最大模式，子View的模式总是最大模式，且不会超过父容器的剩余空间。 </li>
</ol>
<p>艺术探索</p>
<p><img src="https://upload-images.jianshu.io/upload_images/7177220-a24570ca31b1b9df.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200"></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/cb529ed03597">https://www.jianshu.com/p/cb529ed03597</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904094205739016">https://juejin.cn/post/6844904094205739016</a></p>
<h5 id="MeasureSpec表示"><a href="#MeasureSpec表示" class="headerlink" title="MeasureSpec表示"></a>MeasureSpec表示</h5><ol>
<li>MeasureSpec用int表示,总共32位，高2位代表SpecMode，低30位代表SpecSize,SpecMode是指测量模式，而SpecSize是指在某种测量模式下的规格大小。MeasureSpec通过将SpecMode和SpecSize打包成一个int值来避免过多的对象内存分配.打包makeMeasureSpec。</li>
<li>高2位 00 , 01, 10, 分别对应UNSPECIFIED, EXACTLY,AT_MOST。</li>
</ol>
<ul>
<li><p><strong>UNSPECIFIED</strong></p>
<p>父容器不对View有任何限制，要多大给多大，这种情况一般用于系统内部，表示一种测量的状态。</p>
</li>
<li><p><strong>EXACTLY</strong></p>
<p>父容器已经检测出View所需要的精确大小，这个时候View的最终大小就是SpecSize所指定的值。它对应于LayoutParams中的match_parent和具体的数值这两种模式。</p>
</li>
<li><p><strong>AT_MOST</strong> </p>
<p>父容器指定了一个可用大小即SpecSize,View的大小不能大于这个值，具体是什么值要看不同View的具体实现。它对应于LayoutParams中的wrap_content。</p>
</li>
</ul>
<p>​     </p>
<p><img src="/2020/08/13/ViewGroup/2021-08-12_9.29_measure_spec.png"></p>
<ul>
<li><p>getMeasuredWidth</p>
<p>在measure()过程结束后就可以获取到对应的值。通过setMeasuredDimension()方法来进行设置。</p>
</li>
<li><p>getWidth区别</p>
<p>在view.layout()过程结束后才能获取到； 通过视图右边的坐标-左边的左边计算出来的</p>
</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">int</span> childHeightMeasureSpec;</span><br><span class="line"><span class="keyword">if</span> (lp.height == LayoutParams.MATCH_PARENT) &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">int</span> height = Math.max(<span class="number">0</span>, getMeasuredHeight()</span><br><span class="line">            - getPaddingTopWithForeground() - getPaddingBottomWithForeground()</span><br><span class="line">            - lp.topMargin - lp.bottomMargin);</span><br><span class="line">    childHeightMeasureSpec = MeasureSpec.makeMeasureSpec(</span><br><span class="line">            height, MeasureSpec.EXACTLY);</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    childHeightMeasureSpec = getChildMeasureSpec(heightMeasureSpec,</span><br><span class="line">            getPaddingTopWithForeground() + getPaddingBottomWithForeground() +</span><br><span class="line">            lp.topMargin + lp.bottomMargin,</span><br><span class="line">            lp.height);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">child.measure(childWidthMeasureSpec, childHeightMeasureSpec);</span><br></pre></td></tr></table></figure>

<p>Frame layout 子节点重新绘制，为什么</p>
<p>Framelayout边界怎么算的</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (absoluteGravity &amp; Gravity.HORIZONTAL_GRAVITY_MASK) &#123;</span><br><span class="line">    <span class="keyword">case</span> Gravity.CENTER_HORIZONTAL:</span><br><span class="line">        childLeft = parentLeft + (parentRight - parentLeft - width) / <span class="number">2</span> +</span><br><span class="line">        lp.leftMargin - lp.rightMargin;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> Gravity.RIGHT:</span><br><span class="line">        <span class="keyword">if</span> (!forceLeftGravity) &#123;</span><br><span class="line">            childLeft = parentRight - width - lp.rightMargin;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    <span class="keyword">case</span> Gravity.LEFT:</span><br><span class="line">    <span class="keyword">default</span>:</span><br><span class="line">        childLeft = parentLeft + lp.leftMargin;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p><img src="/2020/08/13/ViewGroup/home/mc/Documents/noteforme.github.io/source/_posts/ViewGroup/2021-08-13_22_viewgroup_XY.png"></p>
<p>Inflate解析过程</p>
<p><img src="/2020/08/13/ViewGroup/home/mc/Documents/noteforme.github.io/source/_posts/ViewGroup/2021-08-14_19-48_inflate_xml.png"></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Ka4y1j7HA?p=4&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1Ka4y1j7HA?p=4&amp;spm_id_from=pageDriver</a></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=aOb4Hvqbeu4">https://www.youtube.com/watch?v=aOb4Hvqbeu4</a></p>

        
        
          <blockquote id="copyright">
              <p>Ursprünglicher Link: <a href="http://noteforme.github.io.com/page/4/index.html">http://noteforme.github.io.com/page/4/index.html</a></p>
              <p>Copyright-Erklärung: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Aktie:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-WMS" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/09/WMS/">WMS</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-08-09T15:05:02.000Z" itemprop="datePublished">2020年08月09日</time>
</span>
      
      
      
<a href="/2020/08/09/WMS/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Gästebuch
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>AMS启动activity</p>
<h5 id="Activity启动流程"><a href="#Activity启动流程" class="headerlink" title="Activity启动流程"></a>Activity启动流程</h5><p><img src="/2020/08/09/WMS/2021-08-09_22-45-activity_start.png"></p>
<p><img src="/2020/08/09/WMS/2021-08-10_11.32_activity.png"></p>
<h5 id="window作用"><a href="#window作用" class="headerlink" title="window作用"></a>window作用</h5><p>单一职责:解藕activity view</p>
<img src="/2020/08/09/WMS/2021-08-09_22-view2.png" style="zoom:100%;">



<p><img src="/2020/08/09/WMS/2021-08-09_22-view.png"></p>
<h5 id="View是生命周期哪个方法绘制"><a href="#View是生命周期哪个方法绘制" class="headerlink" title="View是生命周期哪个方法绘制"></a>View是生命周期哪个方法绘制</h5><ol>
<li><p>window负责管理UI,因为window是在 onCreate()之后产生的，所以view绘制一定在onCreate()之后。</p>
</li>
<li><p> onResume() decorview和Activity进行绑定，所以也是 onCreate()能在子线程刷新UI的原因 ,</p>
</li>
<li><p>接着在 onResume()调用 performMeasure() performLayout(), performDraw()</p>
</li>
</ol>
<p><img src="/2020/08/09/WMS/2021-08-10_11.44_draw.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">textView = findViewById(R.id.tv_thread);</span><br><span class="line"><span class="keyword">new</span> Handler().post(() -&gt; &#123;</span><br><span class="line">    Log.i(<span class="string">&quot;GlideActivity&quot;</span>, <span class="string">&quot;onResume: &quot;</span> + textView.getWidth());</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>运行结果 </p>
<blockquote>
<p>I/GlideActivity: onResume: 0</p>
</blockquote>
<p>OnResume()也是一个消息，虽然post消息放在后面，但是是因为建立了消息屏障。所以还是先执行，然后获取宽度为0;</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1FK4y1R7Nw?from=search&amp;seid=12068296586023469576">https://www.bilibili.com/video/BV1FK4y1R7Nw?from=search&amp;seid=12068296586023469576</a></p>

        
        
          <blockquote id="copyright">
              <p>Ursprünglicher Link: <a href="http://noteforme.github.io.com/page/4/index.html">http://noteforme.github.io.com/page/4/index.html</a></p>
              <p>Copyright-Erklärung: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AOSP/" rel="tag">AOSP</a></li></ul>

          
    <div class="social-share">
      <span>Aktie:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-PMS" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/07/PMS/">PMS</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-08-07T14:05:02.000Z" itemprop="datePublished">2020年08月07日</time>
</span>
      
      
      
<a href="/2020/08/07/PMS/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Gästebuch
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>PMS</p>
<p><img src="/2020/08/07/PMS/2021-08-07_8.27_pms.png"></p>
<h5 id="PMS服务是干什么的"><a href="#PMS服务是干什么的" class="headerlink" title="PMS服务是干什么的"></a>PMS服务是干什么的</h5><ol>
<li>管理 加载  缓存APK文件，把APK文件加载成package对象，缓存到mPackages中</li>
<li>当AMS需要加载Activity时，PMS提供对应的信息(javabean)</li>
</ol>
<h5 id="PMS是谁启动的"><a href="#PMS是谁启动的" class="headerlink" title="PMS是谁启动的"></a>PMS是谁启动的</h5><p>SystemServer</p>
<h5 id="PMS扫描是为了什么"><a href="#PMS扫描是为了什么" class="headerlink" title="PMS扫描是为了什么"></a>PMS扫描是为了什么</h5><p>以空间换时间</p>
<h5 id="PMS启动应用，会发生什么"><a href="#PMS启动应用，会发生什么" class="headerlink" title="PMS启动应用，会发生什么"></a>PMS启动应用，会发生什么</h5><ol>
<li>通过包名，找到对应的apk文件</li>
<li>解压apk文件</li>
<li>经过dom解析，找到Launcher对应的activity</li>
<li>再反射加载</li>
<li>app启动成功。</li>
</ol>

        
        
          <blockquote id="copyright">
              <p>Ursprünglicher Link: <a href="http://noteforme.github.io.com/page/4/index.html">http://noteforme.github.io.com/page/4/index.html</a></p>
              <p>Copyright-Erklärung: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AOSP/" rel="tag">AOSP</a></li></ul>

          
    <div class="social-share">
      <span>Aktie:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-AMS" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/07/AMS/">AMS</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-08-07T14:04:13.000Z" itemprop="datePublished">2020年08月07日</time>
</span>
      
      
      
<a href="/2020/08/07/AMS/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Gästebuch
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="系统启动"><a href="#系统启动" class="headerlink" title="系统启动"></a>系统启动</h4><p>![](AMS/2021-07-31 at 7.53_start1.png)</p>
<p>​    <img src="/2020/08/07/AMS/2021-08-16_PHONE_START.png"></p>
<img src="/2020/08/07/AMS/2021-07-31 at 7.53.43_start2.png" style="zoom: 50%;">







<h4 id="AMS"><a href="#AMS" class="headerlink" title="AMS"></a>AMS</h4><p>AMS属于SystemServer进程,主要是为了加载Activity 管理Activity生命周期 .</p>
<img src="/2020/08/07/AMS/2021-08-07_8.25_ams.png" style="zoom:50%;">

<p>Launcher请求AMS创建根Activity所在进程（如果之前没有该进程），AMS请求Zygote进程fork应用进程。</p>
<p><img src="/2020/08/07/AMS/2021-08-16_AMS_APPLICATION.png"></p>
<p><img src="/2020/08/07/AMS/2021-08-07_8.26_ams.png"></p>
<p>android启动流程</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1DQ4y197oX?from=search&amp;seid=14802265503756746151">https://www.bilibili.com/video/BV1DQ4y197oX?from=search&amp;seid=14802265503756746151</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Pi4y1A7Sr?from=search&amp;seid=17031756056912732811">https://www.bilibili.com/video/BV1Pi4y1A7Sr?from=search&amp;seid=17031756056912732811</a></p>
<p>一般 <a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1K541177GU?p=3">https://www.bilibili.com/video/BV1K541177GU?p=3</a> </p>
<h4 id="应用启动流程"><a href="#应用启动流程" class="headerlink" title="应用启动流程"></a>应用启动流程</h4><h5 id="Launcher请求AMS阶段"><a href="#Launcher请求AMS阶段" class="headerlink" title="Launcher请求AMS阶段"></a>Launcher请求AMS阶段</h5><p><img src="/2020/08/07/AMS/2021-08-16_lancher_ams.png"></p>

        
        
          <blockquote id="copyright">
              <p>Ursprünglicher Link: <a href="http://noteforme.github.io.com/page/4/index.html">http://noteforme.github.io.com/page/4/index.html</a></p>
              <p>Copyright-Erklärung: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/AOSP/" rel="tag">AOSP</a></li></ul>

          
    <div class="social-share">
      <span>Aktie:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-RxJava" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/04/RxJava/">RxJava</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-08-04T03:16:40.000Z" itemprop="datePublished">2020年08月04日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/ANDROID/">ANDROID</a>
  </div>

      
      
<a href="/2020/08/04/RxJava/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Gästebuch
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="观察者模式"><a href="#观察者模式" class="headerlink" title="观察者模式"></a>观察者模式</h4><h5 id="观察者模式使用"><a href="#观察者模式使用" class="headerlink" title="观察者模式使用"></a>观察者模式使用</h5><p><img src="/2020/08/04/RxJava/2021-07-11_observer.png"></p>
<p><img src="/2020/08/04/RxJava/2021-07-11_observable.png"></p>
<ol>
<li>最主要的是Observable里面持有observer引用，就可以给observer发消息，其他的都是拓展。</li>
<li>Rxjava2会有Flower等背压类继承ObservableSource，所以 Observable 从ObservableSource分离出来，让ObservableCreate实现subscribeAcutal(Observer)</li>
<li>本来可以在ObservableCreate中直接发消息，因为emmit也可能变，现在把调用流程放到了ObservableOnSubscribe,并且传了emmit,最终ObservableOnSubscribe打包给了了ObservableCreate</li>
</ol>
<h5 id="观察者模式应用"><a href="#观察者模式应用" class="headerlink" title="观察者模式应用"></a>观察者模式应用</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 具体的被观察者</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ObservableCreate</span>&lt;<span class="title">T</span>&gt; <span class="keyword">extends</span> <span class="title">Observable</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    ObservableOnSubscribe&lt;T&gt; source;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">ObservableCreate</span><span class="params">(ObservableOnSubscribe&lt;T&gt; source)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.source = source;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">subscribeActual</span><span class="params">(Observer observer)</span> </span>&#123;</span><br><span class="line">        observer.onSubscribe(); <span class="comment">//订阅成功，回调给观察者</span></span><br><span class="line">        <span class="comment">//创建发射器</span></span><br><span class="line">        CreateEmitter createEmitter = <span class="keyword">new</span> CreateEmitter(observer); <span class="comment">//发射器和观察者建立关联</span></span><br><span class="line">        source.subscribe(createEmitter); <span class="comment">//发射器与被观察者建立关联</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="class"><span class="keyword">class</span> <span class="title">CreateEmitter</span>&lt;<span class="title">T</span>&gt; <span class="keyword">implements</span> <span class="title">Emitter</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">        <span class="keyword">final</span> Observer&lt;T&gt; observer;</span><br><span class="line"></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="title">CreateEmitter</span><span class="params">(Observer&lt;T&gt; observer)</span> </span>&#123;</span><br><span class="line">            <span class="keyword">this</span>.observer = observer;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(T t)</span> </span>&#123;</span><br><span class="line">            observer.onNext(t);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onError</span><span class="params">(Throwable e)</span> </span>&#123;</span><br><span class="line">            observer.onError(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onComplete</span><span class="params">()</span> </span>&#123;</span><br><span class="line">            observer.onComplete();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="装饰器模式"><a href="#装饰器模式" class="headerlink" title="装饰器模式"></a>装饰器模式</h4><h5 id="装饰器模式使用"><a href="#装饰器模式使用" class="headerlink" title="装饰器模式使用"></a>装饰器模式使用</h5><p>RxJava观察者模式最主要是这个方法 subscribeActual(Observer observer) ，通过发射器与 观察者、被观察者建立关联，接着通过发射器发送事件给观察者。</p>
<p>!(RxJava/2021-07-12_RXJAVA.png)</p>
<p><img src="/2020/08/04/RxJava/2021-07-13_5.37.48_observer1.png"></p>
<p><img src="/2020/08/04/RxJava/2021-07-14_3.14.28_zhuangshi.png"></p>
<p>红色方框中用到了 装饰器模式。</p>
<h4 id="应用实例"><a href="#应用实例" class="headerlink" title="应用实例"></a>应用实例</h4><p>WriteRxJavaActivity.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">Observable.create(<span class="keyword">new</span> ObservableOnSubscribe&lt;Object&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">subscribe</span><span class="params">(Emitter&lt;Object&gt; emitter)</span> </span>&#123;</span><br><span class="line">        Log.i(TAG, <span class="string">&quot;subscribe: &quot;</span>);</span><br><span class="line">        emitter.onNext(<span class="string">&quot;aaaa&quot;</span>);</span><br><span class="line">        emitter.onNext(<span class="string">&quot;bbb&quot;</span>);</span><br><span class="line">        emitter.onNext(<span class="string">&quot;12312&quot;</span>);</span><br><span class="line">        emitter.onComplete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line">        .map(<span class="keyword">new</span> Function&lt;Object, Object&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Object <span class="title">apply</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> (<span class="string">&quot;apply 后 1 &quot;</span> + o);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .map(<span class="keyword">new</span> Function&lt;Object, Object&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> Object <span class="title">apply</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">                <span class="keyword">return</span> (<span class="string">&quot;apply 后 2 &quot;</span> + o);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"></span><br><span class="line">        .subscribe(<span class="keyword">new</span> Observer() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">onNext</span><span class="params">(Object o)</span> </span>&#123;</span><br><span class="line">                Log.i(TAG, <span class="string">&quot;onNext: &quot;</span> + o);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br></pre></td></tr></table></figure>



<h5 id="调用结构图"><a href="#调用结构图" class="headerlink" title="调用结构图"></a>调用结构图</h5><p>上面代码的调用结构可以用下图表示</p>
<p><img src="/2020/08/04/RxJava/RxJava_LinkedList.png"></p>
<p><img src="/2020/08/04/RxJava/2021-07-17_at_8.51.53_stream.png"></p>
<p>上面三条流，可以看到每一条流的结束会启动另一条流的开端。</p>
<p>N0持有source引用，自己又创建Observable,订阅了O4。</p>
<ol>
<li>链式构建流</li>
</ol>
<p><img src="/2020/08/04/RxJava/2021-07-17_9.40.53_observable.png"></p>
<ol start="2">
<li>订阅流</li>
</ol>
<p><img src="/2020/08/04/RxJava/2021-07-17_9.41.07_observer.png"></p>
<ol start="3">
<li>观察者回调流（事件回调流）</li>
</ol>
<p><img src="/2020/08/04/RxJava/2021-07-17_9.41.41_emmit.png"></p>
<h5 id="ObservableMap"><a href="#ObservableMap" class="headerlink" title="ObservableMap"></a>ObservableMap</h5><p>其中关键代码在ObservableMap.java ,subscribeActual方法。</p>
<p>Observalbe.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> &lt;R&gt;  <span class="function">ObservableMap&lt;T, R&gt; <span class="title">map</span><span class="params">(Function&lt;T,R&gt; function)</span></span>&#123;</span><br><span class="line">        <span class="keyword">return</span>  <span class="keyword">new</span> ObservableMap(<span class="keyword">this</span>,function); <span class="comment">//上层Observable传入 ObservableMap</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ObservableMap.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title">subscribeActual</span><span class="params">(Observer observer)</span> </span>&#123;         <span class="comment">// source上层Observable,</span></span><br><span class="line">    source.subscribe(<span class="keyword">new</span> MapObserver(observer, function)); <span class="comment">//传入的observer是下游的observer,可以从最后往前看</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="调用流程"><a href="#调用流程" class="headerlink" title="调用流程"></a>调用流程</h5><ol>
<li>第一遍 把 Observable传入下一层的Observable中。 可以理解为 调用结构图 -&gt;向右建立关联</li>
<li>直至调用到最后的观察者subscribe(new Observer())，开始把下一级的Observer传入Observable(被观察者)，可以理解为向左建立关联。</li>
<li> 1，2完成后可以理解为建立双向链表，上游一直持有下游的Observer,开始发送emitter.onNext(“aaaa”);事件。</li>
</ol>
<p>​    除了最后手动建立观察者，中间也建立了观察者，不停的向下发送事件。</p>
<p>​    observable observer都在套娃。</p>
<h5 id="ObservableFlatMap"><a href="#ObservableFlatMap" class="headerlink" title="ObservableFlatMap"></a>ObservableFlatMap</h5><p>接收事件后，创建新的事件发送。</p>
<h4 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h4><h5 id="RxJava的subscribeOn只有第一次生效"><a href="#RxJava的subscribeOn只有第一次生效" class="headerlink" title="RxJava的subscribeOn只有第一次生效?"></a>RxJava的subscribeOn只有第一次生效?</h5><p>​    subscribeOn对subscribe订阅进行处理，针对是订阅流，从后向前流动，所以最前面的一次生效。</p>
<h5 id="RxJava的observeOn多次调用哪个有效"><a href="#RxJava的observeOn多次调用哪个有效" class="headerlink" title="RxJava的observeOn多次调用哪个有效?"></a>RxJava的observeOn多次调用哪个有效?</h5><p>​    observeOn在事件发送的 onNext(T t)进行处理，针对的是观察者流，从前向后流动，所以最后一次生效。</p>
<h4 id="匿名内部类和lambda区别"><a href="#匿名内部类和lambda区别" class="headerlink" title="匿名内部类和lambda区别"></a>匿名内部类和lambda区别</h4><p>[<a target="_blank" rel="noopener" href="https://github.com/CarpenterLee/JavaLambdaInternals/blob/master/2-Lambda%20and%20Anonymous%20Classes(II).md]">https://github.com/CarpenterLee/JavaLambdaInternals/blob/master/2-Lambda%20and%20Anonymous%20Classes(II).md]</a>(<a target="_blank" rel="noopener" href="https://github.com/CarpenterLee/JavaLambdaInternals/blob/master/2-Lambda">https://github.com/CarpenterLee/JavaLambdaInternals/blob/master/2-Lambda</a> and Anonymous Classes(II).md)</p>
<p><strong>匿名内部类仍然是一个类，只是不需要程序员显示指定类名，编译器会自动为该类取名</strong>。因此如果有如下形式的代码，编译之后将会产生两个class文件</p>
<p><strong>Lambda表达式通过*invokedynamic*指令实现，书写Lambda表达式不会产生新的类</strong></p>
<p>推论，this引用的意义</p>
<p>既然Lambda表达式不是内部类的简写，那么Lambda内部的<code>this</code>引用也就跟内部类对象没什么关系了。在Lambda表达式中<code>this</code>的意义跟在表达式外部完全一样。因此下列代码将输出两遍<code>Hello Hoolee</code>，而不是两个引用地址。</p>
<h4 id="Java-函数式接口"><a href="#Java-函数式接口" class="headerlink" title="Java 函数式接口"></a>Java 函数式接口</h4><ol>
<li>java接口</li>
<li>只有一个方法</li>
</ol>
<h5 id="传统方法"><a href="#传统方法" class="headerlink" title="传统方法"></a>传统方法</h5><figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">log</span><span class="params">(<span class="keyword">int</span> level, <span class="keyword">String</span> msg)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (level == <span class="number">1</span>) &#123; <span class="comment">//如果不是1  msg已经拼接 所以造成浪费</span></span><br><span class="line">        System.out.<span class="built_in">println</span>(msg);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(<span class="keyword">String</span>[] args)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">String</span> msgA = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    <span class="keyword">String</span> msgB = <span class="string">&quot;World&quot;</span>;</span><br><span class="line">    <span class="keyword">String</span> msgC = <span class="string">&quot;Java&quot;</span>;</span><br><span class="line">    <span class="built_in">log</span>(<span class="number">1</span>, msgA + msgB + msgC);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="lambda"><a href="#lambda" class="headerlink" title="lambda"></a>lambda</h5><figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">@FunctionalInterface</span><br><span class="line">interface MessageBuilder &#123;</span><br><span class="line">    <span class="built_in">String</span> builderMessage();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private <span class="keyword">static</span> <span class="literal">void</span> showLog(int level, MessageBuilder msg) &#123;</span><br><span class="line">    <span class="keyword">if</span> (level == <span class="number">1</span>) &#123;</span><br><span class="line">        System.out.println(msg.builderMessage());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">public <span class="keyword">static</span> <span class="literal">void</span> main(<span class="built_in">String</span>[] args) &#123;</span><br><span class="line">    <span class="built_in">String</span> msgA = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">    <span class="built_in">String</span> msgB = <span class="string">&quot;World&quot;</span>;</span><br><span class="line">    <span class="built_in">String</span> msgC = <span class="string">&quot;Java&quot;</span>;</span><br><span class="line"></span><br><span class="line">    showLog<span class="function"><span class="params">(<span class="number">1</span>, () -&gt;</span></span></span><br><span class="line"><span class="function"><span class="params">            msgA + msgB + msgC)</span>;</span></span><br><span class="line"><span class="function">    //使用<span class="title">lambda</span>表达式只是作为参数传递，仅仅吧参数传到<span class="title">showLog</span><span class="params">()</span>中</span></span><br><span class="line"><span class="function">    //只有日志等级是1时 才会调用<span class="title">builderMessage</span> 拼接字符串</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">    <span class="title">showLog</span><span class="params">(<span class="number">1</span>, () -&gt; &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">                System.out.println(<span class="string">&quot;1 是否执行&quot;</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">                <span class="keyword">return</span> msgA + msgB + msgC;</span></span></span><br><span class="line"><span class="function"><span class="params">            &#125;</span></span></span><br><span class="line"><span class="function"><span class="params">    )</span>;</span></span><br><span class="line"><span class="function">    <span class="title">showLog</span><span class="params">(<span class="number">2</span>, () -&gt; &#123;</span></span></span><br><span class="line"><span class="function"><span class="params">                System.out.println(<span class="string">&quot;2 是否执行&quot;</span>);</span></span></span><br><span class="line"><span class="function"><span class="params">                <span class="keyword">return</span> msgA + msgB + msgC;</span></span></span><br><span class="line"><span class="function"><span class="params">            &#125;</span></span></span><br><span class="line"><span class="function"><span class="params">    )</span>;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">&#125;</span></span><br></pre></td></tr></table></figure>



<p>这样看来 lambda:  (左边是参数)  -&gt;  {右边是方法体} </p>
<p>方法体是 接口中唯一方法的实现</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1U4411V7Sv?p=5">https://www.bilibili.com/video/BV1U4411V7Sv?p=5</a></p>
<h4 id="RxJava操作符"><a href="#RxJava操作符" class="headerlink" title="RxJava操作符"></a>RxJava操作符</h4><h6 id="Consumer"><a href="#Consumer" class="headerlink" title="Consumer"></a>Consumer</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Consumer</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Performs this operation on the given argument.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> t the input argument</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">accept</span><span class="params">(T t)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">default</span> Consumer&lt;T&gt; <span class="title">andThen</span><span class="params">(Consumer&lt;? <span class="keyword">super</span> T&gt; after)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> (T t) -&gt; &#123; accept(t); after.accept(t); &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h6 id="accept"><a href="#accept" class="headerlink" title="accept"></a>accept</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method</span><span class="params">(String name,Consumer&lt;String&gt; con)</span></span>&#123;</span><br><span class="line">    con.accept(name);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">method(<span class="string">&quot;john&quot;</span>,(String name)-&gt;&#123;</span><br><span class="line">    System.out.println(name);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<h6 id="andThen"><a href="#andThen" class="headerlink" title="andThen"></a>andThen</h6><p>示例1</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">method3</span><span class="params">(String s, Consumer1 con1, Consumer1 con2)</span> </span>&#123;</span><br><span class="line">    con1.andThen3(con2).accept(s);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>等价于</p>
<p>示例2</p>
<figure class="highlight oxygene"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> void <span class="function"><span class="keyword">method</span><span class="params">(String s, Consumer&lt;String&gt; con1, Consumer&lt;Double&gt; con2)</span> <span class="comment">&#123;</span></span></span><br><span class="line"><span class="function"><span class="comment">    con1.accept(s);</span></span></span><br><span class="line"><span class="function"><span class="comment">    con2.accept(Double.parseDouble(s));</span></span></span><br><span class="line"><span class="function"><span class="comment">&#125;</span></span></span><br></pre></td></tr></table></figure>



<figure class="highlight coffeescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">method3(<span class="string">&quot;3.14&quot;</span>, <span class="function"><span class="params">(t)</span> -&gt;</span> &#123;</span><br><span class="line">    System.out.println(t + <span class="string">&quot;15926&quot;</span>);</span><br><span class="line">&#125;, <span class="function"><span class="params">(t)</span> -&gt;</span> &#123;</span><br><span class="line">    System.out.println(t + <span class="string">&quot;jj&quot;</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>



<p>一开始 纳闷 <code> con1.andThen3(con2).accept(s);</code>  为啥还调用一个accept(s)</p>
<p>自定义的Consumer1</p>
<figure class="highlight livescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">@FunctionalInterface</span><br><span class="line">public interface Consumer1 &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Performs this operation on the given argument.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * @param t the input argument</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="literal">void</span> accept(<span class="built_in">String</span> t);</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">    <span class="keyword">default</span> Consumer1 andThen(Consumer1 after) &#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">(<span class="built_in">String</span> t)</span> -&gt;</span> &#123;</span><br><span class="line">            accept(t);</span><br><span class="line">            after.accept(t);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> Consumer1 andThen1(Consumer1 after) &#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">(<span class="built_in">String</span> t)</span> -&gt;</span> &#123;</span><br><span class="line">            accept(t);</span><br><span class="line">            after.accept(t);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> Consumer1 andThen2(Consumer1 after) &#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> <span class="function"><span class="params">(<span class="built_in">String</span> t)</span> -&gt;</span> &#123;</span><br><span class="line">            accept(t);</span><br><span class="line">            accept(t);</span><br><span class="line">            after.accept(t);</span><br><span class="line">            after.accept(t);</span><br><span class="line">        &#125;;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">default</span> Consumer1 andThen3(Consumer1 after) &#123;</span><br><span class="line">        Consumer1 <span class="function"><span class="title">m</span> = <span class="params">(<span class="built_in">String</span> t)</span> -&gt;</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;接收参数 t : &quot;</span>+t);</span><br><span class="line"></span><br><span class="line">            after.accept(t);</span><br><span class="line">            accept(t);</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> m;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我的理解 ：</p>
<ol>
<li><p>可以看 lambda 延迟调用的示例，当调用accept(s)方法 才开始调用方法体 <code>&#123; accept(t); after.accept(t); &#125;</code>的方法，</p>
</li>
<li><p>返回lambda,可以当作匿名内部类的语法糖, <code>accept(s)</code>当作匿名内部类的方法， s作为参数 传入到 <code>(T t) -&gt; &#123; accept(t); after.accept(t); &#125;</code>  t中</p>
<p>通过下面这个示例可以验证</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="class"><span class="keyword">interface</span> <span class="title">MessageBuilder1</span> </span>&#123;</span><br><span class="line">    <span class="function">String <span class="title">builderMessage</span><span class="params">(<span class="keyword">int</span> param)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">showLog1</span><span class="params">(<span class="keyword">int</span> level, MessageBuilder1 msg)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (level == <span class="number">1</span>) &#123;</span><br><span class="line">        System.out.println(msg.builderMessage(<span class="number">5</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">showLog1(<span class="number">1</span>, (t) -&gt; &#123;</span><br><span class="line">    System.out.println(t);</span><br><span class="line">    <span class="keyword">return</span> msgA + msgB + msgC;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>输出</p>
<p>5<br>HelloWorldJava</p>
</li>
</ol>
<h6 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h6><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">package</span> java.util.function;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Represents a function that accepts one argument and produces a result.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * &lt;p&gt;This is a &lt;a href=&quot;package-summary.html&quot;&gt;functional interface&lt;/a&gt;</span></span><br><span class="line"><span class="comment"> * whose functional method is &#123;<span class="doctag">@link</span> #apply(Object)&#125;.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T&gt; the type of the input to the function</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;R&gt; the type of the result of the function</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">interface</span> <span class="title">Function</span>&lt;<span class="title">T</span>, <span class="title">R</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Applies this function to the given argument.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> t the function argument</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> the function result</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function">R <span class="title">apply</span><span class="params">(T t)</span></span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns a composed function that first applies the &#123;<span class="doctag">@code</span> before&#125;</span></span><br><span class="line"><span class="comment">     * function to its input, and then applies this function to the result.</span></span><br><span class="line"><span class="comment">     * If evaluation of either function throws an exception, it is relayed to</span></span><br><span class="line"><span class="comment">     * the caller of the composed function.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;V&gt; the type of input to the &#123;<span class="doctag">@code</span> before&#125; function, and to the</span></span><br><span class="line"><span class="comment">     *           composed function</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> before the function to apply before this function is applied</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a composed function that first applies the &#123;<span class="doctag">@code</span> before&#125;</span></span><br><span class="line"><span class="comment">     * function and then applies this function</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NullPointerException if before is null</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> #andThen(Function)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">default</span> &lt;V&gt; <span class="function">Function&lt;V, R&gt; <span class="title">compose</span><span class="params">(Function&lt;? <span class="keyword">super</span> V, ? extends T&gt; before)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(before);</span><br><span class="line">        <span class="keyword">return</span> (V v) -&gt; apply(before.apply(v));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns a composed function that first applies this function to</span></span><br><span class="line"><span class="comment">     * its input, and then applies the &#123;<span class="doctag">@code</span> after&#125; function to the result.</span></span><br><span class="line"><span class="comment">     * If evaluation of either function throws an exception, it is relayed to</span></span><br><span class="line"><span class="comment">     * the caller of the composed function.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;V&gt; the type of output of the &#123;<span class="doctag">@code</span> after&#125; function, and of the</span></span><br><span class="line"><span class="comment">     *           composed function</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> after the function to apply after this function is applied</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a composed function that first applies this function and then</span></span><br><span class="line"><span class="comment">     * applies the &#123;<span class="doctag">@code</span> after&#125; function</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> NullPointerException if after is null</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> #compose(Function)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">default</span> &lt;V&gt; <span class="function">Function&lt;T, V&gt; <span class="title">andThen</span><span class="params">(Function&lt;? <span class="keyword">super</span> R, ? extends V&gt; after)</span> </span>&#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> (T t) -&gt; after.apply(apply(t));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Returns a function that always returns its input argument.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt; the type of the input and output objects to the function</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> a function that always returns its input argument</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; <span class="function">Function&lt;T, T&gt; <span class="title">identity</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> t -&gt; t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compute</span><span class="params">(<span class="keyword">int</span> a, Function&lt;Integer,Integer&gt; function)</span></span>&#123;</span><br><span class="line">    <span class="keyword">int</span> reuslt = function.apply(a); <span class="comment">//  相当于 2 * value  操作</span></span><br><span class="line">    <span class="keyword">return</span> reuslt;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">FunctionTest functionTest = <span class="keyword">new</span> FunctionTest();</span><br><span class="line">functionTest.compute(<span class="number">1</span>,value-&gt;&#123;<span class="keyword">return</span>  <span class="number">2</span> * value ;&#125;);</span><br><span class="line"></span><br><span class="line">Function&lt;Integer,Integer&gt; function = value -&gt; value *<span class="number">2</span>;</span><br><span class="line">functionTest.compute(<span class="number">1</span>,function);</span><br><span class="line"></span><br><span class="line">function.compose(function);</span><br></pre></td></tr></table></figure>



<p> RxJava 思考</p>
<p><a target="_blank" rel="noopener" href="https://gank.io/post/560e15be2dca930e00da1083#toc_31">https://gank.io/post/560e15be2dca930e00da1083#toc_31</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903670203547656">https://juejin.im/post/6844903670203547656</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903711416778765">https://juejin.im/post/6844903711416778765</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/7fce2955f2db">https://www.jianshu.com/p/7fce2955f2db</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/6844903838978146317">https://juejin.im/post/6844903838978146317</a></p>

        
        
          <blockquote id="copyright">
              <p>Ursprünglicher Link: <a href="http://noteforme.github.io.com/page/4/index.html">http://noteforme.github.io.com/page/4/index.html</a></p>
              <p>Copyright-Erklärung: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/RxJava/" rel="tag">RxJava</a></li></ul>

          
    <div class="social-share">
      <span>Aktie:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-LifeCycle" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/08/02/LifeCycle/">LifeCycle</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-08-02T12:47:59.000Z" itemprop="datePublished">2020年08月02日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/Jetpack/">Jetpack</a>
  </div>

      
      
<a href="/2020/08/02/LifeCycle/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Gästebuch
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="/2020/08/02/LifeCycle/2021-08-02_8.12_lifecycle.png"></p>
<p>&lt;&lt;&lt;&lt;&lt;&lt;&lt; HEAD<br>LifeCycle应用</p>
<ol>
<li>解藕页面与组件</li>
<li>解藕Service与组件</li>
<li>ProcessLifecycleOwner监听应用程序生命周期</li>
</ol>
<h5 id="解藕页面与组件"><a href="#解藕页面与组件" class="headerlink" title="解藕页面与组件"></a>解藕页面与组件</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyChronometer</span> <span class="keyword">extends</span> <span class="title">Chronometer</span> <span class="keyword">implements</span> <span class="title">LifecycleObserver</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">long</span> elapseTime;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyChronometer</span><span class="params">(Context context, AttributeSet attrs)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(context, attrs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@OnLifecycleEvent(Lifecycle.Event.ON_RESUME)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">startMeter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        setBase(SystemClock.elapsedRealtime() - elapseTime);</span><br><span class="line">        start();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@OnLifecycleEvent(Lifecycle.Event.ON_PAUSE)</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">stopMeter</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        elapseTime = SystemClock.elapsedRealtime() - getBase();</span><br><span class="line">        stop();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chronometer = (MyChronometer)findViewById(R.id.chronometer);</span><br><span class="line">getLifecycle().addObserver(chronometer);</span><br></pre></td></tr></table></figure>



<h5 id="解藕Service与组件"><a href="#解藕Service与组件" class="headerlink" title="解藕Service与组件"></a>解藕Service与组件</h5><p>=======</p>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<blockquote>
<p>d7906d4909f312e25743be4a4c56ad1539df1ea6</p>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>
</blockquote>

        
        
          <blockquote id="copyright">
              <p>Ursprünglicher Link: <a href="http://noteforme.github.io.com/page/4/index.html">http://noteforme.github.io.com/page/4/index.html</a></p>
              <p>Copyright-Erklärung: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Aktie:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-DesignPattern-Chain" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/22/DesignPattern-Chain/">DesignPattern_Chain</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-07-22T14:43:57.000Z" itemprop="datePublished">2020年07月22日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/DesignPatterns/">DesignPatterns</a>
  </div>

      
      
<a href="/2020/07/22/DesignPattern-Chain/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Gästebuch
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h5 id="传统方案OA系统审批问题"><a href="#传统方案OA系统审批问题" class="headerlink" title="传统方案OA系统审批问题"></a>传统方案OA系统审批问题</h5><p><img src="/2020/07/22/DesignPattern-Chain/2021-09-12_7.12.05_oa.png" alt="2021-09-12_7.12.05_oa"></p>
<h5 id="职责链模式介绍"><a href="#职责链模式介绍" class="headerlink" title="职责链模式介绍"></a>职责链模式介绍</h5><p><img src="/2020/07/22/DesignPattern-Chain/2021-09-12_7.10.38_chain_describe.png" alt="2021-09-12_7.10.38_chain_describe"></p>
<p>使多个对象都有机会处理请求，从而避免请求的发送者和接收者之间的耦合关系。将这个对象连城一条链，并沿着这条传递该请求。直到有一个对象处理它为止。</p>
<p>![2021-09-12_7.11.21_ class](DesignPattern-Chain/2021-09-12_7.11.21_ class.png)</p>
<p><img src="/2020/07/22/DesignPattern-Chain/2021-09-12_7.59.12_responsible_role.png" alt="2021-09-12_7.59.12_responsible_role"></p>
<p><img src="/2020/07/22/DesignPattern-Chain/2021-09-12_8.10.25_implement.png" alt="2021-09-12_8.10.25_implement"></p>
<h5 id="大话示例"><a href="#大话示例" class="headerlink" title="大话示例"></a>大话示例</h5><p>chain of Responsibility Pattern</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Request</span> </span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String requestType;</span><br><span class="line">    <span class="keyword">public</span> String requestContent;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">CommonManager</span> <span class="keyword">extends</span>  <span class="title">Manager</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">CommonManager</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">requestApplications</span><span class="params">(Request request)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;请假&quot;</span>.equals(request.requestType)&amp;&amp;request.number&lt;<span class="number">2</span>)&#123;</span><br><span class="line">            System.out.println(name+<span class="string">&quot; &quot;</span>+ request.requestContent+ <span class="string">&quot; 数量   &quot;</span>+ request.number+<span class="string">&quot; 被批准&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (superior!=<span class="keyword">null</span>)</span><br><span class="line">                superior.requestApplications(request);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MajorDomo</span> <span class="keyword">extends</span>  <span class="title">Manager</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MajorDomo</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">requestApplications</span><span class="params">(Request request)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;请假&quot;</span>.equals(request.requestType)&amp;&amp;request.number&lt;<span class="number">5</span>)&#123;</span><br><span class="line">            System.out.println(name+<span class="string">&quot; &quot;</span>+ request.requestContent+ <span class="string">&quot; 数量   &quot;</span>+ request.number+<span class="string">&quot; 被批准&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (superior!=<span class="keyword">null</span>)</span><br><span class="line">                superior.requestApplications(request);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">GeneralManager</span> <span class="keyword">extends</span> <span class="title">Manager</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">GeneralManager</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">void</span> <span class="title">requestApplications</span><span class="params">(Request request)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;请假&quot;</span>.equals(request.requestType) &amp;&amp; request.number &lt; <span class="number">5</span>) &#123;</span><br><span class="line">            System.out.println(name + <span class="string">&quot; &quot;</span> + request.requestContent + <span class="string">&quot; 数量   &quot;</span> + request.number + <span class="string">&quot;  被批准&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;加薪&quot;</span>.equals(request.requestType) &amp;&amp; request.number &lt; <span class="number">500</span>) &#123;</span><br><span class="line">            System.out.println(name + <span class="string">&quot; &quot;</span> + request.requestContent + <span class="string">&quot; 数量   &quot;</span> + request.number + <span class="string">&quot;  被批准&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;加薪&quot;</span>.equals(request.requestType) &amp;&amp; request.number &gt; <span class="number">500</span>) &#123;</span><br><span class="line">            System.out.println(name + <span class="string">&quot; &quot;</span> + request.requestContent + <span class="string">&quot; 数量   &quot;</span> + request.number + <span class="string">&quot;  再说吧&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">CommonManager commonManager = <span class="keyword">new</span> CommonManager(<span class="string">&quot;经理&quot;</span>);</span><br><span class="line">MajorDomo majorDomo = <span class="keyword">new</span> MajorDomo(<span class="string">&quot;总监&quot;</span>);</span><br><span class="line">GeneralManager generalManager = <span class="keyword">new</span> GeneralManager(<span class="string">&quot;总经理&quot;</span>);</span><br><span class="line"></span><br><span class="line">commonManager.setSuperior(majorDomo);<span class="comment">//设置上级</span></span><br><span class="line">majorDomo.setSuperior(generalManager);</span><br><span class="line"></span><br><span class="line">Request request = <span class="keyword">new</span> Request();</span><br><span class="line">request.requestType = <span class="string">&quot;请假&quot;</span>;</span><br><span class="line">request.number = <span class="number">4</span>;</span><br><span class="line">request.requestContent = <span class="string">&quot;去找小姐姐&quot;</span>;</span><br><span class="line">commonManager.requestApplications(request);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">Request request1 = <span class="keyword">new</span> Request();</span><br><span class="line">request1.requestType = <span class="string">&quot;加薪&quot;</span>;</span><br><span class="line">request1.number = <span class="number">888</span>;</span><br><span class="line">request1.requestContent = <span class="string">&quot;给哥加薪&quot;</span>;</span><br><span class="line">commonManager.requestApplications(request1);</span><br><span class="line">  </span><br></pre></td></tr></table></figure>



<h5 id="责任链模式作用"><a href="#责任链模式作用" class="headerlink" title="责任链模式作用"></a>责任链模式作用</h5><p><img src="/2020/07/22/DesignPattern-Chain/2021-09-12_8.44.01_function.png" alt="2021-09-12_8.44.01_function"></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1G4411c7N4?p=149&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1G4411c7N4?p=149&amp;spm_id_from=pageDriver</a></p>

        
        
          <blockquote id="copyright">
              <p>Ursprünglicher Link: <a href="http://noteforme.github.io.com/page/4/index.html">http://noteforme.github.io.com/page/4/index.html</a></p>
              <p>Copyright-Erklärung: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Aktie:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Regular" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/07/20/Regular/">Regular</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-07-20T09:07:08.000Z" itemprop="datePublished">2020年07月20日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/JAVA/">JAVA</a>
  </div>

      
      
<a href="/2020/07/20/Regular/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Gästebuch
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://deerchao.cn/tools/wegester/">https://deerchao.cn/tools/wegester/</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions">https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Regular_Expressions</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jb51.net/shouce/jquery1.82/regexp.html">https://www.jb51.net/shouce/jquery1.82/regexp.html</a></p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><h4 id="字符"><a href="#字符" class="headerlink" title="字符"></a>字符</h4><h5 id="普通字符"><a href="#普通字符" class="headerlink" title="普通字符"></a>普通字符</h5><p>字母、数字、汉字、下划线、以及没有特殊定义的标点符号都是普通字符。直接匹配与之相同的字符</p>
<p>-简单的转义字符</p>
<table>
<thead>
<tr>
<th>\n</th>
<th>换行符</th>
</tr>
</thead>
<tbody><tr>
<td>\t</td>
<td>制表符</td>
</tr>
<tr>
<td>\</td>
<td>\本身</td>
</tr>
</tbody></table>
<p>其他都是类似  ^ $  ( 这样匹配这些字符本身的（还有    ) { } ? + * | [ ]    ）</p>
<h5 id="标准字符集合"><a href="#标准字符集合" class="headerlink" title="标准字符集合"></a>标准字符集合</h5><p> 能够与多种字符匹配的表达式  注意区分大小写 大写是相反的意思</p>
<table>
<thead>
<tr>
<th>\d</th>
<th>任意一个数字，0-9中任意一个     \D 表示所有非数字</th>
</tr>
</thead>
<tbody><tr>
<td>\w</td>
<td>任意一个字母或下划线，也就是A-Z、a-z、0-9、_ 、中的任意一个</td>
</tr>
<tr>
<td>\s</td>
<td>包括空格、制表符、换行符等空白字符中的任意一个</td>
</tr>
<tr>
<td>.</td>
<td>小数点可以匹配任意一个字符（除了换行符）。如果要匹配包括“\n”在内的所有字符，一般用 [\s\S]</td>
</tr>
</tbody></table>
<h5 id="自定义字符集合"><a href="#自定义字符集合" class="headerlink" title="自定义字符集合"></a>自定义字符集合</h5><p>[]方括号匹配方式 ，能够匹配方括号中任意一个字符。^符号在方括号里表示 取反  方括号外表示零宽标记，见后面</p>
<table>
<thead>
<tr>
<th>[ab5@]</th>
<th>匹配 “a”或“b”或“5”或“@”</th>
</tr>
</thead>
<tbody><tr>
<td>[^abc]</td>
<td>匹配“a”、“b”、”c“之外的任意一个字符</td>
</tr>
<tr>
<td>[f-k]</td>
<td>匹配“f”-“k”之间的任意一个字母</td>
</tr>
<tr>
<td>[^A-F0-3]</td>
<td>匹配“A”-“F”，“0”-“3”之外的任意一个字符</td>
</tr>
</tbody></table>
<ul>
<li><p>正则表达式的特殊符号，被包含到中括号中则失去其特殊意义（就表示自身这个字符），除了^,-之外。</p>
</li>
<li><p>标准字符集合，除小数点外，如果被包含于中括号，自定义字符集合将包含该集合。</p>
<p>比如： [\d.-+]将匹配：数字、小数点、+、- 本身意义，除非加转义字符\ </p>
<p>上面两句一个意思呀</p>
</li>
</ul>
<h4 id="量词Quantifier"><a href="#量词Quantifier" class="headerlink" title="量词Quantifier"></a>量词Quantifier</h4><p>修饰匹配次数的特殊符号</p>
<table>
<thead>
<tr>
<th>{n}</th>
<th>表达式重复n次</th>
<th>如：\d{6}  匹配6位数字  \d\d{6} 匹配7位数字  {\d\d}{6} 匹配12位数字</th>
</tr>
</thead>
<tbody><tr>
<td>{m,n}</td>
<td>表达式至少重复m次，最多重复n次</td>
<td></td>
</tr>
<tr>
<td>{m,}</td>
<td>至少重复m次</td>
<td></td>
</tr>
<tr>
<td>？</td>
<td>匹配表达式0次或1次 ，相当于{0，1}</td>
<td>如：a\d{0,1}b  a\d?b  是等价的</td>
</tr>
<tr>
<td>+</td>
<td>表达式至少出现1次,相当于{1，}</td>
<td>如：a\d+b</td>
</tr>
<tr>
<td>*</td>
<td>表达式不出现或出现任意次</td>
<td>相当于{0，}</td>
</tr>
</tbody></table>
<p>匹配次数中的贪婪模式 （匹配字符数越多越好，默认的）如\d{3,6} 会优先匹配 6位数字</p>
<p>匹配次数中的非贪婪模式 （匹配字符越少越好，修饰匹配次数的特殊符号后再加上一个“？”号）</p>
<h4 id="字符边界-零宽，不占长度"><a href="#字符边界-零宽，不占长度" class="headerlink" title="字符边界(零宽，不占长度)"></a>字符边界(零宽，不占长度)</h4><p>-（本组标记匹配的不是字符而是位置，符合某种条件的位置）</p>
<table>
<thead>
<tr>
<th>^</th>
<th>与字符开始的地方匹配</th>
</tr>
</thead>
<tbody><tr>
<td>$</td>
<td>与字符结束的地方匹配</td>
</tr>
<tr>
<td>\b</td>
<td>匹配一个单词边界</td>
</tr>
</tbody></table>
<p>REG : John\b</p>
<p>John 匹配 可以看到 John_    下划线_就是\b的位置，他的左侧n 匹配，但是右侧空格不匹配 \w,所以就是不全是\w,所以匹配。</p>
<p>-\b匹配这样一个位置：前面的字符和后面的字符不全是\w （全是的就不匹配）</p>
<p>如：^i  匹配 i开头的位置    i$ 匹配i结束的位置  hello\b  匹配前后不全是\w表示的hello </p>
<h4 id="匹配模式"><a href="#匹配模式" class="headerlink" title="匹配模式"></a>匹配模式</h4><p>IGNORECASE</p>
<p>忽略大小写 默认情况下正则表达式区分大小写(Case Insensitive)</p>
<p>SINGLELINE</p>
<p>单行模式  整个文本看作一个字符串，只有一个开头，一个结尾。使得小数点“.”可以匹配包含换行符（\n）在内的任意字符</p>
<p>MULTILINE</p>
<p>多行模式 每行都是一个字符串，都有开头和结尾。在指定了此模式后，如果需要仅匹配字符串开始和结束位置，可以使用\A和\Z</p>
<p>如：\Ai匹配 第一行第一个i     ^i 匹配每一行第一个的i   i$匹配每一行的最后一个i  i\Z  匹配整个文档最后一个i</p>
<h4 id="选择符和分组"><a href="#选择符和分组" class="headerlink" title="选择符和分组"></a>选择符和分组</h4><table>
<thead>
<tr>
<th>表达式</th>
<th>作用</th>
<th></th>
</tr>
</thead>
<tbody><tr>
<td>| 分支结构</td>
<td>左右两边表达式之间 “或” 关系，匹配左边或者右边</td>
<td>表示“或”   如 h</td>
</tr>
<tr>
<td>()   捕获组</td>
<td>(1) 在被修饰匹配次数的时候，括号中的表达式可以作为整体被修饰<br><br> (2)取匹配结果的时候，括号中的表达式匹配到的内容可以被单独地编号    <br><br> (3)每一对括号会被分配一个编号，使用（）的捕获根据左括号的顺序从1开始自动编号。捕获元素编号为零的第一 个捕获是由整个正则表达式模式匹配的内容</td>
<td></td>
</tr>
<tr>
<td>(?:Expression) 非捕获组</td>
<td>一些表达式中，不得不使用（），但又不需要保存（）中的子表达式匹配的内容，这时可以用非捕获组来抵消使用（）带来的副作用。节省内存。</td>
<td></td>
</tr>
</tbody></table>
<h4 id="反向引用（-nnn）-nnn表示可以匹配多位数字"><a href="#反向引用（-nnn）-nnn表示可以匹配多位数字" class="headerlink" title="反向引用（\nnn）\nnn表示可以匹配多位数字"></a>反向引用（\nnn）\nnn表示可以匹配多位数字</h4><p>-每一对（）会分配一个编号，使用（）的捕获根据左括号的顺序从1开始自动编号。</p>
<p>-通过反向引用，可以对分组已捕获的字符串进行引用。</p>
<p>  如  ([a-z]{2})\1  中的\1 代表第一个组里的内容,匹配到gogo，toto，dodo这样的字符串。</p>
<p>（）（）（） 捕获的内容分别用\1 \2 \3  编号以左括号为准。</p>
<h4 id="预搜索（零宽断言）（也叫环视）"><a href="#预搜索（零宽断言）（也叫环视）" class="headerlink" title="预搜索（零宽断言）（也叫环视）"></a>预搜索（零宽断言）（也叫环视）</h4><ol>
<li>只进行子表达式的匹配，匹配内容不计入最终的匹配结果，是零宽度。</li>
<li>这个位置应该符合某个条件。判断当前位置的前后字符，是否符合指定的条件，但不匹配前后的字符。<strong>是对位置的匹配</strong>。</li>
<li>正则表达式匹配过程中，如果子表达式匹配到的是字符内容，而非位置，并被保存到最终的匹配结果中，那么就认为这个子表达式是占有字符的；如果子表达式匹配的仅仅是位置，或者匹配的内容并不保存到最终的匹配结果中，那么就认为这个子表达式是零宽度的。占有字符还是零宽度，是针对匹配的内容是否保存到最终的匹配结果中而言的。</li>
</ol>
<table>
<thead>
<tr>
<th>表达式</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td>(?=exp)</td>
<td>断言自身出现的位置的后面能匹配表达式exp</td>
</tr>
<tr>
<td>(?&lt;=exp)</td>
<td>断言自身出现的位置的前面能匹配表达式exp</td>
</tr>
<tr>
<td>(?!exp)</td>
<td>断言此位置的后面不能匹配表达式exp</td>
</tr>
<tr>
<td>(?&lt;!exp)</td>
<td>断言此位置的前面不能匹配表达式exp</td>
</tr>
</tbody></table>
<p>(?&lt;=\d)[a-z]+</p>
<p>22john</p>
<p>如：[a-z]+(?=ing) 匹配ing结尾的字符串，但不匹配ing本身</p>
<pre><code>   [a-z]+(?=\d+) 匹配数字结尾的字符串    
</code></pre>
<h3 id="常用的一些正则表达式"><a href="#常用的一些正则表达式" class="headerlink" title="常用的一些正则表达式"></a>常用的一些正则表达式</h3><h5 id="电话号码验证"><a href="#电话号码验证" class="headerlink" title="电话号码验证"></a>电话号码验证</h5><p>（包含固话和手机号，不能确认号码一定存在，只能匹配格式）</p>
<p>（1）电话号码由数字和“-”构成</p>
<p>（2）电话号码为7-8位</p>
<p>（3）如果电话号码中包含有区号，那么区号为3位或4位，首位是0</p>
<p>（4）区号用“-”和其他部分隔开</p>
<p>（5）移动电话号码为11位</p>
<p>（6）11位移动电话号码的第一位和第二位为“13”“15”“18”</p>
<p> 固话   0\d{2,3}-\d{7,9}   手机号    1[35789]\d{9}</p>
<h5 id="电子邮箱地址验证"><a href="#电子邮箱地址验证" class="headerlink" title="电子邮箱地址验证"></a>电子邮箱地址验证</h5><p>1.用户名：字母、数字、中划线、下划线组成</p>
<p>2.@</p>
<p>3.网址：字母、数字组成</p>
<p>4.小数点。</p>
<p>5.组织域名：2-4位字母组成</p>
<p>不区分大小写</p>
<p>[\w-]+@[a-z0-9A-Z]+(.[A-Za-z]{2,4}){1,2} </p>
<p>如：<a href="mailto:&#x73;&#115;&#x61;&#x68;&#100;&#97;&#104;&#100;&#x40;&#115;&#x69;&#110;&#x61;&#46;&#99;&#111;&#109;&#46;&#99;&#x6e;">&#x73;&#115;&#x61;&#x68;&#100;&#97;&#104;&#100;&#x40;&#115;&#x69;&#110;&#x61;&#46;&#99;&#111;&#109;&#46;&#99;&#x6e;</a></p>
<h5 id="常用正则表达式列表"><a href="#常用正则表达式列表" class="headerlink" title="常用正则表达式列表"></a>常用正则表达式列表</h5><table>
<thead>
<tr>
<th>表达式</th>
<th>功能</th>
</tr>
</thead>
<tbody><tr>
<td>[\u4e00-\u9fa5]</td>
<td>匹配中文字符</td>
</tr>
<tr>
<td>\n\s*\r</td>
<td>匹配空白行</td>
</tr>
<tr>
<td>`&lt;(\S*?)[^&gt;]<em>&gt;.</em>?&lt;/\1&gt;</td>
<td>&lt;.*? /&gt;`</td>
</tr>
<tr>
<td><code>^\s*\s*$</code></td>
<td>匹配首尾空白字符</td>
</tr>
<tr>
<td><code>\w+([-+.]\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*</code></td>
<td>匹配Email地址</td>
</tr>
<tr>
<td><code>[a-zA-z]+://[^\s]*</code></td>
<td>匹配网址URL</td>
</tr>
<tr>
<td><code>\d&#123;3&#125;-\d&#123;8&#125;\d&#123;4&#125;-\d&#123;7&#125;</code></td>
<td>匹配国内电话号码</td>
</tr>
<tr>
<td><code>[1-9][0-9]&#123;4,&#125;</code></td>
<td>匹配腾讯QQ号</td>
</tr>
<tr>
<td><code>[1-9]\d&#123;5&#125;(?!\d)</code></td>
<td>匹配中国邮政编码</td>
</tr>
<tr>
<td><code>\d&#123;15&#125;\d&#123;18&#125;</code></td>
<td>匹配身份证</td>
</tr>
<tr>
<td><code>\d+\.\d+\.\d+\.\d+</code></td>
<td>匹配ip地址</td>
</tr>
</tbody></table>
<h3 id="工作学习中各种环境的使用"><a href="#工作学习中各种环境的使用" class="headerlink" title="工作学习中各种环境的使用"></a>工作学习中各种环境的使用</h3><h5 id="JAVA程序中使用正则表达式"><a href="#JAVA程序中使用正则表达式" class="headerlink" title="JAVA程序中使用正则表达式"></a>JAVA程序中使用正则表达式</h5><p>相关类位于：<strong>java.util.regex包下面</strong>：</p>
<ol>
<li><strong>类 Pattern：</strong><br> 正则表达式的编译表示形式。<br> Pattern p = Pattern.compile(r,int); //建立正则表达式，并启用相应模式</li>
<li><strong>类 Matcher：</strong><br> 通过解释 Pattern 对 character sequence 执行匹配操作的引擎。<br> Matcher m = p.matcher(str); //匹配str字符串</li>
<li><strong>java代码应用正则的查找、分组、替换、分割：</strong></li>
</ol>
<h5 id="查找"><a href="#查找" class="headerlink" title="查找"></a>查找</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.regex.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试正则表达式对象的基本用法</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//在这个字符串：abcd1234，是否符合指定的正则表达式：\w+</span></span><br><span class="line">		<span class="comment">//表达式对象</span></span><br><span class="line">		Pattern p = Pattern.compile(<span class="string">&quot;\\w+&quot;</span>);</span><br><span class="line">		<span class="comment">//创建Matcher对象</span></span><br><span class="line">		Matcher m = p.matcher(<span class="string">&quot;abcd￥￥1234&quot;</span>);</span><br><span class="line">		<span class="comment">//boolean result= m.matches();	//尝试将整个字符序列与该模式匹配</span></span><br><span class="line">		<span class="comment">//System.out.println(result);</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//boolean result= m.find();	//该方法扫描输入的序列，查找与该模式匹配的下一个子序列</span></span><br><span class="line">		</span><br><span class="line">		<span class="comment">//System.out.println(m.find());</span></span><br><span class="line">		<span class="comment">//System.out.println(m.group());</span></span><br><span class="line">		<span class="comment">//System.out.println(m.find());</span></span><br><span class="line">		<span class="comment">//System.out.println(m.group());</span></span><br><span class="line">	</span><br><span class="line">		<span class="keyword">while</span>(m.find())&#123;</span><br><span class="line">			System.out.println(m.group());	<span class="comment">//group(),group(0)匹配整个表达式的子字符串</span></span><br><span class="line">			System.out.println(m.group(<span class="number">0</span>));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="分组"><a href="#分组" class="headerlink" title="分组"></a>分组</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.regex.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试正则表达式对象中分组的处理</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//在这个字符串：abcd1234，是否符合指定的正则表达式：\w+</span></span><br><span class="line">		<span class="comment">//表达式对象</span></span><br><span class="line">		Pattern p = Pattern.compile(<span class="string">&quot;([a-z]+)([0-9]+)&quot;</span>);</span><br><span class="line">		<span class="comment">//创建Matcher对象</span></span><br><span class="line">		Matcher m = p.matcher(<span class="string">&quot;abc123%%abcd234%abcde4567&quot;</span>);</span><br><span class="line">	</span><br><span class="line">		<span class="keyword">while</span>(m.find())&#123;</span><br><span class="line">			System.out.println(m.group());	<span class="comment">//group(),group(0)匹配整个表达式的子字符串</span></span><br><span class="line">			System.out.println(m.group(<span class="number">1</span>));</span><br><span class="line">			System.out.println(m.group(<span class="number">2</span>));</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="替换"><a href="#替换" class="headerlink" title="替换"></a>替换</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.regex.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试正则表达式对象的替换操作</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test3</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		<span class="comment">//表达式对象</span></span><br><span class="line">		Pattern p = Pattern.compile(<span class="string">&quot;[0-9]&quot;</span>);</span><br><span class="line">		<span class="comment">//创建Matcher对象</span></span><br><span class="line">		Matcher m = p.matcher(<span class="string">&quot;abc123%%abcd234%abcde4567&quot;</span>);</span><br><span class="line">		<span class="comment">//替换</span></span><br><span class="line">		String result= m.replaceAll(<span class="string">&quot;#&quot;</span>);</span><br><span class="line">		System.out.println(result);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="分割"><a href="#分割" class="headerlink" title="分割"></a>分割</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.regex.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 测试正则表达式对象的分割字符串的操作</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test4</span> </span>&#123;</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String str = <span class="string">&quot;ab23jk123ji8890123asd&quot;</span>;</span><br><span class="line">		String[] arrs = str.split(<span class="string">&quot;\\d+&quot;</span>);</span><br><span class="line">		System.out.println(Arrays.toString(arrs));</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="手写网络爬虫（基本原理-amp-乱码处理）"><a href="#手写网络爬虫（基本原理-amp-乱码处理）" class="headerlink" title="手写网络爬虫（基本原理&amp;乱码处理）"></a><strong>手写网络爬虫（基本原理&amp;乱码处理）</strong></h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.bjsxt.regex.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.MalformedURLException;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.nio.charset.Charset;</span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Matcher;</span><br><span class="line"><span class="keyword">import</span> java.util.regex.Pattern;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 网络爬虫取链接	</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">WebSpiderTest</span> </span>&#123;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">/**</span></span><br><span class="line"><span class="comment">	 * 获得urlStr对应的网页的源码内容</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@param</span> urlStr</span></span><br><span class="line"><span class="comment">	 * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">	 */</span></span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String  <span class="title">getURLContent</span><span class="params">(String urlStr,String charset)</span></span>&#123;</span><br><span class="line">		StringBuilder sb = <span class="keyword">new</span> StringBuilder();</span><br><span class="line">		<span class="keyword">try</span> &#123;</span><br><span class="line">			URL url = <span class="keyword">new</span> URL(urlStr);</span><br><span class="line">			BufferedReader reader = <span class="keyword">new</span> BufferedReader(<span class="keyword">new</span> InputStreamReader(url.openStream(),Charset.forName(charset)));</span><br><span class="line">			String temp = <span class="string">&quot;&quot;</span>;</span><br><span class="line">			<span class="keyword">while</span>((temp=reader.readLine())!=<span class="keyword">null</span>)&#123;</span><br><span class="line">				sb.append(temp);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125; <span class="keyword">catch</span> (MalformedURLException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">			e.printStackTrace();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">return</span> sb.toString();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;String&gt; <span class="title">getMatherSubstrs</span><span class="params">(String destStr,String regexStr)</span></span>&#123;</span><br><span class="line">		Pattern p = Pattern.compile(regexStr);	<span class="comment">//取到的超链接的地址</span></span><br><span class="line">		Matcher m = p.matcher(destStr);</span><br><span class="line">		List&lt;String&gt; result = <span class="keyword">new</span> ArrayList&lt;String&gt;();</span><br><span class="line">		<span class="keyword">while</span>(m.find())&#123;</span><br><span class="line">			result.add(m.group(<span class="number">1</span>));</span><br><span class="line">		&#125;	</span><br><span class="line">		<span class="keyword">return</span> result;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	</span><br><span class="line">	<span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">		String destStr = getURLContent(<span class="string">&quot;http://www.163.com&quot;</span>,<span class="string">&quot;gbk&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="comment">//Pattern p = Pattern.compile(&quot;&lt;a[\\s\\S]+?&lt;/a&gt;&quot;);//取到的超链接的整个内容</span></span><br><span class="line">		List&lt;String&gt; result = getMatherSubstrs(destStr, <span class="string">&quot;href=\&quot;([\\w\\s./:]+?)\&quot;&quot;</span>);</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">for</span> (String temp : result) &#123;</span><br><span class="line">			System.out.println(temp);</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>





<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_39636602/article/details/101236461">https://blog.csdn.net/qq_39636602/article/details/101236461</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/ziishaned/learn-regex/blob/master/translations/README-cn.md">https://github.com/ziishaned/learn-regex/blob/master/translations/README-cn.md</a></p>
<p><a target="_blank" rel="noopener" href="https://regexr.com/">https://regexr.com/</a></p>

        
        
          <blockquote id="copyright">
              <p>Ursprünglicher Link: <a href="http://noteforme.github.io.com/page/4/index.html">http://noteforme.github.io.com/page/4/index.html</a></p>
              <p>Copyright-Erklärung: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Aktie:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>



    <nav id="page-nav">

<a class="extend prev" rel="prev" href="/page/3/">Vorheriger</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><span class="page-number current">4</span><a class="page-number" href="/page/5/">5</a><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/18/">18</a><a class="extend next" rel="next" href="/page/5/">Nächster</a>
</nav>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-posts"></i> Letzte</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/11/23/Font/">Font</a>
          </li>
        
          <li>
            <a href="/2021/11/08/coroutine-begin/">coroutine_begin</a>
          </li>
        
          <li>
            <a href="/2021/11/06/Language/">Language</a>
          </li>
        
          <li>
            <a href="/2021/10/31/BinarySearch/">BinarySearch</a>
          </li>
        
          <li>
            <a href="/2021/09/11/kotlin-senior2/">kotlin-senior2</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-tag"></i> Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/AOSP/" style="font-size: 20px;">AOSP</a> <a href="/tags/Activity/" style="font-size: 10px;">Activity</a> <a href="/tags/AndroidNewFeatures/" style="font-size: 10px;">AndroidNewFeatures</a> <a href="/tags/Assembly/" style="font-size: 10px;">Assembly</a> <a href="/tags/BLOG/" style="font-size: 10px;">BLOG</a> <a href="/tags/ConstraintLayout/" style="font-size: 10px;">ConstraintLayout</a> <a href="/tags/DB/" style="font-size: 11.43px;">DB</a> <a href="/tags/DataStructure/" style="font-size: 10px;">DataStructure</a> <a href="/tags/Drawer/" style="font-size: 10px;">Drawer</a> <a href="/tags/Git/" style="font-size: 11.43px;">Git</a> <a href="/tags/JVM/" style="font-size: 18.57px;">JVM</a> <a href="/tags/Kotlin/" style="font-size: 15.71px;">Kotlin</a> <a href="/tags/Operators/" style="font-size: 10px;">Operators</a> <a href="/tags/RxJava/" style="font-size: 14.29px;">RxJava</a> <a href="/tags/THINK/" style="font-size: 10px;">THINK</a> <a href="/tags/TabLayout/" style="font-size: 10px;">TabLayout</a> <a href="/tags/Test/" style="font-size: 14.29px;">Test</a> <a href="/tags/TouchEvent/" style="font-size: 12.86px;">TouchEvent</a> <a href="/tags/VIEW/" style="font-size: 12.86px;">VIEW</a> <a href="/tags/concurrency/" style="font-size: 14.29px;">concurrency</a> <a href="/tags/inter/" style="font-size: 17.14px;">inter</a> <a href="/tags/keyboard/" style="font-size: 10px;">keyboard</a> <a href="/tags/proguard/" style="font-size: 10px;">proguard</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-classify"></i> Kategorien</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ANDROID/">ANDROID</a><span class="category-list-count">56</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/BLE/">BLE</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DataStructure/">DataStructure</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DesignPatterns/">DesignPatterns</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ENGLISH/">ENGLISH</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA/">JAVA</a><span class="category-list-count">25</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Jetpack/">Jetpack</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kotlin/">Kotlin</a><span class="category-list-count">7</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LINUX/">LINUX</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mathematics/">Mathematics</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/">OS</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Organization/">Organization</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TEST/">TEST</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/">TOOL</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/VIEW/">VIEW</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/anim/">anim</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/coroutine/">coroutine</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/flutter/">flutter</a><span class="category-list-count">5</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-archive"></i> Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021年11月</a><span class="archive-list-count">22</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020年12月</a><span class="archive-list-count">45</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019年12月</a><span class="archive-list-count">20</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018年11月</a><span class="archive-list-count">32</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017年12月</a><span class="archive-list-count">57</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-tag"></i> Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOSP/" rel="tag">AOSP</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Activity/" rel="tag">Activity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AndroidNewFeatures/" rel="tag">AndroidNewFeatures</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Assembly/" rel="tag">Assembly</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BLOG/" rel="tag">BLOG</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ConstraintLayout/" rel="tag">ConstraintLayout</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DB/" rel="tag">DB</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DataStructure/" rel="tag">DataStructure</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Drawer/" rel="tag">Drawer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kotlin/" rel="tag">Kotlin</a><span class="tag-list-count">5</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Operators/" rel="tag">Operators</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RxJava/" rel="tag">RxJava</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/THINK/" rel="tag">THINK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TabLayout/" rel="tag">TabLayout</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Test/" rel="tag">Test</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TouchEvent/" rel="tag">TouchEvent</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VIEW/" rel="tag">VIEW</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/concurrency/" rel="tag">concurrency</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/inter/" rel="tag">inter</a><span class="tag-list-count">6</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keyboard/" rel="tag">keyboard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/proguard/" rel="tag">proguard</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-link"></i> Blogroll</h3>
    <div class="widget">
      <ul>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example1.com/">site-name1</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example2.com/">site-name2</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example3.com/">site-name3</a>
        </li>
      
      </ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <a id="totop" href="#top"></a>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>
        <a href="/sitemap.xml">Sitemap</a>
        <span> | </span><a href="/atom.xml">Abonnieren Sie diese Site</a>
        <span> | </span><a href="/about/">Kontaktieren Sie den Blogger</a>
      </p>
      
        <p>
          <i class="fa fa-visitors"></i>
          <i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>
          ，
          <i class="fa fa-views"></i>
          <i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>
        </p>
      
      <p>
        <span>Copyright &copy; 2021 Jon.</span>
        <span>Theme by <a href="https://github.com/chaooo/hexo-theme-BlueLake/" target="_blank">BlueLake.</a></span>
        
            <span>Count by <a href="http://busuanzi.ibruce.info/" target="_blank">busuanzi.</a></span>
        
        <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo.</a></span>
      </p>
    </div>
  </div>
</footer>

    </div>
    
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/search.json.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>






  
<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



  
<script src="/localshare/js/social-share.js"></script>

  
<script src="/localshare/js/qrcode.js"></script>




















  </div>
</body>
</html>