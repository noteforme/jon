<!doctype html>
<html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>Jon&#039;s Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="Jon&#039;s Blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="Jon&#039;s Blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta property="og:type" content="blog"><meta property="og:title" content="Jon&#039;s Blog"><meta property="og:url" content="https://noteforme.github.io/"><meta property="og:site_name" content="Jon&#039;s Blog"><meta property="og:locale" content="en_US"><meta property="og:image" content="https://noteforme.github.io/img/og_image.png"><meta property="article:author" content="Jon"><meta property="twitter:card" content="summary"><meta property="twitter:image:src" content="https://noteforme.github.io/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://noteforme.github.io"},"headline":"Jon's Blog","image":["https://noteforme.github.io/img/og_image.png"],"author":{"@type":"Person","name":"Jon"},"publisher":{"@type":"Organization","name":"Jon's Blog","logo":{"@type":"ImageObject","url":"https://noteforme.github.io/img/logo.svg"}},"description":""}</script><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@11.7.0/styles/atom-one-light.css"><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><!--!--><!--!--><!--!--><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/css/justifiedGallery.min.css"><!--!--><!--!--><style>.pace{-webkit-pointer-events:none;pointer-events:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.pace-inactive{display:none}.pace .pace-progress{background:#3273dc;position:fixed;z-index:2000;top:0;right:100%;width:100%;height:2px}</style><script src="https://cdn.jsdelivr.net/npm/pace-js@1.2.4/pace.min.js"></script><!--!--><!--!--><!-- hexo injector head_end start --><script>
  (function () {
      function switchTab() {
          if (!location.hash) {
            return;
          }

          const id = '#' + CSS.escape(location.hash.substring(1));
          const $tabMenu = document.querySelector(`.tabs a[href="${id}"]`);
          if (!$tabMenu) {
            return;
          }

          const $tabMenuContainer = $tabMenu.parentElement.parentElement;
          Array.from($tabMenuContainer.children).forEach($menu => $menu.classList.remove('is-active'));
          Array.from($tabMenuContainer.querySelectorAll('a'))
              .map($menu => document.getElementById($menu.getAttribute("href").substring(1)))
              .forEach($content => $content.classList.add('is-hidden'));

          if ($tabMenu) {
              $tabMenu.parentElement.classList.add('is-active');
          }
          const $activeTab = document.querySelector(id);
          if ($activeTab) {
              $activeTab.classList.remove('is-hidden');
          }
      }
      switchTab();
      window.addEventListener('hashchange', switchTab, false);
  })();
  </script><!-- hexo injector head_end end --><meta name="generator" content="Hexo 6.3.0"></head><body class="is-2-column"><nav class="navbar navbar-main"><div class="container navbar-container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="Jon&#039;s Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="Search" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-8-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-06-12T07:58:02.000Z" title="6/12/2024, 3:58:02 PM">2024-06-12</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-09-13T21:02:22.000Z" title="9/14/2024, 5:02:22 AM">2024-09-14</time></span><span class="level-item"> Jon </span><span class="level-item"><a class="link-muted" href="/categories/Architecture/">Architecture</a><span> / </span><a class="link-muted" href="/categories/Architecture/DesignPattern/">DesignPattern</a></span><span class="level-item">8 minutes read (About 1165 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/12/uml-relation/">UML Relation</a></p><div class="content"><div class="ez-toc-v2_0_66_1 ez-toc-wrap-right counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction" id="ez-toc-container"><div class="ez-toc-title-container">Table of Contents

<p><span class="ez-toc-title-toggle"><a href="#"><span class="ez-toc-js-icon-con"><span class><span class="eztoc-hide" style="display:none;">Toggle</span><span class="ez-toc-icon-toggle-span"><svg class="list-377408" fill="none" height="20px" style="fill: #999;color:#999" viewbox="0 0 24 24" width="20px" xmlns="http://www.w3.org/2000/svg"><path d="M6 6H4v2h2V6zm14 0H8v2h12V6zM4 11h2v2H4v-2zm16 0H8v2h12v-2zM4 16h2v2H4v-2zm16 0H8v2h12v-2z" fill="currentColor"/></svg><svg baseprofile="tiny" class="arrow-unsorted-368013" height="10px" style="fill: #999;color:#999" version="1.2" viewbox="0 0 24 24" width="10px" xmlns="http://www.w3.org/2000/svg"><path d="M18.2 9.3l-6.2-6.3-6.2 6.3c-.2.2-.3.4-.3.7s.1.5.3.7c.2.2.4.3.7.3h11c.3 0 .5-.1.7-.3.2-.2.3-.5.3-.7s-.1-.5-.3-.7zM5.8 14.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.5-.3.7s.1.5.3.7z"/></svg></span></span></span></a></span></p></div><nav>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/12/uml-relation/#%E5%B7%A5%E5%85%B7" title="工具">工具</a><p></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/12/uml-relation/#UML%E6%A0%87%E5%87%86%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80%E4%B8%AD5%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%9B%BE" title="UML标准建模语言中5种主要的类型图">UML标准建模语言中5种主要的类型图</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/12/uml-relation/#%E7%B1%BB%E5%9B%BE" title="类图">类图</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/12/uml-relation/#dependency_%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB" title="dependency 依赖关系">dependency 依赖关系</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/12/uml-relation/#generalization_%E6%B3%9B%E5%8C%96%E5%85%B3%E7%B3%BB" title="generalization 泛化关系">generalization 泛化关系</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/12/uml-relation/#realization_%E5%AE%9E%E7%8E%B0%E5%85%B3%E7%B3%BB" title="realization 实现关系">realization 实现关系</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/12/uml-relation/#Association_%E5%85%B3%E8%81%94%E5%85%B3%E7%B3%BB" title="Association 关联关系">Association 关联关系</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/12/uml-relation/#Aggregation_%E8%81%9A%E5%90%88%E5%85%B3%E7%B3%BB" title="Aggregation 聚合关系">Aggregation 聚合关系</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/12/uml-relation/#%E7%BB%84%E5%90%88%E5%85%B3%E7%B3%BB-Composition" title="组合关系-Composition">组合关系-Composition</a><ul>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/12/uml-relation/#drawio%E9%83%A8%E7%BD%B2" title="drawio部署">drawio部署</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/12/uml-relation/#PlantUml" title="PlantUml">PlantUml</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</nav></div># <span class="ez-toc-section" id="%E5%B7%A5%E5%85%B7"></span>工具<span class="ez-toc-section-end"></span>

<p>Android Studio插件</p>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/uml/UML.png"></p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">UML.xmind</span><br></pre></td></tr></table></figure>

<h1 id="UML标准建模语言中5种主要的类型图"><a href="#UML标准建模语言中5种主要的类型图" class="headerlink" title="UML标准建模语言中5种主要的类型图"></a><span class="ez-toc-section" id="UML%E6%A0%87%E5%87%86%E5%BB%BA%E6%A8%A1%E8%AF%AD%E8%A8%80%E4%B8%AD5%E7%A7%8D%E4%B8%BB%E8%A6%81%E7%9A%84%E7%B1%BB%E5%9E%8B%E5%9B%BE"></span><strong>UML标准建模语言中5种主要的类型图</strong><span class="ez-toc-section-end"></span></h1><p><a target="_blank" rel="noopener" href="https://design-patterns.readthedocs.io/zh-cn/latest/read_uml.html">https://design-patterns.readthedocs.io/zh-cn/latest/read_uml.html</a></p>
<p><a target="_blank" rel="noopener" href="https://www.visual-paradigm.com/tw/guide/uml-unified-modeling-language/what-is-uml/">https://www.visual-paradigm.com/tw/guide/uml-unified-modeling-language/what-is-uml/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/shindo/p/5579191.html">https://www.cnblogs.com/shindo/p/5579191.html</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/5e96b1cae51d4546e41beeb3">https://juejin.im/post/5e96b1cae51d4546e41beeb3</a><br><a target="_blank" rel="noopener" href="https://design-patterns.readthedocs.io/zh-cn/latest/read_uml.html">https://design-patterns.readthedocs.io/zh-cn/latest/read_uml.html</a></p>
<h1 id="类图"><a href="#类图" class="headerlink" title="类图"></a><span class="ez-toc-section" id="%E7%B1%BB%E5%9B%BE"></span>类图<span class="ez-toc-section-end"></span></h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(Integer age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="dependency-依赖关系"><a href="#dependency-依赖关系" class="headerlink" title="dependency 依赖关系"></a><span class="ez-toc-section" id="dependency_%E4%BE%9D%E8%B5%96%E5%85%B3%E7%B3%BB"></span>dependency 依赖关系<span class="ez-toc-section-end"></span></h2><ol>
<li>类中用到了对方。</li>
<li>如果是类的成员属性。</li>
<li>如果是方法的返回类型。</li>
<li>是方法接收的参数类型。</li>
<li>方法中使用到。</li>
</ol>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/uml/dependency.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonServiceBean</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> PersonDao personDao;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Person person)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">modify</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Department</span> <span class="variable">department</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Department</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PersonDao</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">IdCard</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Department</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="generalization-泛化关系"><a href="#generalization-泛化关系" class="headerlink" title="generalization 泛化关系"></a><span class="ez-toc-section" id="generalization_%E6%B3%9B%E5%8C%96%E5%85%B3%E7%B3%BB"></span>generalization 泛化关系<span class="ez-toc-section-end"></span></h2><p>泛化关系实际上就是继承关系，他是依赖关系的特例。<br><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/uml/Generalization.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">DataSupport</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">save</span><span class="params">(Object entity)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Object id)</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonServiceBean</span> <span class="keyword">extends</span> <span class="title class_">DataSupport</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="realization-实现关系"><a href="#realization-实现关系" class="headerlink" title="realization 实现关系"></a><span class="ez-toc-section" id="realization_%E5%AE%9E%E7%8E%B0%E5%85%B3%E7%B3%BB"></span>realization 实现关系<span class="ez-toc-section-end"></span></h2><p>A实现B类，就是依赖关系的特例。</p>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/uml/Realization.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//A实现B类，就是依赖关系的特例。</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PersonServiceBean</span> <span class="keyword">implements</span> <span class="title class_">PersonService</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;delte..&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span>  <span class="title class_">PersonService</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Integer id)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Association-关联关系"><a href="#Association-关联关系" class="headerlink" title="Association 关联关系"></a><span class="ez-toc-section" id="Association_%E5%85%B3%E8%81%94%E5%85%B3%E7%B3%BB"></span>Association 关联关系<span class="ez-toc-section-end"></span></h2><p>关联关系实际上是 类与类之间的联系，他是依赖关系的特例。</p>
<p>关联具有导航性（理解成属性）： 即双向关系或单向关系</p>
<p>关系具有多重性： “1” 有且仅有一个，“0”表示0个或者多个，”n…m”表示n到m个</p>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/uml/association.png"></p>
<p>单向一对一关系</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Public <span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="keyword">private</span> IDCard card;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDCard</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p>双向一对一关系</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Public <span class="keyword">class</span> <span class="title class_">Person</span>&#123;</span><br><span class="line">  <span class="keyword">private</span> IDCard card;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IDCard</span>&#123;</span><br><span class="line">  <span class="keyword">private</span> Person person;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="Aggregation-聚合关系"><a href="#Aggregation-聚合关系" class="headerlink" title="Aggregation 聚合关系"></a><span class="ez-toc-section" id="Aggregation_%E8%81%9A%E5%90%88%E5%85%B3%E7%B3%BB"></span>Aggregation 聚合关系<span class="ez-toc-section-end"></span></h2><p>表示整体和部分的关系，整体与部分可以分开。聚合关系是关联关系的特例，所有他具有关联的导航性与多重性。</p>
<p>如:一台电脑由keyboard ,monitor mouse组成，组成电脑的各个配件是可以从电脑上分离处理的，使用带空心菱形的实线表示。</p>
<p><img src="/2024/06/12/uml-relation//aggregation.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Computer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Moniter moniter; <span class="comment">//moniter可以和computer分离</span></span><br><span class="line">    <span class="keyword">private</span> Mouse mouse;<span class="comment">//mouse可以和computer分离</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mouse</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Moniter</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>下面是组合关系</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// computer对象创建moniter,mouse创建， computer销毁也跟着销毁。</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Computer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Moniter</span> <span class="variable">moniter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Moniter</span>(); <span class="comment">//moniter可以和computer不能分离</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Mouse</span> <span class="variable">mouse</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Mouse</span>();<span class="comment">//mouse可以和computer不能分离</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Mouse</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Moniter</span> &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="组合关系-Composition"><a href="#组合关系-Composition" class="headerlink" title="组合关系-Composition"></a><span class="ez-toc-section" id="%E7%BB%84%E5%90%88%E5%85%B3%E7%B3%BB-Composition"></span>组合关系-Composition<span class="ez-toc-section-end"></span></h2><p>也是整体与部分的关系，整体与部分不可以分开。</p>
<p>Person与IDCard Head，Head与Person就是组合关系，IDCard与Person就是聚合关系。</p>
<p>但是如果在程序中Person实体中定义了对 IDCard进行 <strong>级联删除</strong>，即删除Person时连同IDCard一起删除，那么IDCard和Person就是组合了。</p>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/uml/composition.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> IDCard card;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">Head</span> <span class="variable">head</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Head</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">IDCard</span>&#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Head</span>&#123;&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1W4411c77E?p=28&spm_id_from=pageDriver">https://www.bilibili.com/video/BV1W4411c77E?p=28&spm_id_from&#x3D;pageDriver</a></p>
<h4 id="drawio部署"><a href="#drawio部署" class="headerlink" title="drawio部署"></a><span class="ez-toc-section" id="drawio%E9%83%A8%E7%BD%B2"></span>drawio部署<span class="ez-toc-section-end"></span></h4><p>​ <a target="_blank" rel="noopener" href="https://zhangzw.com/posts/20200107.html">https://zhangzw.com/posts/20200107.html</a></p>
<ol>
<li><a target="_blank" rel="noopener" href="https://tomcat.apache.org/download-80.cgi">tomacat</a> 下载,下载 Core下的文件,解压</li>
<li><a target="_blank" rel="noopener" href="https://github.com/jgraph/drawio/releases">Draw</a>下载，解压放到&#x2F;apache-tomcat-8.5.65&#x2F;webapps</li>
<li>启动<code>tomcat chomd +x ./startup.sh  ,</code></li>
</ol>
<p>  <code> sudo ./statup.sh</code></p>
<h4 id="PlantUml"><a href="#PlantUml" class="headerlink" title="PlantUml"></a><span class="ez-toc-section" id="PlantUml"></span>PlantUml<span class="ez-toc-section-end"></span></h4><p><a target="_blank" rel="noopener" href="https://plantuml.com/zh/">https://plantuml.com/zh/</a></p>
<p><a target="_blank" rel="noopener" href="https://tngdigital.yuque.com/tngd-mobile/key-battle/xccdfz">https://tngdigital.yuque.com/tngd-mobile/key-battle/xccdfz</a></p>
<p>时序图都是plantuml,点编辑才能看到code</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-06-11T08:50:10.000Z" title="6/11/2024, 4:50:10 PM">2024-06-11</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-09-13T21:02:22.000Z" title="9/14/2024, 5:02:22 AM">2024-09-14</time></span><span class="level-item"> Jon </span><span class="level-item"><a class="link-muted" href="/categories/JETPACK/">JETPACK</a></span><span class="level-item">5 minutes read (About 821 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/11/viewmodel/">viewmodel</a></p><div class="content"><p>问题, 为什么，这种方式，可以获取application对象</p>
<p>private val myViewModel: MyViewModel by viewModels()</p>
<p>class MyViewModel(application: Application) : AndroidViewModel(application) {</p>
<p><a target="_blank" rel="noopener" href="https://developer.android.com/topic/libraries/architecture/viewmodel">https://developer.android.com/topic/libraries/architecture/viewmodel</a></p>
<p>Share data between fragments</p>
<div class="ez-toc-v2_0_66_1 ez-toc-wrap-right counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction" id="ez-toc-container"><div class="ez-toc-title-container">Table of Contents

<p><span class="ez-toc-title-toggle"><a href="#"><span class="ez-toc-js-icon-con"><span class><span class="eztoc-hide" style="display:none;">Toggle</span><span class="ez-toc-icon-toggle-span"><svg class="list-377408" fill="none" height="20px" style="fill: #999;color:#999" viewbox="0 0 24 24" width="20px" xmlns="http://www.w3.org/2000/svg"><path d="M6 6H4v2h2V6zm14 0H8v2h12V6zM4 11h2v2H4v-2zm16 0H8v2h12v-2zM4 16h2v2H4v-2zm16 0H8v2h12v-2z" fill="currentColor"/></svg><svg baseprofile="tiny" class="arrow-unsorted-368013" height="10px" style="fill: #999;color:#999" version="1.2" viewbox="0 0 24 24" width="10px" xmlns="http://www.w3.org/2000/svg"><path d="M18.2 9.3l-6.2-6.3-6.2 6.3c-.2.2-.3.4-.3.7s.1.5.3.7c.2.2.4.3.7.3h11c.3 0 .5-.1.7-.3.2-.2.3-.5.3-.7s-.1-.5-.3-.7zM5.8 14.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.5-.3.7s.1.5.3.7z"/></svg></span></span></span></a></span></p></div><nav>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/11/viewmodel/#livedata%E5%92%8Cviewmodel%E5%85%B3%E7%B3%BB" title="livedata和viewmodel关系">livedata和viewmodel关系</a><p></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/11/viewmodel/#ViewModel%E5%87%BA%E7%8E%B0%E5%89%8D" title="ViewModel出现前">ViewModel出现前</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/11/viewmodel/#%E4%BD%BF%E7%94%A8" title="使用">使用</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/11/viewmodel/#ViewModel%E4%BF%9D%E6%8C%81%E6%95%B0%E6%8D%AE%E5%8E%9F%E7%90%86" title="ViewModel保持数据原理">ViewModel保持数据原理</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/11/viewmodel/#Unit_test" title="Unit test">Unit test</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/11/viewmodel/#SavedStateHandle" title="SavedStateHandle">SavedStateHandle</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/11/viewmodel/#VisibleForTesting" title="VisibleForTesting">VisibleForTesting</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/11/viewmodel/#viewmodel_share" title="viewmodel share">viewmodel share</a></li>
</ul>
</nav></div># <span class="ez-toc-section" id="livedata%E5%92%8Cviewmodel%E5%85%B3%E7%B3%BB"></span>livedata和viewmodel关系<span class="ez-toc-section-end"></span>

<p>viewmodel中的数据发生变化时通知页面</p>
<h1 id="ViewModel出现前"><a href="#ViewModel出现前" class="headerlink" title="ViewModel出现前"></a><span class="ez-toc-section" id="ViewModel%E5%87%BA%E7%8E%B0%E5%89%8D"></span>ViewModel出现前<span class="ez-toc-section-end"></span></h1><ol>
<li>瞬间数据丢失</li>
<li>异步调用的内存泄漏</li>
<li>类膨胀提高维护难度和测试难度</li>
</ol>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/viewmodel/2021-08-02_8.14_viewmodel.png"></p>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/viewmodel/2021-08-02_8.18_viewmodel.png"></p>
<p>Share data between fragments</p>
<p>It’s very common that two or more fragments in an activity need to communicate with each other</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">SharedViewModel</span> : <span class="type">ViewModel</span>() &#123;</span><br><span class="line">    <span class="keyword">val</span> selected = MutableLiveData&lt;Item&gt;()</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">select</span><span class="params">(item: <span class="type">Item</span>)</span></span> &#123;</span><br><span class="line">        selected.value = item</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MasterFragment</span> : <span class="type">Fragment</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">lateinit</span> <span class="keyword">var</span> itemSelector: Selector</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use the &#x27;by activityViewModels()&#x27; Kotlin property delegate</span></span><br><span class="line">    <span class="comment">// from the fragment-ktx artifact</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> model: SharedViewModel <span class="keyword">by</span> activityViewModels()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onViewCreated</span><span class="params">(view: <span class="type">View</span>, savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onViewCreated(view, savedInstanceState)</span><br><span class="line">        itemSelector.setOnClickListener &#123; item -&gt;</span><br><span class="line">            <span class="comment">// Update the UI</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">DetailFragment</span> : <span class="type">Fragment</span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Use the &#x27;by activityViewModels()&#x27; Kotlin property delegate</span></span><br><span class="line">    <span class="comment">// from the fragment-ktx artifact</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> model: SharedViewModel <span class="keyword">by</span> activityViewModels()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onViewCreated</span><span class="params">(view: <span class="type">View</span>, savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onViewCreated(view, savedInstanceState)</span><br><span class="line">        model.selected.observe(viewLifecycleOwner, Observer&lt;Item&gt; &#123; item -&gt;</span><br><span class="line">            <span class="comment">// Update the UI</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://codelabs.developers.google.com/codelabs/android-lifecycles/#0">https://codelabs.developers.google.com/codelabs/android-lifecycles/#0</a></p>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a><span class="ez-toc-section" id="%E4%BD%BF%E7%94%A8"></span>使用<span class="ez-toc-section-end"></span></h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyViewModel</span>  <span class="keyword">extends</span> <span class="title class_">ViewModel</span> &#123; </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyViewModel</span><span class="params">(Application application)</span>&#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> number;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyViewModel</span> <span class="keyword">extends</span> <span class="title class_">AndroidViewModel</span> &#123; <span class="comment">//需要用到application就用AndroidViewModel</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyViewModel</span><span class="params">(Application application)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(application);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ViewModel保持数据原理"><a href="#ViewModel保持数据原理" class="headerlink" title="ViewModel保持数据原理"></a><span class="ez-toc-section" id="ViewModel%E4%BF%9D%E6%8C%81%E6%95%B0%E6%8D%AE%E5%8E%9F%E7%90%86"></span>ViewModel保持数据原理<span class="ez-toc-section-end"></span></h1><ol>
<li>使用</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">viewModel = <span class="keyword">new</span> <span class="title class_">ViewModelProvider</span>(<span class="built_in">this</span>, <span class="keyword">new</span> <span class="title class_">ViewModelProvider</span>.AndroidViewModelFactory(getApplication())).get(MyViewModel.class);</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>owner.getViewModelStore()</li>
</ol>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">ViewModelProvider</span><span class="params">(<span class="meta">@NonNull</span> ViewModelStoreOwner owner, <span class="meta">@NonNull</span> Factory factory)</span> &#123;</span><br><span class="line">   <span class="built_in">this</span>(owner.getViewModelStore(), factory);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ol start="3">
<li>ComponentActivity</li>
</ol>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> ViewModelStore <span class="title function_">getViewModelStore</span><span class="params">()</span> &#123;</span><br><span class="line">   <span class="keyword">if</span> (getApplication() == <span class="literal">null</span>) &#123;</span><br><span class="line">       <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalStateException</span>(<span class="string">&quot;Your activity is not yet attached to the &quot;</span></span><br><span class="line">               + <span class="string">&quot;Application instance. You can&#x27;t request ViewModel before onCreate call.&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">if</span> (mViewModelStore == <span class="literal">null</span>) &#123;</span><br><span class="line">       <span class="type">NonConfigurationInstances</span> <span class="variable">nc</span> <span class="operator">=</span></span><br><span class="line">               (NonConfigurationInstances) getLastNonConfigurationInstance(); <span class="comment">//拿到上次屏幕的状态</span></span><br><span class="line">       <span class="keyword">if</span> (nc != <span class="literal">null</span>) &#123;</span><br><span class="line">           <span class="comment">// Restore the ViewModelStore from NonConfigurationInstances</span></span><br><span class="line">           mViewModelStore = nc.viewModelStore; <span class="comment">// 获取上次的mViewModelStore，里面保存有HashMap&lt;string viewmodel=&quot;&quot;&gt; mMap</span></span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">if</span> (mViewModelStore == <span class="literal">null</span>) &#123;</span><br><span class="line">           mViewModelStore = <span class="keyword">new</span> <span class="title class_">ViewModelStore</span>();</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="keyword">return</span> mViewModelStore;</span><br><span class="line">&#125;&lt;/string&gt;</span><br></pre></td></tr></table></figure>

<p>所以ViewModel横竖屏切换保存数据的秘诀就是</p>
<p>&#x2F;&#x2F;拿到上次屏幕的状态,获取上次的mViewModelStore，里面保存有HashMap&lt;String, ViewModel&gt; mMap,接着通过.get(MyViewModel.class);获取ViewModel,如果获取不到就反射newInstance()一个。</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Hh411a7LX?p=6&spm_id_from=pageDriver">https://www.bilibili.com/video/BV1Hh411a7LX?p=6&spm_id_from&#x3D;pageDriver</a></p>
<h1 id="Unit-test"><a href="#Unit-test" class="headerlink" title="Unit test"></a><span class="ez-toc-section" id="Unit_test"></span>Unit test<span class="ez-toc-section-end"></span></h1><p><a target="_blank" rel="noopener" href="https://simplifiedcoding.in/all-courses">https://simplifiedcoding.in/all-courses</a></p>
<p><a target="_blank" rel="noopener" href="https://simplifiedcoding.in/course/android-testing-tutorial-from-junit-to-espresso/start/1">https://simplifiedcoding.in/course/android-testing-tutorial-from-junit-to-espresso/start/1</a></p>
<p>点 DOWNLOAD CODE OF SPENDS TRACKER 跳转后就有下载地址</p>
<p>spend-tracker</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=B-dJTFeOAqw">https://www.youtube.com/watch?v=B-dJTFeOAqw</a></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=uH6-HNxK32E">https://www.youtube.com/watch?v=uH6-HNxK32E</a></p>
<h1 id="SavedStateHandle"><a href="#SavedStateHandle" class="headerlink" title="SavedStateHandle"></a><span class="ez-toc-section" id="SavedStateHandle"></span>SavedStateHandle<span class="ez-toc-section-end"></span></h1><p><a target="_blank" rel="noopener" href="https://www.kodeco.com/5212210-jetpack-saved-state-for-viewmodel-getting-started">https://www.kodeco.com/5212210-jetpack-saved-state-for-viewmodel-getting-started</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6907121847024746503">https://juejin.cn/post/6907121847024746503</a></p>
<h1 id="VisibleForTesting"><a href="#VisibleForTesting" class="headerlink" title="VisibleForTesting"></a><span class="ez-toc-section" id="VisibleForTesting"></span>VisibleForTesting<span class="ez-toc-section-end"></span></h1><p>通过上面的代码看出， 被测试的testPrivate方法的可见性还是被改成Protected。也就是,VisibleForTesting只是一个注释，一个元数据metadata，它并没有进入程序逻辑，也没有被转化成字节码byte code 从而被JVM执行。</p>
<p>笔者猜测可能是Guava 的 程序员犯懒了, 即不愿意在unit test里直接利用Reflection来测试私有方法。也没有把私有方法写入另一个类中。所以设计了VisibleForTesting的注解来提醒其他程序员: 这里为了测试私有方法把私有方法改成了Protected(受保护的)并放宽了访问限制。</p>
<p>可是就JAVA本身而言，只有通过Reflection才能真正测试私有方法。</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yanlongpankow/p/6240563.html">https://www.cnblogs.com/yanlongpankow/p/6240563.html</a></p>
<p><a target="_blank" rel="noopener" href="https://jefflin1982.medium.com/android-visiblefortesting%E7%9A%84%E7%94%A8%E9%80%94-5a666a17ba95">https://jefflin1982.medium.com/android-visiblefortesting%E7%9A%84%E7%94%A8%E9%80%94-5a666a17ba95</a></p>
<h1 id="viewmodel-share"><a href="#viewmodel-share" class="headerlink" title="viewmodel share"></a><span class="ez-toc-section" id="viewmodel_share"></span>viewmodel share<span class="ez-toc-section-end"></span></h1><p><a target="_blank" rel="noopener" href="https://github.com/google-developer-training/android-basics-kotlin-cupcake-app/tree/starter">https://github.com/google-developer-training/android-basics-kotlin-cupcake-app/tree/starter</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-06-08T12:35:00.000Z" title="6/8/2024, 8:35:00 PM">2024-06-08</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-09-13T21:02:22.000Z" title="9/14/2024, 5:02:22 AM">2024-09-14</time></span><span class="level-item"> Jon </span><span class="level-item"><a class="link-muted" href="/categories/C/">C++</a></span><span class="level-item">18 minutes read (About 2655 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/08/cplus/">CPLUS</a></p><div class="content"><p><a target="_blank" rel="noopener" href="https://en.cppreference.com/w/">https://en.cppreference.com/w/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=H4s55GgAg0I&amp;list=PLlrATfBNZ98dudnM48yfGUldqGD0S4FFb&amp;index=7">https://www.youtube.com/watch?v=H4s55GgAg0I&amp;list=PLlrATfBNZ98dudnM48yfGUldqGD0S4FFb&amp;index=7</a></p>
<p><a target="_blank" rel="noopener" href="https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#main">https://isocpp.github.io/CppCoreGuidelines/CppCoreGuidelines#main</a></p>
<div class="ez-toc-v2_0_66_1 ez-toc-wrap-right counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction" id="ez-toc-container"><div class="ez-toc-title-container">Table of Contents

<p><span class="ez-toc-title-toggle"><a href="#"><span class="ez-toc-js-icon-con"><span class><span class="eztoc-hide" style="display:none;">Toggle</span><span class="ez-toc-icon-toggle-span"><svg class="list-377408" fill="none" height="20px" style="fill: #999;color:#999" viewbox="0 0 24 24" width="20px" xmlns="http://www.w3.org/2000/svg"><path d="M6 6H4v2h2V6zm14 0H8v2h12V6zM4 11h2v2H4v-2zm16 0H8v2h12v-2zM4 16h2v2H4v-2zm16 0H8v2h12v-2z" fill="currentColor"/></svg><svg baseprofile="tiny" class="arrow-unsorted-368013" height="10px" style="fill: #999;color:#999" version="1.2" viewbox="0 0 24 24" width="10px" xmlns="http://www.w3.org/2000/svg"><path d="M18.2 9.3l-6.2-6.3-6.2 6.3c-.2.2-.3.4-.3.7s.1.5.3.7c.2.2.4.3.7.3h11c.3 0 .5-.1.7-.3.2-.2.3-.5.3-.7s-.1-.5-.3-.7zM5.8 14.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.5-.3.7s.1.5.3.7z"/></svg></span></span></span></a></span></p></div><nav>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#C_Linker_Works" title="C++ Linker Works">C++ Linker Works</a><p></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#header" title="header">header</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#Pointer" title="Pointer">Pointer</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#REFERENCES" title="REFERENCES">REFERENCES</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#%E6%8C%87%E9%92%88%E4%BC%A0%E5%80%BC" title="指针传值">指针传值</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#reference" title="reference">reference</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#CLASSES" title="CLASSES">CLASSES</a><ul>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#move_outside_class" title="move() outside class">move() outside class</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#move_inside_class" title="move() inside class">move() inside class</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#CLASSES_vs_STRUCTS" title="CLASSES vs STRUCTS">CLASSES vs STRUCTS</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#Write_a_C_Class" title="Write a C++ Class">Write a C++ Class</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#static" title="static">static</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#Static_for_Classes_and_Structs" title="Static for Classes and Structs">Static for Classes and Structs</a><ul>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#class_static_method" title="class static method">class static method</a></li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#ENUMS" title="ENUMS">ENUMS</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#Constructors" title="Constructors">Constructors</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#Destructors" title="Destructors">Destructors</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#Inheritance" title="Inheritance">Inheritance</a><ul>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#virtual" title="virtual">virtual</a></li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#Interfaces" title="Interfaces">Interfaces</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#Array" title="Array">Array</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#Strings" title="Strings">Strings</a><ul>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#reference-2" title="reference">reference</a></li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#const" title="const">const</a><ul>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#not_pointer_member" title="not pointer member">not pointer member</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#pointer_member" title="pointer member">pointer member</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#Member_Initializer_Lists" title="Member Initializer Lists">Member Initializer Lists</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#CREATEINSTANTIATE_OBJECTS" title="CREATE/INSTANTIATE OBJECTS">CREATE&#x2F;INSTANTIATE OBJECTS</a><ul>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#stack" title="stack">stack</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#Heap" title="Heap">Heap</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#The_NEW_Keyword" title="The NEW Keyword">The NEW Keyword</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/cplus/#The_Arrow_Operator" title="The Arrow Operator">The Arrow Operator</a></li>
</ul>
</nav></div># <span class="ez-toc-section" id="C_Linker_Works"></span>C++ Linker Works<span class="ez-toc-section-end"></span>

<p>C++中 #include就代表把文件，copy到对应的文件中，如果不用下面的内联，就会爆出重复的Log方法。</p>
<p>inline,只copy方法的内容，不会copy方法体，像这样的</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">initLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">Log</span>(<span class="string">&quot;Init log&quot;</span>);</span><br><span class="line">   内联后被 </span><br><span class="line">      std::cout &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">    替换 </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Log.h</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">inline</span> <span class="type">void</span> <span class="title">Log</span><span class="params">(<span class="type">const</span> <span class="type">char</span> * message)</span></span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>Log.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Log.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">initLog</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">Log</span>(<span class="string">&quot;Init log&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">Log</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *message)</span> </span>&#123; <span class="comment">// 或者在这个方法加上，inline处理也可以</span></span><br><span class="line">    std::cout &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Math.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&quot;Log.h&quot;</span></span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span>  <span class="type">int</span> <span class="title">multiply</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span></span>&#123;</span><br><span class="line">    <span class="built_in">Log</span>(<span class="string">&quot;multiply&quot;</span>);</span><br><span class="line">    <span class="keyword">return</span> a * b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; <span class="built_in">multiply</span>(<span class="number">5</span>,<span class="number">8</span>) &lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="header"><a href="#header" class="headerlink" title="header"></a><span class="ez-toc-section" id="header"></span>header<span class="ez-toc-section-end"></span></h1><p>copy all contents and paste it into that c++ file.</p>
<p>pragma once<br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=9RJTQmK0YPI&amp;list=PLlrATfBNZ98dudnM48yfGUldqGD0S4FFb&amp;index=11">https://www.youtube.com/watch?v=9RJTQmK0YPI&amp;list=PLlrATfBNZ98dudnM48yfGUldqGD0S4FFb&amp;index=11</a></p>
<p>Log.h</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">Log</span><span class="params">(<span class="type">const</span> <span class="type">char</span> * message)</span></span>;</span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">initLog</span><span class="params">()</span></span>; <span class="comment">// 头文件声明后，其他地方可以直接调用了</span></span><br></pre></td></tr></table></figure>

<p>Math.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="built_in">initLog</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Pointer"><a href="#Pointer" class="headerlink" title="Pointer"></a><span class="ez-toc-section" id="Pointer"></span>Pointer<span class="ez-toc-section-end"></span></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    <span class="type">int</span> a  = <span class="number">5</span>;</span><br><span class="line"><span class="comment">//    void* pStr = &amp;a; // 拿到变量的指针，指针不需要类型</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>* pStr =  &amp;a;</span><br><span class="line">    *pStr = <span class="number">10</span> ;<span class="comment">//如果给指针指向对象赋值，就需要类型</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">LOG</span>(a)</span><br></pre></td></tr></table></figure>

<p>output : 10</p>
<h1 id="REFERENCES"><a href="#REFERENCES" class="headerlink" title="REFERENCES"></a><span class="ez-toc-section" id="REFERENCES"></span>REFERENCES<span class="ez-toc-section-end"></span></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">increment</span><span class="params">(<span class="type">int</span> value)</span></span>&#123; <span class="comment">// 只是copy的值过来，原来的数值没有变化</span></span><br><span class="line">    value ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a  = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">increment</span>(a);</span><br><span class="line">    <span class="built_in">LOG</span>(a);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output: 5<br>可以看到，a数值没有增加</p>
<h2 id="指针传值"><a href="#指针传值" class="headerlink" title="指针传值"></a><span class="ez-toc-section" id="%E6%8C%87%E9%92%88%E4%BC%A0%E5%80%BC"></span>指针传值<span class="ez-toc-section-end"></span></h2><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">increment</span><span class="params">(<span class="type">int</span>* value)</span></span>&#123;</span><br><span class="line">    (*value) ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a  = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">increment</span>(&amp;a);</span><br><span class="line">    <span class="built_in">LOG</span>(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output : 6</p>
<h2 id="reference"><a href="#reference" class="headerlink" title="reference"></a><span class="ez-toc-section" id="reference"></span>reference<span class="ez-toc-section-end"></span></h2><p>demo1</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">increment</span><span class="params">(<span class="type">int</span>&amp; value)</span></span>&#123;</span><br><span class="line">    value ++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a  = <span class="number">5</span>;</span><br><span class="line">    <span class="built_in">increment</span>(a);</span><br><span class="line">    <span class="built_in">LOG</span>(a)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output : 6<br>可以看到，传递引用，操作的是同一个内存地址</p>
<p>demo2</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a  = <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> b = <span class="number">8</span>;</span><br><span class="line"><span class="type">int</span> &amp; ref = a; <span class="comment">//定义ref   a</span></span><br><span class="line">ref = b;        <span class="comment">// 操作引用ref,类似于操作a</span></span><br><span class="line"><span class="built_in">LOG</span>(a)</span><br><span class="line"><span class="built_in">LOG</span>(b)</span><br></pre></td></tr></table></figure>

<p>output: 8 8</p>
<p>操作指针</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="type">int</span> a  = <span class="number">5</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> * ref = &amp;a; <span class="comment">// 拿到a的指针，赋值给ref</span></span><br><span class="line">    *ref = <span class="number">2</span>;           <span class="comment">// 操作ref指向的值</span></span><br><span class="line">    ref = &amp;b;</span><br><span class="line">    *ref = <span class="number">1</span>;</span><br><span class="line">    <span class="built_in">LOG</span>(a)</span><br><span class="line">    <span class="built_in">LOG</span>(b)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output , 2 , 1</p>
<h1 id="CLASSES"><a href="#CLASSES" class="headerlink" title="CLASSES"></a><span class="ez-toc-section" id="CLASSES"></span>CLASSES<span class="ez-toc-section-end"></span></h1><h3 id="move-outside-class"><a href="#move-outside-class" class="headerlink" title="move() outside class"></a><span class="ez-toc-section" id="move_outside_class"></span>move() outside class<span class="ez-toc-section-end"></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">    <span class="type">int</span> speed;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">move</span><span class="params">(Player&amp; player,<span class="type">int</span> xa ,<span class="type">int</span> ya)</span></span>&#123;</span><br><span class="line">    player.x += xa * player.speed;</span><br><span class="line">    player.y += ya * player.speed;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    Player player;</span><br><span class="line">    player.x = <span class="number">5</span>;</span><br><span class="line">    player.speed = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">move</span>(player,<span class="number">1</span>,<span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">LOG</span>(player.x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="move-inside-class"><a href="#move-inside-class" class="headerlink" title="move() inside class"></a><span class="ez-toc-section" id="move_inside_class"></span>move() inside class<span class="ez-toc-section-end"></span></h3><p>可以看到player不需要再传入了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">    <span class="type">int</span> speed;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">move</span><span class="params">(<span class="type">int</span> xa, <span class="type">int</span> ya)</span> </span>&#123;</span><br><span class="line">        x += xa * speed;</span><br><span class="line">        y += ya * speed;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Player player;</span><br><span class="line">    player.x = <span class="number">5</span>;</span><br><span class="line">    player.speed = <span class="number">10</span>;</span><br><span class="line">    player.<span class="built_in">move</span>(<span class="number">1</span>, <span class="number">-1</span>);</span><br><span class="line">    <span class="built_in">LOG</span>(player.x)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="CLASSES-vs-STRUCTS"><a href="#CLASSES-vs-STRUCTS" class="headerlink" title="CLASSES vs STRUCTS"></a><span class="ez-toc-section" id="CLASSES_vs_STRUCTS"></span>CLASSES vs STRUCTS<span class="ez-toc-section-end"></span></h1><p>没什么区别， c++为了兼容c<br>struct is publicly defaultly<br>class is private defaultly</p>
<h1 id="Write-a-C-Class"><a href="#Write-a-C-Class" class="headerlink" title="Write a C++ Class"></a><span class="ez-toc-section" id="Write_a_C_Class"></span>Write a C++ Class<span class="ez-toc-section-end"></span></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;iostream&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Log</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> LogLevelError = <span class="number">0</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> LogLevelWarning = <span class="number">1</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> LogLevelInfo = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_LogLevel = LogLevelInfo;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setLevel</span><span class="params">(<span class="type">int</span> level)</span> </span>&#123;</span><br><span class="line">        m_LogLevel = level;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">error</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (m_LogLevel &gt;= LogLevelError) &#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;[error]:&quot;</span> &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">warn</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (m_LogLevel &gt;= LogLevelWarning)&#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;[WARNING]:&quot;</span> &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">info</span><span class="params">(<span class="type">const</span> <span class="type">char</span> *message)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (m_LogLevel &gt;= LogLevelInfo)&#123;</span><br><span class="line">            std::cout &lt;&lt; <span class="string">&quot;[info]:&quot;</span> &lt;&lt; message &lt;&lt; std::endl;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    Log log;</span><br><span class="line">    log.<span class="built_in">setLevel</span>(log.LogLevelWarning);</span><br><span class="line">    log.<span class="built_in">warn</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">    log.<span class="built_in">error</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">    log.<span class="built_in">info</span>(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="static"><a href="#static" class="headerlink" title="static"></a><span class="ez-toc-section" id="static"></span>static<span class="ez-toc-section-end"></span></h1><p>static variable is onnly going to visible to that c++file that you have declared in .</p>
<p>为了避免global variable 产生的问题。<br>static.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">int</span> s_Variable = <span class="number">10</span>; <span class="comment">//去掉static就会报错,默认private</span></span><br></pre></td></tr></table></figure>

<p>main.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="type">int</span> s_Variable = <span class="number">5</span>;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout&lt;&lt;s_Variable &lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output 5</p>
<p>或者 extern</p>
<p>static.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">static</span> <span class="type">int</span> s_Variable = <span class="number">10</span>; </span><br></pre></td></tr></table></figure>

<p>main.cpp</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> s_Variable;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">    std::cout&lt;&lt;s_Variable &lt;&lt;std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output : 10</p>
<h1 id="Static-for-Classes-and-Structs"><a href="#Static-for-Classes-and-Structs" class="headerlink" title="Static for Classes and Structs"></a><span class="ez-toc-section" id="Static_for_Classes_and_Structs"></span>Static for Classes and Structs<span class="ez-toc-section-end"></span></h1><p>global instance for that class<br>dont have class instance</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line">    <span class="type">int</span> x, y; <span class="comment">// public</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; x &lt;&lt; <span class="string">&quot; , &quot;</span> &lt;&lt; y &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity e;</span><br><span class="line">    e.x = <span class="number">2</span>;</span><br><span class="line">    e.y = <span class="number">3</span>;</span><br><span class="line">    Entity e1 = &#123;<span class="number">5</span>, <span class="number">8</span>&#125;;</span><br><span class="line"></span><br><span class="line">    e.<span class="built_in">print</span>();</span><br><span class="line">    e1.<span class="built_in">print</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output :<br>2 , 3<br>5 , 8</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> x, y;  <span class="comment">// setting static </span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; x &lt;&lt; <span class="string">&quot; , &quot;</span> &lt;&lt; y &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Entity::x;</span><br><span class="line"><span class="type">int</span> Entity::y;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity e;</span><br><span class="line">    e.x = <span class="number">2</span>;</span><br><span class="line">    e.y = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    Entity e1;</span><br><span class="line">    e1.x = <span class="number">5</span>;</span><br><span class="line">    e1.y = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">    e.<span class="built_in">print</span>();</span><br><span class="line">    e1.<span class="built_in">print</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output:<br>5 , 8<br>5 , 8</p>
<p>当我们设置 static int x, y; &#x2F;&#x2F; setting static<br>only one instance of those tow vairables acrossall instances of classed which means<br>when we changed second entity’s x ,y ;<br>e and e1 pointing to the same memory</p>
<p>so we can refer to them like below</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> x, y; <span class="comment">// public</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; x &lt;&lt; <span class="string">&quot; , &quot;</span> &lt;&lt; y &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Entity::x;</span><br><span class="line"><span class="type">int</span> Entity::y;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity e;</span><br><span class="line">    Entity::x = <span class="number">2</span>;</span><br><span class="line">    Entity::y = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    Entity e1;</span><br><span class="line">    Entity::x = <span class="number">5</span>;</span><br><span class="line">    Entity::y = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">    e.<span class="built_in">print</span>();</span><br><span class="line">    e1.<span class="built_in">print</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output:<br>5 , 8<br>5 , 8</p>
<h3 id="class-static-method"><a href="#class-static-method" class="headerlink" title="class static method"></a><span class="ez-toc-section" id="class_static_method"></span>class static method<span class="ez-toc-section-end"></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> x, y; <span class="comment">// public</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">print</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; x &lt;&lt; <span class="string">&quot; , &quot;</span> &lt;&lt; y &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Entity::x;</span><br><span class="line"><span class="type">int</span> Entity::y;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity e;</span><br><span class="line">    Entity::x = <span class="number">2</span>;</span><br><span class="line">    Entity::y = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    Entity e1;</span><br><span class="line">    Entity::x = <span class="number">5</span>;</span><br><span class="line">    Entity::y = <span class="number">8</span>;</span><br><span class="line"></span><br><span class="line">    Entity::<span class="built_in">print</span>();</span><br><span class="line">    Entity::<span class="built_in">print</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output:<br>5 , 8<br>5 , 8</p>
<p>static method cannot access non static variables.<br>casue static method doens have a class instance.</p>
<p>and it works like this , it knows which entitiy is.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">struct</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> x, y;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">static</span> <span class="type">void</span> <span class="title">print</span><span class="params">(Entity e)</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; e.x &lt;&lt; <span class="string">&quot; , &quot;</span> &lt;&lt; e.y &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> Entity::x;</span><br><span class="line"><span class="type">int</span> Entity::y;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity e;</span><br><span class="line">    e.x = <span class="number">2</span>;</span><br><span class="line">    e.y = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">print</span>(e);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ENUMS"><a href="#ENUMS" class="headerlink" title="ENUMS"></a><span class="ez-toc-section" id="ENUMS"></span>ENUMS<span class="ez-toc-section-end"></span></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Log</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">Level</span> &#123;</span><br><span class="line">        ERROR = <span class="number">0</span>, WARNING, INFO</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> LogLevelError = <span class="number">0</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> LogLevelWarning = <span class="number">1</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> LogLevelInfo = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_LogLevel = LogLevelInfo;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setLevel</span><span class="params">(<span class="type">int</span> level)</span> </span>&#123;</span><br><span class="line">        m_LogLevel = level;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Log log;</span><br><span class="line">    std::cout &lt;&lt; log.INFO &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output: 2<br>so we can see the value increasly itself.</p>
<h1 id="Constructors"><a href="#Constructors" class="headerlink" title="Constructors"></a><span class="ez-toc-section" id="Constructors"></span>Constructors<span class="ez-toc-section-end"></span></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line">    <span class="type">int</span> x, y;</span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">int</span> _x, <span class="type">int</span> _y) &#123;</span><br><span class="line">        x = _x;</span><br><span class="line">        y = _y;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Entity <span class="title">e</span><span class="params">(<span class="number">10</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>delete default construcator</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Log</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Log</span>() = <span class="keyword">delete</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//    Log log;  //Call to deleted constructor of &#x27;Log&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Destructors"><a href="#Destructors" class="headerlink" title="Destructors"></a><span class="ez-toc-section" id="Destructors"></span>Destructors<span class="ez-toc-section-end"></span></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line">    <span class="type">int</span> x, y; </span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">int</span> _x, <span class="type">int</span> _y) &#123;</span><br><span class="line">        x = _x;</span><br><span class="line">        y = _y;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Created Entity!&quot;</span>&lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">Entity</span>()&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Destroyed Entity!&quot;</span>&lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="function">Entity <span class="title">e</span><span class="params">(<span class="number">10</span>, <span class="number">20</span>)</span></span>;</span><br><span class="line">    e.~<span class="built_in">Entity</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Inheritance"><a href="#Inheritance" class="headerlink" title="Inheritance"></a><span class="ez-toc-section" id="Inheritance"></span>Inheritance<span class="ez-toc-section-end"></span></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : Entity&#123;&#125;</span><br><span class="line"></span><br><span class="line"># Virtual Functions</span><br><span class="line"></span><br><span class="line">```cpp</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string m_Name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Player</span>(<span class="type">const</span> std::string &amp;mName) : <span class="built_in">m_Name</span>(mName) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::string <span class="title">getName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> m_Name; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity *e = <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">    std::cout &lt;&lt; e-&gt;<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line">    Player *p = <span class="keyword">new</span> <span class="built_in">Player</span>(<span class="string">&quot;john&quot;</span>);</span><br><span class="line">    std::cout &lt;&lt; p-&gt;<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output :<br>Entity<br>john<br>符合预期</p>
<p>添加 Entity* entity &#x3D; p;</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity *e = <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">    std::cout &lt;&lt; e-&gt;<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line">    Player *p = <span class="keyword">new</span> <span class="built_in">Player</span>(<span class="string">&quot;john&quot;</span>);</span><br><span class="line">    std::cout &lt;&lt; p-&gt;<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    Entity* entity = p;</span><br><span class="line">    std::cout &lt;&lt; entity-&gt;<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output:<br>Entity<br>john<br>Entity</p>
<p>和java 类似，预期输出 john,但是实际输出 Entity.</p>
<p>再看一个方法的输出</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function">std::string <span class="title">getName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Entity&quot;</span>; &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Entity</span>() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string m_Name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Player</span>(<span class="type">const</span> std::string &amp;mName) : <span class="built_in">m_Name</span>(mName) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::string <span class="title">getName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> m_Name; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">printName</span><span class="params">(Entity* entity)</span></span>&#123;</span><br><span class="line">    std::cout &lt;&lt; entity-&gt;<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity *e = <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">    <span class="built_in">printName</span>(e);</span><br><span class="line">    Player *p = <span class="keyword">new</span> <span class="built_in">Player</span>(<span class="string">&quot;john&quot;</span>);</span><br><span class="line">    <span class="built_in">printName</span>(p);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output:<br>Entity<br>Entity<br>和预期也是不一致</p>
<h3 id="virtual"><a href="#virtual" class="headerlink" title="virtual"></a><span class="ez-toc-section" id="virtual"></span>virtual<span class="ez-toc-section-end"></span></h3><p>新增</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> std::string <span class="title">getName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Entity&quot;</span>; &#125; <span class="comment">//virtual</span></span><br><span class="line"></span><br><span class="line">    <span class="built_in">Entity</span>() &#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string m_Name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Player</span>(<span class="type">const</span> std::string &amp;mName) : <span class="built_in">m_Name</span>(mName) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::string <span class="title">getName</span><span class="params">()</span> <span class="keyword">override</span></span>&#123; <span class="keyword">return</span> m_Name; &#125; <span class="comment">//override option add</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>新增virtual后<br>output:<br>Entity<br>john<br>和预期一致，类似于java多态。</p>
<h1 id="Interfaces"><a href="#Interfaces" class="headerlink" title="Interfaces"></a><span class="ez-toc-section" id="Interfaces"></span>Interfaces<span class="ez-toc-section-end"></span></h1><p>class 里只有virtual,说明这个class就是一个Interfaces</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Printable</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> std::string <span class="title">getClassName</span><span class="params">()</span> </span>= <span class="number">0</span>;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> : <span class="keyword">public</span> Printable &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> std::string <span class="title">getName</span><span class="params">()</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Entity&quot;</span>; &#125; <span class="comment">//virtual</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">virtual</span> std::string <span class="title">getClassName</span><span class="params">()</span>  <span class="keyword">override</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Entity&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Player</span> : <span class="keyword">public</span> Entity &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string m_Name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Player</span>(<span class="type">const</span> std::string &amp;mName) : <span class="built_in">m_Name</span>(mName) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function">std::string <span class="title">getClassName</span><span class="params">()</span> <span class="keyword">override</span> </span>&#123; <span class="keyword">return</span> <span class="string">&quot;Player&quot;</span>; &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">(Printable *obj)</span> </span>&#123;</span><br><span class="line">    std::cout &lt;&lt; obj-&gt;<span class="built_in">getClassName</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity *e = <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">    Player *p = <span class="keyword">new</span> <span class="built_in">Player</span>(<span class="string">&quot;john&quot;</span>);</span><br><span class="line">    <span class="built_in">print</span>(e);</span><br><span class="line">    <span class="built_in">print</span>(p);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>output :<br>Entity<br>Player</p>
<h1 id="Array"><a href="#Array" class="headerlink" title="Array"></a><span class="ez-toc-section" id="Array"></span>Array<span class="ez-toc-section-end"></span></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> example[<span class="number">5</span>];</span><br><span class="line"><span class="type">int</span>* ptr = example;</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i) &#123;</span><br><span class="line">    example[i] = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">example[<span class="number">2</span>] = <span class="number">5</span>;</span><br><span class="line">*(ptr + <span class="number">2</span>) = <span class="number">6</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span>* another = <span class="keyword">new</span> <span class="type">int</span>[<span class="number">5</span>];</span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">0</span>; i &lt; <span class="number">5</span>; ++i) &#123;</span><br><span class="line">    another[i] = <span class="number">2</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Strings"><a href="#Strings" class="headerlink" title="Strings"></a><span class="ez-toc-section" id="Strings"></span>Strings<span class="ez-toc-section-end"></span></h1><p>const</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">const</span> <span class="type">char</span> *name = <span class="string">&quot;Cherno&quot;</span>; <span class="comment">// will change the character</span></span><br><span class="line">name[<span class="number">2</span>] = <span class="string">&#x27;a&#x27;</span>; <span class="comment">//Read-only variable is not assignable</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">printString</span><span class="params">(std::string string)</span> </span>&#123;</span><br><span class="line">    string += <span class="string">&quot;h&quot;</span>;</span><br><span class="line">    std::cout &lt;&lt; string &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::string name = std::<span class="built_in">string</span>(<span class="string">&quot;john&quot;</span>) + <span class="string">&quot; hello&quot;</span>;</span><br><span class="line">    <span class="built_in">printString</span>(name);</span><br><span class="line">    std::cout &lt;&lt; name &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output:<br>john helloh<br>john hello &#x2F;&#x2F; name的h没有，数据没变化</p>
<h3 id="reference-1"><a href="#reference-1" class="headerlink" title="reference"></a><span class="ez-toc-section" id="reference-2"></span>reference<span class="ez-toc-section-end"></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">void</span> <span class="title">printString</span><span class="params">(std::string &amp;string)</span> </span>&#123; </span><br><span class="line">    string += <span class="string">&quot;h&quot;</span>;</span><br><span class="line">    std::cout &lt;&lt; string &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    std::string name = std::<span class="built_in">string</span>(<span class="string">&quot;john&quot;</span>) + <span class="string">&quot; hello&quot;</span>;</span><br><span class="line">    <span class="built_in">printString</span>(name);</span><br><span class="line">    std::cout &lt;&lt; name &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output:<br>john helloh<br>john helloh<br>值发生的变化</p>
<h1 id="const"><a href="#const" class="headerlink" title="const"></a><span class="ez-toc-section" id="const"></span>const<span class="ez-toc-section-end"></span></h1><p>不能修改指针指向内容的值 *a<br>但是指针a可以修改</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> MAX_AGE = <span class="number">90</span>;</span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> *a = <span class="keyword">new</span> <span class="type">int</span>; <span class="comment">// 不能修改指针指向内容的值,指针的值可以修改</span></span><br><span class="line">    <span class="type">int</span> <span class="type">const</span>* a = <span class="keyword">new</span> <span class="type">int</span>; <span class="comment">// 和上面写法一样</span></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span>* a = <span class="keyword">new</span> <span class="type">int</span>; <span class="comment">//和上面写法一样</span></span><br><span class="line"></span><br><span class="line">    <span class="type">int</span>* <span class="type">const</span>  a = <span class="keyword">new</span> <span class="type">int</span>; <span class="comment">//相反: 可以修改指针指向内容的值 ,但是不能修改指针的值</span></span><br><span class="line"></span><br><span class="line">    <span class="type">const</span> <span class="type">int</span> *<span class="type">const</span> a = <span class="keyword">new</span> <span class="type">int</span>; <span class="comment">//不能修改指针指向内容的值,也不能修改指针的值</span></span><br><span class="line"></span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;a point change before &quot;</span> &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line">    a = (<span class="type">int</span> *) &amp;MAX_AGE;   </span><br><span class="line">    std::cout &lt;&lt; *a &lt;&lt; std::endl;  </span><br><span class="line">    std::cout &lt;&lt; <span class="string">&quot;a point change after  &quot;</span> &lt;&lt; a &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>const int *a &#x3D; new int; &#x2F;&#x2F; 不能修改指针指向内容的值,指针的值可以修改</p>
<p>output:<br>a point change before 0x600002620030<br>90<br>a point change after 0x16b886f5c</p>
<h3 id="not-pointer-member"><a href="#not-pointer-member" class="headerlink" title="not pointer member"></a><span class="ez-toc-section" id="not_pointer_member"></span>not pointer member<span class="ez-toc-section-end"></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> m_X, m_Y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">int</span> <span class="title">getX</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line"><span class="comment">//        m_X = 2; // const : cannot modify class member variables</span></span><br><span class="line">        <span class="keyword">return</span> m_X;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setX</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">        m_X = x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<h3 id="pointer-member"><a href="#pointer-member" class="headerlink" title="pointer member"></a><span class="ez-toc-section" id="pointer_member"></span>pointer member<span class="ez-toc-section-end"></span></h3><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    <span class="type">int</span> *m_X, *m_Y;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">const</span> <span class="type">int</span> *<span class="type">const</span> <span class="title">getX</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_X; <span class="comment">// the pointer cannot be modified and the  content m_X,m_Y</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">setX</span><span class="params">(<span class="type">int</span> x)</span> </span>&#123;</span><br><span class="line">        m_X = x;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>

<p>上面两种情况，类似于java. get. set</p>
<h1 id="Member-Initializer-Lists"><a href="#Member-Initializer-Lists" class="headerlink" title="Member Initializer Lists"></a><span class="ez-toc-section" id="Member_Initializer_Lists"></span>Member Initializer Lists<span class="ez-toc-section-end"></span></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string m_Name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>() &#123;</span><br><span class="line">        m_Name = <span class="string">&quot;UnKnown&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">const</span> std::string &amp;name) &#123;</span><br><span class="line">        m_Name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">const</span> std::string &amp;<span class="title">getName</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Name;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity e0;</span><br><span class="line">    std::cout&lt;&lt;e0.getname e1=<span class="string">&quot;&quot;</span> entity=<span class="string">&quot;&quot;</span> std::cout=<span class="string">&quot;&quot;</span>&gt;&lt;/e0.getname&gt;</span><br></pre></td></tr></table></figure>

<p>output:<br>UnKnown<br>john</p>
<p>另一种写法</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string m_Name;</span><br><span class="line">    <span class="type">int</span> m_Score;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>() : <span class="built_in">m_Name</span>(<span class="string">&quot;UnKnown&quot;</span>), <span class="built_in">m_Score</span>(<span class="number">0</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">const</span> std::string &amp;name) : <span class="built_in">m_Name</span>(name) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">const</span> std::string &amp;<span class="title">getName</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Name;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity e0;</span><br><span class="line">    std::cout &lt;&lt; e0.<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line"></span><br><span class="line">    <span class="function">Entity <span class="title">e1</span><span class="params">(<span class="string">&quot;john&quot;</span>)</span></span>;</span><br><span class="line">    std::cout &lt;&lt; e1.<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>可以看出这种写法更简单.而且还有另一个好处，下面来介绍.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Example</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Example</span>() &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Created Example Entity!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Example</span>(<span class="type">int</span> x) &#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;Created Example Entity!&quot;</span> &lt;&lt; x &lt;&lt; <span class="string">&quot;!&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string m_Name;</span><br><span class="line">    Example m_Example; <span class="comment">// 1.  Created Example Entity!   // execute firstly</span></span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>() &#123;</span><br><span class="line">        m_Name = std::<span class="built_in">string</span>(<span class="string">&quot;UnKnown&quot;</span>);</span><br><span class="line">        m_Example = <span class="built_in">Example</span>(<span class="number">8</span>); <span class="comment">//2.  execute secondly</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">const</span> std::string &amp;<span class="title">getName</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Name;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity e0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output:<br>Created Example Entity!<br>Created Example Entity!8!</p>
<p>可以看到，创建了 2个对象。</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string m_Name;</span><br><span class="line">    Example m_Example;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>() : <span class="built_in">m_Example</span>(<span class="number">8</span>) &#123;</span><br><span class="line">        m_Name = std::<span class="built_in">string</span>(<span class="string">&quot;UnKnown&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="function"><span class="type">const</span> std::string &amp;<span class="title">getName</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Name;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity e0;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output:<br>Created Example Entity!8!<br>这样只创建了一个对象。</p>
<h1 id="CREATE-INSTANTIATE-OBJECTS"><a href="#CREATE-INSTANTIATE-OBJECTS" class="headerlink" title="CREATE&#x2F;INSTANTIATE OBJECTS"></a><span class="ez-toc-section" id="CREATEINSTANTIATE_OBJECTS"></span>CREATE&#x2F;INSTANTIATE OBJECTS<span class="ez-toc-section-end"></span></h1><h3 id="stack"><a href="#stack" class="headerlink" title="stack"></a><span class="ez-toc-section" id="stack"></span>stack<span class="ez-toc-section-end"></span></h3><p>栈内存 会自动回收</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    std::string m_Name;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">Entity</span>() : <span class="built_in">m_Name</span>(<span class="string">&quot;UnKnown&quot;</span>) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">Entity</span>(<span class="type">const</span> std::string &amp;name) : <span class="built_in">m_Name</span>(name) &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="type">const</span> std::string &amp;<span class="title">getName</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> m_Name;</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    Entity *e;</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="function">Entity <span class="title">entity</span><span class="params">(<span class="string">&quot;john&quot;</span>)</span></span>;</span><br><span class="line">        e = &amp;entity;</span><br><span class="line">        std::cout &lt;&lt; (*e).<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>IDE不一样,视频中entity 为空的情况，不知道怎么模拟出来,</p>
<h3 id="Heap"><a href="#Heap" class="headerlink" title="Heap"></a><span class="ez-toc-section" id="Heap"></span>Heap<span class="ez-toc-section-end"></span></h3><p>allocated on the heap requires you to manually called delete</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Entity *e;</span><br><span class="line">&#123;</span><br><span class="line">    Entity *entity = <span class="keyword">new</span> <span class="built_in">Entity</span>(<span class="string">&quot;john&quot;</span>);</span><br><span class="line">    e = entity;</span><br><span class="line">    std::cout &lt;&lt; (*e).<span class="built_in">getName</span>() &lt;&lt; std::endl;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="The-NEW-Keyword"><a href="#The-NEW-Keyword" class="headerlink" title="The NEW Keyword"></a><span class="ez-toc-section" id="The_NEW_Keyword"></span>The NEW Keyword<span class="ez-toc-section-end"></span></h1><p>new Entity(“john”);</p>
<h1 id="The-Arrow-Operator"><a href="#The-Arrow-Operator" class="headerlink" title="The Arrow Operator"></a><span class="ez-toc-section" id="The_Arrow_Operator"></span>The Arrow Operator<span class="ez-toc-section-end"></span></h1><figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Entity</span> &#123;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="function"><span class="type">void</span> <span class="title">print</span><span class="params">()</span> <span class="type">const</span> </span>&#123;</span><br><span class="line">        std::cout &lt;&lt; <span class="string">&quot;hello&quot;</span> &lt;&lt; std::endl;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ScopedPtr</span> &#123;</span><br><span class="line"><span class="keyword">private</span>:</span><br><span class="line">    Entity *m_Obj;</span><br><span class="line"><span class="keyword">public</span>:</span><br><span class="line">    <span class="built_in">ScopedPtr</span>(Entity *entity) : <span class="built_in">m_Obj</span>(entity) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    ~<span class="built_in">ScopedPtr</span>() &#123;</span><br><span class="line">        <span class="keyword">delete</span> m_Obj;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    Entity *getObject() &#123;</span></span><br><span class="line"><span class="comment">//        return m_Obj;</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line"></span><br><span class="line">    Entity*  <span class="keyword">operator</span>-&gt;() &#123;</span><br><span class="line">        <span class="keyword">return</span> m_Obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//    ScopedPtr entity = new Entity(); // chatgpt也说这个会编译错误,很奇怪？</span></span><br><span class="line"><span class="comment">//    entity.getObject()-&gt;print();</span></span><br><span class="line"></span><br><span class="line">    ScopedPtr entity = <span class="keyword">new</span> <span class="built_in">Entity</span>();</span><br><span class="line">    entity-&gt;<span class="built_in">print</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>chatgpt也说这个会编译错误<br>这一集视频，没看明白，包括上面的问题。</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-06-08T01:36:41.000Z" title="6/8/2024, 9:36:41 AM">2024-06-08</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-09-13T21:02:22.000Z" title="9/14/2024, 5:02:22 AM">2024-09-14</time></span><span class="level-item"> Jon </span><span class="level-item"><a class="link-muted" href="/categories/NETWORK/">NETWORK</a></span><span class="level-item">5 minutes read (About 736 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/08/netowork-lab0/">Netowork Lab0</a></p><div class="content"><div class="ez-toc-v2_0_66_1 ez-toc-wrap-right counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction" id="ez-toc-container"><div class="ez-toc-title-container">Table of Contents

<p><span class="ez-toc-title-toggle"><a href="#"><span class="ez-toc-js-icon-con"><span class><span class="eztoc-hide" style="display:none;">Toggle</span><span class="ez-toc-icon-toggle-span"><svg class="list-377408" fill="none" height="20px" style="fill: #999;color:#999" viewbox="0 0 24 24" width="20px" xmlns="http://www.w3.org/2000/svg"><path d="M6 6H4v2h2V6zm14 0H8v2h12V6zM4 11h2v2H4v-2zm16 0H8v2h12v-2zM4 16h2v2H4v-2zm16 0H8v2h12v-2z" fill="currentColor"/></svg><svg baseprofile="tiny" class="arrow-unsorted-368013" height="10px" style="fill: #999;color:#999" version="1.2" viewbox="0 0 24 24" width="10px" xmlns="http://www.w3.org/2000/svg"><path d="M18.2 9.3l-6.2-6.3-6.2 6.3c-.2.2-.3.4-.3.7s.1.5.3.7c.2.2.4.3.7.3h11c.3 0 .5-.1.7-.3.2-.2.3-.5.3-.7s-.1-.5-.3-.7zM5.8 14.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.5-.3.7s.1.5.3.7z"/></svg></span></span></span></a></span></p></div><nav>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/netowork-lab0/#environment" title="environment">environment</a><p></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/netowork-lab0/#virtualbox_m1_download" title="virtualbox m1 download">virtualbox m1 download</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/netowork-lab0/#visual_studio" title="visual studio">visual studio</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/netowork-lab0/#connect_to_VM" title="connect to VM">connect to VM</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/netowork-lab0/#LAB0" title="LAB0">LAB0</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/netowork-lab0/#Fetch_a_Web_page" title="Fetch a Web page">Fetch a Web page</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/netowork-lab0/#hello" title="hello">hello</a><br>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/netowork-lab0/#In_a_Web_browser" title="In a Web browser,">In a Web browser,</a><br>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/netowork-lab0/#do_the_same_thing_the_browser_does_by_hand" title="do the same thing the browser does, by hand.">do the same thing the browser does, by hand.</a><br>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/netowork-lab0/#my_lab1" title="my lab1">my lab1</a><br>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/08/netowork-lab0/#Assignment" title="Assignment">Assignment</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav></div># <span class="ez-toc-section" id="environment"></span>environment<span class="ez-toc-section-end"></span>

<p><a target="_blank" rel="noopener" href="https://web.stanford.edu/class/cs144/vm_howto/">https://web.stanford.edu/class/cs144/vm_howto&#x2F;</a><br>username , pwd<br>cs144, cs144</p>
<h2 id="virtualbox-m1-download"><a href="#virtualbox-m1-download" class="headerlink" title="virtualbox m1 download"></a><span class="ez-toc-section" id="virtualbox_m1_download"></span>virtualbox m1 download<span class="ez-toc-section-end"></span></h2><p><a target="_blank" rel="noopener" href="https://www.virtualbox.org/wiki/Download_Old_Builds_7_0">https://www.virtualbox.org/wiki/Download_Old_Builds_7_0</a></p>
<h2 id="visual-studio"><a href="#visual-studio" class="headerlink" title="visual studio"></a><span class="ez-toc-section" id="visual_studio"></span>visual studio<span class="ez-toc-section-end"></span></h2><p>Checkpoint 0: networking warmup (<a target="_blank" rel="noopener" href="https://stanford.zoom.us/rec/play/osIlsm92QUIM9xrJ4jpW7gn1BpsiJ2d7yFiE90sozEv-ZYatCinSnn8Huxe3yQQE8-8EvdPa6TlxJ7g5.lPlgTIJvn6FdU3tO?canPlayFromShare=true&from=share_recording_detail&continueMode=true&componentName=rec-play&originRequestUrl=https://stanford.zoom.us/rec/share/2C8HSVHZcTLlbvLZSd1qj5u7l5RfS-OBo2liMTjvRTcRL-g87VCdsna1fKixRb0H.AfzvlgwJA0C6eGx1" title="intro vide">intro vide</a>o)</p>
<h2 id="connect-to-VM"><a href="#connect-to-VM" class="headerlink" title="connect to VM"></a><span class="ez-toc-section" id="connect_to_VM"></span>connect to VM<span class="ez-toc-section-end"></span></h2><p>ssh connect server</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ip -a</span><br><span class="line">ssh cs144@192.168.64.2</span><br></pre></td></tr></table></figure>

<h1 id="LAB0"><a href="#LAB0" class="headerlink" title="LAB0"></a><span class="ez-toc-section" id="LAB0"></span>LAB0<span class="ez-toc-section-end"></span></h1><h2 id="Fetch-a-Web-page"><a href="#Fetch-a-Web-page" class="headerlink" title="Fetch a Web page"></a><span class="ez-toc-section" id="Fetch_a_Web_page"></span>Fetch a Web page<span class="ez-toc-section-end"></span></h2><h3 id="hello"><a href="#hello" class="headerlink" title="hello"></a><span class="ez-toc-section" id="hello"></span>hello<span class="ez-toc-section-end"></span></h3><h4 id="In-a-Web-browser"><a href="#In-a-Web-browser" class="headerlink" title="In a Web browser,"></a><span class="ez-toc-section" id="In_a_Web_browser"></span>In a Web browser,<span class="ez-toc-section-end"></span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">visit http://cs144.keithw.org/hello and observe the result.</span><br></pre></td></tr></table></figure>

<h4 id="do-the-same-thing-the-browser-does-by-hand"><a href="#do-the-same-thing-the-browser-does-by-hand" class="headerlink" title="do the same thing the browser does, by hand."></a><span class="ez-toc-section" id="do_the_same_thing_the_browser_does_by_hand"></span>do the same thing the browser does, by hand.<span class="ez-toc-section-end"></span></h4><ol>
<li>On your VM, run telnet cs144.keithw.org http . This tells the telnet<br>  program to open a reliable byte stream between your computer and another<br>  computer (named cs144.keithw.org), and with a particular service running onthat computer: the “http” service, for the Hyper-Text Transfer Protocol, used by<br>  the World Wide Web.1<br>  If your computer has been set up properly and is on the Internet, you will see:<br>  user@computer:~$ telnet cs144.keithw.org http<br>  Trying 104.196.238.229…<br>  Connected to cs144.keithw.org.<br>  Escape character is ‘^]‘.<br>  If you need to quit, hold down ctrl and press ] , and then type close .</li>
<li>Type GET &#x2F;hello HTTP&#x2F;1.1 . This tells the server the path part of the URL.<br>  (The part starting with the third slash.)</li>
<li>Type Host: cs144.keithw.org . This tells the server the host part of the<br>  URL. (The part between http:&#x2F;&#x2F; and the third slash.)</li>
<li>Type Connection: close . This tells the server that you are finished<br>  making requests, and it should close the connection as soon as it finishes replying.</li>
<li>Hit the Enter key one more time: . This sends an empty line and tells the<br>  server that you are done with your HTTP request.</li>
<li>If all went well, you will see the same response that your browser saw, preceded<br>  by HTTP headers that tell the browser how to interpret the response</li>
</ol>
<h4 id="my-lab1"><a href="#my-lab1" class="headerlink" title="my lab1"></a><span class="ez-toc-section" id="my_lab1"></span>my lab1<span class="ez-toc-section-end"></span></h4><p>Notice, don’t wait for a timeout when you input ‘telnet cs144.keithw.org http’.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">cs144@vm:~$ telnet cs144.keithw.org http </span><br><span class="line">Trying 104.196.238.229...</span><br><span class="line">Connected to cs144.keithw.org.</span><br><span class="line">Escape character is <span class="string">&#x27;^]&#x27;</span>.</span><br><span class="line">GET /hello HTTP/1.1</span><br><span class="line">Host: cs144.keithw.org</span><br><span class="line">Connection: close             //after inputing all the above commands</span><br><span class="line"></span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Mon, 10 Jun 2024 03:18:22 GMT</span><br><span class="line">Server: Apache</span><br><span class="line">Last-Modified: Thu, 13 Dec 2018 15:45:29 GMT</span><br><span class="line">ETag: <span class="string">&quot;e-57ce93446cb64&quot;</span></span><br><span class="line">Accept-Ranges: bytes</span><br><span class="line">Content-Length: 14</span><br><span class="line">Connection: close</span><br><span class="line">Content-Type: text/plain</span><br><span class="line"></span><br><span class="line">Hello, CS144!</span><br><span class="line">Connection closed by foreign host.</span><br></pre></td></tr></table></figure>

<h4 id="Assignment"><a href="#Assignment" class="headerlink" title="Assignment"></a><span class="ez-toc-section" id="Assignment"></span>Assignment<span class="ez-toc-section-end"></span></h4><p><a target="_blank" rel="noopener" href="http://cs144.keithw.org/lab0/sunjohn">http://cs144.keithw.org/lab0/sunjohn</a></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">cs144@vm:~$ telnet cs144.keithw.org http</span><br><span class="line">GET /lab0/sunjohn HTTP/1.1</span><br><span class="line">Host: cs144.keithw.org</span><br><span class="line">Connection: close             //after inputing all the above commands</span><br><span class="line"></span><br><span class="line">HTTP/1.1 200 OK</span><br><span class="line">Date: Mon, 10 Jun 2024 03:59:20 GMT</span><br><span class="line">Server: Apache</span><br><span class="line">X-You-Said-Your-SunetID-Was: sunjohn</span><br><span class="line">X-Your-Code-Is: 174534</span><br><span class="line">Content-length: 111</span><br><span class="line">Vary: Accept-Encoding</span><br><span class="line">Content-Type: text/plain</span><br><span class="line"></span><br><span class="line">Hello! You told us that your SUNet ID was <span class="string">&quot;sunjohn&quot;</span>. Please see the HTTP headers (above) <span class="keyword">for</span> your secret code.</span><br></pre></td></tr></table></figure>

<p>Send yourself an email<br>这个应该需要stanford内网,应该不用做</p>
<p>目前课程学到lab0<br>3.2 Modern C++: mostly safe but still fast and low-level<br>部分，还是很有意思,后面有时间继续后续的学习.</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-06-07T03:40:36.000Z" title="6/7/2024, 11:40:36 AM">2024-06-07</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-09-13T21:02:22.000Z" title="9/14/2024, 5:02:22 AM">2024-09-14</time></span><span class="level-item"> Jon </span><span class="level-item"><a class="link-muted" href="/categories/Library/">Library</a></span><span class="level-item">3 minutes read (About 511 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/07/gson/">GSON</a></p><div class="content"><div class="ez-toc-v2_0_66_1 ez-toc-wrap-right counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction" id="ez-toc-container"><div class="ez-toc-title-container">Table of Contents

<p><span class="ez-toc-title-toggle"><a href="#"><span class="ez-toc-js-icon-con"><span class><span class="eztoc-hide" style="display:none;">Toggle</span><span class="ez-toc-icon-toggle-span"><svg class="list-377408" fill="none" height="20px" style="fill: #999;color:#999" viewbox="0 0 24 24" width="20px" xmlns="http://www.w3.org/2000/svg"><path d="M6 6H4v2h2V6zm14 0H8v2h12V6zM4 11h2v2H4v-2zm16 0H8v2h12v-2zM4 16h2v2H4v-2zm16 0H8v2h12v-2z" fill="currentColor"/></svg><svg baseprofile="tiny" class="arrow-unsorted-368013" height="10px" style="fill: #999;color:#999" version="1.2" viewbox="0 0 24 24" width="10px" xmlns="http://www.w3.org/2000/svg"><path d="M18.2 9.3l-6.2-6.3-6.2 6.3c-.2.2-.3.4-.3.7s.1.5.3.7c.2.2.4.3.7.3h11c.3 0 .5-.1.7-.3.2-.2.3-.5.3-.7s-.1-.5-.3-.7zM5.8 14.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.5-.3.7s.1.5.3.7z"/></svg></span></span></span></a></span></p></div><nav>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/07/gson/#Running_Gson_source_Codew" title="Running Gson source Codew">Running Gson source Codew</a><p></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/07/gson/#GsonTypes%E7%90%86%E8%A7%A3" title="$Gson$Types理解">$Gson$Types理解</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/07/gson/#Gson%E8%BD%ACmap" title="Gson转map">Gson转map</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/07/gson/#java_parse" title="java parse">java parse</a></li>
</ul>
</nav></div># <span class="ez-toc-section" id="Running_Gson_source_Codew"></span>Running Gson source Codew<span class="ez-toc-section-end"></span>

<p>注释</p>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/gson/20240608090817.jpg"></p>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/gson/20240608091843.jpg"></p>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/gson/20240608091832.jpg"></p>
<p>给GitHub PR</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1JJ41197UK?spm_id_from=333.337.search-card.all.click">https://www.bilibili.com/video/BV1JJ41197UK?spm_id_from&#x3D;333.337.search-card.all.click</a></p>
<p>json格式</p>
<p>数组 [1,2,3]</p>
<p>对象格式 {“key”:”value”}</p>
<h2 id="Gson-Types理解"><a href="#Gson-Types理解" class="headerlink" title="$Gson$Types理解"></a><span class="ez-toc-section" id="GsonTypes%E7%90%86%E8%A7%A3"></span>$Gson$Types理解<span class="ez-toc-section-end"></span></h2><p>官方教程 <a target="_blank" rel="noopener" href="https://github.com/google/gson/blob/master/UserGuide.md" title="官方教程">https://github.com/google/gson/blob/master/UserGuide.md</a></p>
<p>源码分析<br><a target="_blank" rel="noopener" href="http://www.jianshu.com/p/89c314ae8c0b">http://www.jianshu.com/p/89c314ae8c0b</a></p>
<h2 id="Gson转map"><a href="#Gson转map" class="headerlink" title="Gson转map"></a><span class="ez-toc-section" id="Gson%E8%BD%ACmap"></span>Gson转map<span class="ez-toc-section-end"></span></h2><p>Gson可以直接把json转为map,但是在转成map时，默认將int long型的数字,转换成doublel类型</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">sms</span> <span class="operator">=</span> <span class="string">&quot;&#123;\&quot;Code\&quot;:200,\&quot;Data\&quot;:&#123;\&quot;Code\&quot;:\&quot;\&quot;&#125;,\&quot;Message\&quot;:\&quot;发送成功\&quot;&#125;&quot;</span>;</span><br><span class="line">Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">Gson</span>().fromJson(sms, HashMap.class);</span><br></pre></td></tr></table></figure>

<p>这里装成map后，Code值尾 200.0 ,解析方法</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Gson gson = new GsonBuilder()</span><br><span class="line">          .registerTypeAdapter(new TypeToken&lt;TreeMap&lt;String, Object&gt;&gt;() &#123;</span><br><span class="line">          &#125;.getType(), new JsonDeserializer&lt;TreeMap&lt;String, Object&gt;&gt;() &#123;</span><br><span class="line"></span><br><span class="line">              @Override</span><br><span class="line">              public TreeMap&lt;String, Object&gt; deserialize(JsonElement json, Type typeOfT, JsonDeserializationContext context) throws JsonParseException &#123;</span><br><span class="line">                  TreeMap&lt;String, Object&gt; treeMap = new TreeMap&lt;&gt;();</span><br><span class="line">                  JsonObject jsonObject = json.getAsJsonObject();</span><br><span class="line">                  Set&lt;Map.Entry&lt;String, JsonElement&gt;&gt; entrySet = jsonObject.entrySet();</span><br><span class="line">                  for (Map.Entry&lt;String, JsonElement&gt; entry : entrySet) &#123;</span><br><span class="line">                      treeMap.put(entry.getKey(), entry.getValue());</span><br><span class="line">                  &#125;</span><br><span class="line">                  return treeMap;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;).create();</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="http://blog.csdn.net/liangrui_cust/article/details/51197974">参考</a></p>
<ul>
<li><p>map to json(生成json数据)</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">HashMap&lt;string object=&quot;&quot;&gt; map = new HashMap&lt;&gt;();</span><br><span class="line">map.put(&quot;key&quot;, &quot;real_name&quot;);</span><br><span class="line">map.put(&quot;value&quot;, userName);</span><br><span class="line">list.add(map);</span><br><span class="line">map = new HashMap&lt;&gt;();</span><br><span class="line">map.put(&quot;key&quot;, &quot;mobile_phone&quot;);</span><br><span class="line">map.put(&quot;value&quot;, userPhone);</span><br><span class="line">map.put(&quot;hidden&quot;, false);</span><br><span class="line">list.add(map);</span><br><span class="line">userInfo.data = new Gson().toJson(list);&lt;/string&gt;</span><br></pre></td></tr></table></figure></li>
<li><p>kotlin json to object</p>
</li>
</ul>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">val type = object : TypeToken&lt;BaseCount&lt;List&lt;Site&gt;&gt;&gt;() &#123;&#125;.type</span><br><span class="line">var response = gson.fromJson&lt;BaseCount&lt;List&lt;Site&gt;&gt;&gt;(json, type)</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://ask.helplib.com/java/post_498433">https://ask.helplib.com/java/post_498433</a></p>
<h2 id="java-parse"><a href="#java-parse" class="headerlink" title="java parse"></a><span class="ez-toc-section" id="java_parse"></span>java parse<span class="ez-toc-section-end"></span></h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"> public static List&lt;RecipeBean&gt; analysisChild(String receps) throws JSONException &#123;</span><br><span class="line">        List&lt;RecipeBean&gt; list = new ArrayList&lt;&gt;();</span><br><span class="line">//        JSONObject jsonObject = new JSONObject();</span><br><span class="line">        JSONArray jsonArray = new JSONArray(receps);</span><br><span class="line">        for (int i = 0; i &lt; jsonArray.length(); i++) &#123;</span><br><span class="line">            JSONObject object = jsonArray.getJSONObject(i);</span><br><span class="line">            RecipeBean mPatient = new RecipeBean(TYPE_ITEM);</span><br><span class="line">            if (object.has(&quot;drug_name&quot;))&#123;</span><br><span class="line">                mPatient.setDrug_name(object.getString(&quot;drug_name&quot;));</span><br><span class="line">            &#125;</span><br><span class="line">            if (object.has(&quot;drug_num&quot;))&#123;</span><br><span class="line">               mPatient.setDrug_num(object.getString(&quot;drug_num&quot;));</span><br><span class="line">            &#125;</span><br><span class="line">            if (object.has(&quot;frequency&quot;))&#123;</span><br><span class="line">             mPatient.setFrequency(object.getString(&quot;frequency&quot;));</span><br><span class="line">            &#125;</span><br><span class="line">            if (object.has(&quot;num&quot;))&#123;</span><br><span class="line">               mPatient.setNum(object.getString(&quot;num&quot;));</span><br><span class="line">            &#125;</span><br><span class="line">            if (object.has(&quot;drug_num&quot;))&#123;</span><br><span class="line">               mPatient.setDrug_num(object.getString(&quot;drug_num&quot;));</span><br><span class="line">            &#125;</span><br><span class="line">            if (object.has(&quot;pharmacy_type&quot;))&#123;</span><br><span class="line">               mPatient.setPharmacy_type(object.getString(&quot;pharmacy_type&quot;));</span><br><span class="line">            &#125;</span><br><span class="line">            if (object.has(&quot;medicine_num&quot;))&#123;</span><br><span class="line">             mPatient.setMedicine_num(object.getString(&quot;medicine_num&quot;));</span><br><span class="line">            &#125;</span><br><span class="line">            if (object.has(&quot;medicine_unit&quot;))&#123;</span><br><span class="line">              mPatient.setMedicine_unit(object.getString(&quot;medicine_unit&quot;));</span><br><span class="line">            &#125;</span><br><span class="line">            list.add(mPatient);</span><br><span class="line">        &#125;</span><br><span class="line">        return list;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure></div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-06-06T02:13:46.000Z" title="6/6/2024, 10:13:46 AM">2024-06-06</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-09-13T21:02:22.000Z" title="9/14/2024, 5:02:22 AM">2024-09-14</time></span><span class="level-item"> Jon </span><span class="level-item"><a class="link-muted" href="/categories/JAVA/">JAVA</a></span><span class="level-item">17 minutes read (About 2560 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/06/annotation/">Annotation</a></p><div class="content"><p>Annotations are used to provide supplementary information about a program and can be used for a variety of purposes, such as:</p>
<ol>
<li>Information for the compiler: Annotations can be used by the compiler to detect errors or suppress warnings.</li>
<li>Compile-time processing: Software tools can process annotation information to generate code, XML files, etc.</li>
<li>Runtime processing: Some annotations are available to be examined at runtime via reflection.<br>  <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase%2Ftutorial%2F/java/annotations/index.html">https://docs.oracle.com/javase%2Ftutorial%2F/java/annotations/index.html</a></li>
</ol>
<div class="ez-toc-v2_0_66_1 ez-toc-wrap-right counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction" id="ez-toc-container"><div class="ez-toc-title-container">Table of Contents

<p><span class="ez-toc-title-toggle"><a href="#"><span class="ez-toc-js-icon-con"><span class><span class="eztoc-hide" style="display:none;">Toggle</span><span class="ez-toc-icon-toggle-span"><svg class="list-377408" fill="none" height="20px" style="fill: #999;color:#999" viewbox="0 0 24 24" width="20px" xmlns="http://www.w3.org/2000/svg"><path d="M6 6H4v2h2V6zm14 0H8v2h12V6zM4 11h2v2H4v-2zm16 0H8v2h12v-2zM4 16h2v2H4v-2zm16 0H8v2h12v-2z" fill="currentColor"/></svg><svg baseprofile="tiny" class="arrow-unsorted-368013" height="10px" style="fill: #999;color:#999" version="1.2" viewbox="0 0 24 24" width="10px" xmlns="http://www.w3.org/2000/svg"><path d="M18.2 9.3l-6.2-6.3-6.2 6.3c-.2.2-.3.4-.3.7s.1.5.3.7c.2.2.4.3.7.3h11c.3 0 .5-.1.7-.3.2-.2.3-.5.3-.7s-.1-.5-.3-.7zM5.8 14.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.5-.3.7s.1.5.3.7z"/></svg></span></span></span></a></span></p></div><nav>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#%E6%B3%A8%E8%A7%A3" title="注解">注解</a><p></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8" title="注解的作用">注解的作用</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#Annotations_That_Apply_to_Other_Annotations" title="Annotations That Apply to Other Annotations">Annotations That Apply to Other Annotations</a><ul>
<li><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#Retention" title="@Retention">@Retention</a><br>  - <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#RetentionPolicySOURCE" title="RetentionPolicy.SOURCE">RetentionPolicy.SOURCE</a><br>  - <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#RetentionPolicyCLASS" title="RetentionPolicy.CLASS">RetentionPolicy.CLASS</a><br>  - <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#RetentionPolicyRUNTIME" title="RetentionPolicy.RUNTIME">RetentionPolicy.RUNTIME</a></li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#%E7%BC%96%E8%AF%91%E5%92%8C%E8%BF%90%E8%A1%8C%E6%97%B6%E6%B3%A8%E8%A7%A3%E5%8C%BA%E5%88%AB" title="编译和运行时注解区别">编译和运行时注解区别</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#%E8%BF%90%E8%A1%8C%E6%97%B6%E6%B3%A8%E8%A7%A3" title="运行时注解">运行时注解</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#%E5%8F%8D%E5%B0%84%E5%AE%9E%E4%BE%8B" title="反射实例">反射实例</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#%E7%BC%96%E8%AF%91%E6%97%B6%E6%B3%A8%E8%A7%A3" title="编译时注解">编译时注解</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%99%A8" title="注解处理器">注解处理器</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#APT%E5%8E%9F%E7%90%86" title="APT原理">APT原理</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#%E6%AD%A5%E9%AA%A4" title="步骤">步骤</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#%E9%97%AE%E9%A2%98" title="问题">问题</a></li>
</ul>
</li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#Arouter" title="Arouter">Arouter</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#%E5%8E%9F%E7%90%86" title="原理">原理</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0" title="核心实现">核心实现</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#Target" title="@Target">@Target</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#Inherited" title="@Inherited">@Inherited</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#Repeatable" title="@Repeatable">@Repeatable</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/#Documented" title="@Documented">@Documented</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</nav></div># <span class="ez-toc-section" id="%E6%B3%A8%E8%A7%A3"></span>注解<span class="ez-toc-section-end"></span>

<h2 id="注解的作用"><a href="#注解的作用" class="headerlink" title="注解的作用"></a><span class="ez-toc-section" id="%E6%B3%A8%E8%A7%A3%E7%9A%84%E4%BD%9C%E7%94%A8"></span>注解的作用<span class="ez-toc-section-end"></span></h2><p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/annotation/2021-07-29_9.08.16_function.png"></p>
<ul>
<li>提供信息给编译器： 编译器可以利用注解来探测错误和警告信息.</li>
<li>编译阶段时的处理： 软件工具可以用来利用注解信息来生成代码、Html文档或者做其它相应处理。</li>
<li>运行时的处理： 某些注解可以在程序运行的时候接受代码的提取.</li>
</ul>
<p>元注解 ： 不可以再分的注解， 负责注解其他注解。java定义了4个标准的meta-annotation类型,它们被用来提供对其它annotation类型作说明。Target Retention Documented Inherited</p>
<p>如上图的 Overide被@Target和@Retention修饰，他们用来说明解释其他注解，位于 java.lang.annotation下</p>
<h1 id="Annotations-That-Apply-to-Other-Annotations"><a href="#Annotations-That-Apply-to-Other-Annotations" class="headerlink" title="Annotations That Apply to Other Annotations"></a><span class="ez-toc-section" id="Annotations_That_Apply_to_Other_Annotations"></span>Annotations That Apply to Other Annotations<span class="ez-toc-section-end"></span></h1><p>Annotations that apply to other annotations are called meta-annotations. There are several meta-annotation types defined in java.lang.annotation.</p>
<h3 id="Retention"><a href="#Retention" class="headerlink" title="@Retention"></a><span class="ez-toc-section" id="Retention"></span>@Retention<span class="ez-toc-section-end"></span></h3><p>@Retention annotation specifies how the marked annotation is stored:</p>
<p>需要什么级别保存该注释信息，用于保留注解的生命周期</p>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/annotation/2021-06-28_21-36-57_retention.png"></p>
<h4 id="RetentionPolicy-SOURCE"><a href="#RetentionPolicy-SOURCE" class="headerlink" title="RetentionPolicy.SOURCE"></a><span class="ez-toc-section" id="RetentionPolicySOURCE"></span>RetentionPolicy.SOURCE<span class="ez-toc-section-end"></span></h4><p>The marked annotation is retained only in the source level and is ignored by the compiler.</p>
<h4 id="RetentionPolicy-CLASS"><a href="#RetentionPolicy-CLASS" class="headerlink" title="RetentionPolicy.CLASS"></a><span class="ez-toc-section" id="RetentionPolicyCLASS"></span>RetentionPolicy.CLASS<span class="ez-toc-section-end"></span></h4><p>– The marked annotation is retained by the compiler at compile time, but is ignored by the Java Virtual Machine (JVM).<br>RetentionPolicy.RUNTIME – The marked annotation is retained by the JVM so it can be used by the runtime environment.</p>
<h4 id="RetentionPolicy-RUNTIME"><a href="#RetentionPolicy-RUNTIME" class="headerlink" title="RetentionPolicy.RUNTIME"></a><span class="ez-toc-section" id="RetentionPolicyRUNTIME"></span>RetentionPolicy.RUNTIME<span class="ez-toc-section-end"></span></h4><p>The marked annotation is retained by the JVM so it can be used by the runtime environment.</p>
<h1 id="编译和运行时注解区别"><a href="#编译和运行时注解区别" class="headerlink" title="编译和运行时注解区别"></a><span class="ez-toc-section" id="%E7%BC%96%E8%AF%91%E5%92%8C%E8%BF%90%E8%A1%8C%E6%97%B6%E6%B3%A8%E8%A7%A3%E5%8C%BA%E5%88%AB"></span>编译和运行时注解区别<span class="ez-toc-section-end"></span></h1><h2 id="运行时注解"><a href="#运行时注解" class="headerlink" title="运行时注解"></a><span class="ez-toc-section" id="%E8%BF%90%E8%A1%8C%E6%97%B6%E6%B3%A8%E8%A7%A3"></span>运行时注解<span class="ez-toc-section-end"></span></h2><p>运行时注解的实质是，在代码中通过注解进行标记，运行时通过反射寻找标记进行某种处理。而运行时注解一直以来被呕病的原因便是反射的低效。<br><a target="_blank" rel="noopener" href="https://juejin.cn/post/6925283352698159117#heading-4">https://juejin.cn/post/6925283352698159117#heading-4</a></p>
<p>注解设置 SxtStudent信息，映射数据库</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(value = &#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SxtTable &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(value = &#123;ElementType.FIELD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SxtField &#123;</span><br><span class="line">    String <span class="title function_">columnName</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">type</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">length</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SxtTable(&quot;tb_student&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SxtStudent</span> &#123;</span><br><span class="line">    <span class="meta">@SxtField(columnName = &quot;id&quot;,type = &quot;int&quot;,length = 10)</span></span><br><span class="line">    <span class="keyword">private</span>  <span class="type">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SxtField(columnName = &quot;sname&quot;,type = &quot;varchar&quot;,length = 10)</span></span><br><span class="line">    <span class="keyword">private</span> String studentName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SxtField(columnName = &quot;age&quot;,type = &quot;int&quot;,length = 3)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过第三方工具获取注解信息</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    <span class="type">Class</span> <span class="variable">clazz</span> <span class="operator">=</span> Class.forName(<span class="string">&quot;annotation.SxtStudent&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获得类的所有有效注解</span></span><br><span class="line">    Annotation[] annotations = clazz.getAnnotations();</span><br><span class="line">    <span class="keyword">for</span> (Annotation a:annotations)&#123;</span><br><span class="line">        System.out.println(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获得类的指定注解</span></span><br><span class="line">    <span class="type">SxtTable</span> <span class="variable">st</span> <span class="operator">=</span> (SxtTable)clazz.getAnnotation(SxtTable.class);</span><br><span class="line">    System.out.println(st.value());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获得类的属性的注解</span></span><br><span class="line">    <span class="type">Field</span> <span class="variable">f</span> <span class="operator">=</span> clazz.getDeclaredField(<span class="string">&quot;studentName&quot;</span>);</span><br><span class="line">    <span class="type">SxtField</span> <span class="variable">sxtField</span> <span class="operator">=</span> f.getAnnotation(SxtField.class);</span><br><span class="line">    System.out.println(sxtField.columnName()+<span class="string">&quot;--&quot;</span> + sxtField.type()+<span class="string">&quot;---&quot;</span> + sxtField.length());</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (NoSuchFieldException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>运行结果</p>
<blockquote>
<p>@annotation.SxtTable(value&#x3D;tb_student)<br>tb_student<br>sname–varchar—10</p>
</blockquote>
<p>运行时注解很好理解，代码运行的时候通过反射技术就可以获取上面的注解信息。从上面可以看到,反射增加了点性能问题</p>
<h3 id="反射实例"><a href="#反射实例" class="headerlink" title="反射实例"></a><span class="ez-toc-section" id="%E5%8F%8D%E5%B0%84%E5%AE%9E%E4%BE%8B"></span>反射实例<span class="ez-toc-section-end"></span></h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">path</span> <span class="operator">=</span> <span class="string">&quot;reflection.User&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Class&lt;?&gt; clazz = Class.forName(path);</span><br><span class="line">    <span class="comment">//对象是表示或封装一些数据。一个类被加载后，JVM会创建一个对应该类的Class对象，类的整个结构信息会放到对应的CLass对象中。</span></span><br><span class="line">    <span class="comment">//这个Class对象就像一面镜子一样，通过这面镜子我可已看到对应类的全部信息。</span></span><br><span class="line">    System.out.println(clazz.hashCode());</span><br><span class="line"></span><br><span class="line">    <span class="type">Class</span> <span class="variable">clazz2</span> <span class="operator">=</span> Class.forName(path); <span class="comment">// 一个类对应的一个class对象</span></span><br><span class="line">    System.out.println(clazz2.hashCode());</span><br><span class="line"></span><br><span class="line">    <span class="type">Class</span> <span class="variable">intCLazz</span> <span class="operator">=</span> <span class="type">int</span>.class;</span><br><span class="line">    <span class="type">int</span>[] arr01 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="type">int</span>[][] arr02 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">30</span>][<span class="number">3</span>];</span><br><span class="line">    <span class="type">int</span>[]arr03 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">30</span>];</span><br><span class="line">    <span class="type">double</span>[] arr04 = <span class="keyword">new</span> <span class="title class_">double</span>[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">    System.out.println(arr01.getClass().hashCode());</span><br><span class="line">    System.out.println(arr02.getClass().hashCode());</span><br><span class="line">    System.out.println(arr03.getClass().hashCode());</span><br><span class="line">    System.out.println(arr04.getClass().hashCode());</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=vZe5zG0vh3U&list=PLC664nq_h8b9Jzh-qYJ_AeOpmSoBLC_tg&index=1">https://www.youtube.com/watch?v=vZe5zG0vh3U&list=PLC664nq_h8b9Jzh-qYJ_AeOpmSoBLC_tg&amp;index&#x3D;1</a></p>
<h2 id="编译时注解"><a href="#编译时注解" class="headerlink" title="编译时注解"></a><span class="ez-toc-section" id="%E7%BC%96%E8%AF%91%E6%97%B6%E6%B3%A8%E8%A7%A3"></span>编译时注解<span class="ez-toc-section-end"></span></h2><p>APT(Annotation Processing Tool)即注解处理器（通常也叫做编译时注解、编译时代码自动生成），是一种处理注解的工具，确切的说它是javac的一个工具，它用来在编译时扫描和处理注解。注解处理器以Java代码(或者编译过的字节码)作为输入，生成.java文件作为输出。<br>简单来说就是在编译期，通过注解生成.java文件。<br>通过上面的讲解，我们知道了：通常编译时注解要结合注解处理器一起使用的，通过解析注解，获取注解上面的信息，然后生成代码，从而生成一下辅助我们自己手写的代码。说得有点抽象，下面通过一个简单示例来演示一下。</p>
<p>我们做微信相关api，会有下面操作</p>
<p>示例最终效果如下：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SubTypeAutoGenerate(&quot;com.flyme.videoclips.wxapi.WXEntryActivity&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BaseWXEntryActivity</span> <span class="keyword">extends</span> <span class="title class_">Activity</span> <span class="keyword">implements</span> <span class="title class_">IWXAPIEventHandler</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 自动生成的代码,请不要改动</span></span><br><span class="line"><span class="keyword">package</span> com.flyme.videoclips.wxapi;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.flyme.videoclips.util.wxapi.BaseWXEntryActivity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WXEntryActivity</span> <span class="keyword">extends</span> <span class="title class_">BaseWXEntryActivity</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>我们通过一个@SubTypeAutoGenerate注解就可以很方便地生成WXEntryActivity啦，其中@SubTypeAutoGenerate注解的参数就是生成的全类名。<br>reference: <a target="_blank" rel="noopener" href="https://juejin.cn/post/6925283352698159117">https://juejin.cn/post/6925283352698159117</a></p>
<p>根据前面注解分类，编译时注解是保留到编译阶段的，即.class文件，不会保留到dex里面，即运行时根本获取不到这个注解了，那么这种编译时注解又有什么用呢？</p>
<h2 id="注解处理器"><a href="#注解处理器" class="headerlink" title="注解处理器"></a><span class="ez-toc-section" id="%E6%B3%A8%E8%A7%A3%E5%A4%84%E7%90%86%E5%99%A8"></span>注解处理器<span class="ez-toc-section-end"></span></h2><p>是javac处理注解的一种工具，它用来在编译时扫描和处理注解。简单来说就是在编译器，通过注解采集信息，生成.java文件。减少重复代码的编写。</p>
<h3 id="APT原理"><a href="#APT原理" class="headerlink" title="APT原理"></a><span class="ez-toc-section" id="APT%E5%8E%9F%E7%90%86"></span>APT原理<span class="ez-toc-section-end"></span></h3><p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/annotation/2021-07-29_2.39.54_apt.png"></p>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/annotation/2021-07-29_2.10_process.png"></p>
<h3 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a><span class="ez-toc-section" id="%E6%AD%A5%E9%AA%A4"></span>步骤<span class="ez-toc-section-end"></span></h3><p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/annotation/2021-07-29_2.10.48_step.png"></p>
<h3 id="问题"><a href="#问题" class="headerlink" title="问题"></a><span class="ez-toc-section" id="%E9%97%AE%E9%A2%98"></span>问题<span class="ez-toc-section-end"></span></h3><p>APT就这固定的几步，网上demo可以生成，我的就是没法生成，原来是因为,@DIActivity类的头部没有设置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DIActivity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainActivity</span> <span class="keyword">extends</span> <span class="title class_">AppCompatActivity</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>项目 MRouter</p>
<h1 id="Arouter"><a href="#Arouter" class="headerlink" title="Arouter"></a><span class="ez-toc-section" id="Arouter"></span>Arouter<span class="ez-toc-section-end"></span></h1><h2 id="原理"><a href="#原理" class="headerlink" title="原理"></a><span class="ez-toc-section" id="%E5%8E%9F%E7%90%86"></span>原理<span class="ez-toc-section-end"></span></h2><p>获得当前程序在手机中对应的apk文件,使用classsloader:dexfile(PMS)，反射获取apk所有的类，筛选出注册activity的类。初始化</p>
<h2 id="核心实现"><a href="#核心实现" class="headerlink" title="核心实现"></a><span class="ez-toc-section" id="%E6%A0%B8%E5%BF%83%E5%AE%9E%E7%8E%B0"></span>核心实现<span class="ez-toc-section-end"></span></h2><p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/annotation/2021-08-12_1.18_arouter.png"></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Ly4y1W7f5?p=6&spm_id_from=pageDriver">https://www.bilibili.com/video/BV1Ly4y1W7f5?p=6&spm_id_from&#x3D;pageDriver</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1nU4y1a79o?from=search&amp;seid=3188418579827888379">https://www.bilibili.com/video/BV1nU4y1a79o?from=search&amp;seid=3188418579827888379</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6925283352698159117#heading-14">https://juejin.cn/post/6925283352698159117#heading-14</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6947992544252788767">https://juejin.cn/post/6947992544252788767</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xx326664162/article/details/68490059">https://blog.csdn.net/xx326664162/article/details/68490059</a></p>
<p><a target="_blank" rel="noopener" href="https://hanshuliang.blog.csdn.net/article/details/117072224">https://hanshuliang.blog.csdn.net/article/details/117072224</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/han1202012/APT">https://github.com/han1202012/APT</a></p>
<h3 id="Target"><a href="#Target" class="headerlink" title="@Target"></a><span class="ez-toc-section" id="Target"></span>@Target<span class="ez-toc-section-end"></span></h3><p>@Target annotation marks another annotation to restrict what kind of Java elements the annotation can be applied to. A target annotation specifies one of the following element types as its value:</p>
<p>ElementType.ANNOTATION_TYPE can be applied to an annotation type.<br>ElementType.CONSTRUCTOR can be applied to a constructor.<br>ElementType.FIELD can be applied to a field or property.<br>ElementType.LOCAL_VARIABLE can be applied to a local variable.<br>ElementType.METHOD can be applied to a method-level annotation.<br>ElementType.PACKAGE can be applied to a package declaration.<br>ElementType.PARAMETER can be applied to the parameters of a method.<br>ElementType.TYPE can be applied to any element of a class.</p>
<p>用于描述注解的使用范围(注解可以用在什么地方)<br>如 类 属性 方法等<br><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/annotation/2021-06-28_21-32-34_target.png"></p>
<h3 id="Inherited"><a href="#Inherited" class="headerlink" title="@Inherited"></a><span class="ez-toc-section" id="Inherited"></span>@Inherited<span class="ez-toc-section-end"></span></h3><p>@Inherited annotation indicates that the annotation type can be inherited from the super class. (This is not true by default.) When the user queries the annotation type and the class has no annotation for this type, the class’ superclass is queried for the annotation type. This annotation applies only to class declarations.</p>
<p>标明所修饰的注解，在所作用的类上，是否可以被继承。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@InheritedAnnotation(value = &quot;Applied to SuperClass&quot;)</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SuperClass</span> &#123;</span><br><span class="line">    <span class="comment">// Superclass implementation</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SubClass</span> <span class="keyword">extends</span> <span class="title class_">SuperClass</span> &#123;</span><br><span class="line">    <span class="comment">// Subclass implementation</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InheritedTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Class&lt;SubClass&gt; subClass = SubClass.class;</span><br><span class="line">        <span class="comment">// Check if the subclass inherits the annotation</span></span><br><span class="line">        <span class="keyword">if</span> (subClass.isAnnotationPresent(InheritedAnnotation.class)) &#123;</span><br><span class="line">            <span class="type">Annotation</span> <span class="variable">annotation</span> <span class="operator">=</span> subClass.getAnnotation(InheritedAnnotation.class);</span><br><span class="line">            <span class="type">InheritedAnnotation</span> <span class="variable">inheritedAnnotation</span> <span class="operator">=</span> (InheritedAnnotation) annotation;</span><br><span class="line">            System.out.println(<span class="string">&quot;SubClass inherits annotation: &quot;</span> + inheritedAnnotation.value());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;SubClass does not inherit the annotation.&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>output:<br>SubClass inherits annotation: Applied to SuperClas , 所以可以拿到父类的注解信息。</p>
<h3 id="Repeatable"><a href="#Repeatable" class="headerlink" title="@Repeatable"></a><span class="ez-toc-section" id="Repeatable"></span>@Repeatable<span class="ez-toc-section-end"></span></h3><p>@Repeatable annotation, introduced in Java SE 8, indicates that the marked annotation can be applied more than once to the same declaration or type use. For more information, see Repeating Annotations.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Repeatable(ReviewTags.class)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@interface</span> ReviewTag &#123;</span><br><span class="line">    String <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@interface</span> ReviewTags &#123;</span><br><span class="line">    ReviewTag[] value();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// Accessing annotations</span></span><br><span class="line">            ReviewTag[] tags = ReviewTagsTest.class.getMethod(<span class="string">&quot;review&quot;</span>).getAnnotationsByType(ReviewTag.class);</span><br><span class="line">            System.out.println(<span class="string">&quot;Review Tags:&quot;</span>);</span><br><span class="line">            <span class="keyword">for</span> (ReviewTag tag : tags) &#123;</span><br><span class="line">                System.out.println(tag.value());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchMethodException e) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>output :</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Positive</span><br><span class="line">Detailed</span><br></pre></td></tr></table></figure>

<h3 id="Documented"><a href="#Documented" class="headerlink" title="@Documented"></a><span class="ez-toc-section" id="Documented"></span>@Documented<span class="ez-toc-section-end"></span></h3><p>@Documented annotation indicates that whenever the specified annotation is used those elements should be documented using the Javadoc tool. (By default, annotations are not included in Javadoc.) For more information, see the Javadoc tools page.<br>javadoc的工具文档化<br>Declaring an Annotation Type ,Generate Document<br>ClassPreamble.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation.doc;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Documented;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Retention;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.RetentionPolicy;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.Target;</span><br><span class="line"><span class="keyword">import</span> java.lang.annotation.ElementType;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(ElementType.TYPE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> ClassPreamble &#123;</span><br><span class="line">    String <span class="title function_">author</span><span class="params">()</span>;</span><br><span class="line">    String <span class="title function_">date</span><span class="params">()</span>;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">currentRevision</span><span class="params">()</span> <span class="keyword">default</span> <span class="number">1</span>;</span><br><span class="line">    String <span class="title function_">lastModified</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;N/A&quot;</span>;</span><br><span class="line">    String <span class="title function_">lastModifiedBy</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;N/A&quot;</span>;</span><br><span class="line">    String[] reviewers();</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>MyClass.java</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> annotation.doc;</span><br><span class="line"></span><br><span class="line"><span class="meta">@ClassPreamble(</span></span><br><span class="line"><span class="meta">    author = &quot;John Doe&quot;,</span></span><br><span class="line"><span class="meta">    date = &quot;06/06/2024&quot;,</span></span><br><span class="line"><span class="meta">    currentRevision = 2,</span></span><br><span class="line"><span class="meta">    lastModified = &quot;06/06/2024&quot;,</span></span><br><span class="line"><span class="meta">    lastModifiedBy = &quot;Jane Doe&quot;,</span></span><br><span class="line"><span class="meta">    reviewers = &#123;&quot;Alice&quot;, &quot;Bob&quot;&#125;</span></span><br><span class="line"><span class="meta">)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> &#123;</span><br><span class="line">    <span class="comment">// Class implementation</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span>&#123; <span class="comment">// the function will not generate doc</span></span><br><span class="line">        System.out.println(<span class="string">&quot;print&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>command steps</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">pwd</span></span><br><span class="line">/Users/m/Documents/workpersonal/THINKKOTLIN/src/main/java</span><br><span class="line">$ javac  annotation/doc/ClassPreamble.java  annotation/doc/MyClass.java</span><br><span class="line">$ javadoc  -d doc  annotation/doc/MyClass.java</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>这种方式可以生成文档</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-06-05T07:50:21.000Z" title="6/5/2024, 3:50:21 PM">2024-06-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-09-13T21:02:22.000Z" title="9/14/2024, 5:02:22 AM">2024-09-14</time></span><span class="level-item"> Jon </span><span class="level-item"><a class="link-muted" href="/categories/LIFE/">LIFE</a></span><span class="level-item">5 minutes read (About 821 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/05/english/">English</a></p><div class="content"><div class="ez-toc-v2_0_66_1 ez-toc-wrap-right counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction" id="ez-toc-container"><div class="ez-toc-title-container">Table of Contents

<p><span class="ez-toc-title-toggle"><a href="#"><span class="ez-toc-js-icon-con"><span class><span class="eztoc-hide" style="display:none;">Toggle</span><span class="ez-toc-icon-toggle-span"><svg class="list-377408" fill="none" height="20px" style="fill: #999;color:#999" viewbox="0 0 24 24" width="20px" xmlns="http://www.w3.org/2000/svg"><path d="M6 6H4v2h2V6zm14 0H8v2h12V6zM4 11h2v2H4v-2zm16 0H8v2h12v-2zM4 16h2v2H4v-2zm16 0H8v2h12v-2z" fill="currentColor"/></svg><svg baseprofile="tiny" class="arrow-unsorted-368013" height="10px" style="fill: #999;color:#999" version="1.2" viewbox="0 0 24 24" width="10px" xmlns="http://www.w3.org/2000/svg"><path d="M18.2 9.3l-6.2-6.3-6.2 6.3c-.2.2-.3.4-.3.7s.1.5.3.7c.2.2.4.3.7.3h11c.3 0 .5-.1.7-.3.2-.2.3-.5.3-.7s-.1-.5-.3-.7zM5.8 14.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.5-.3.7s.1.5.3.7z"/></svg></span></span></span></a></span></p></div><nav>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/05/english/#IELTS" title="IELTS">IELTS</a><p></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/05/english/#%E5%AE%9A%E8%AF%AD%E4%BB%8E%E5%8F%A5" title="定语从句">定语从句</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/05/english/#%E7%8A%B6%E8%AF%AD%E4%BB%8E%E5%8F%A5" title="状语从句">状语从句</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/05/english/#%E8%A1%A8%E8%AF%AD%E4%BB%8E%E5%8F%A5" title="表语从句">表语从句</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/05/english/#%E5%90%8C%E4%BD%8D%E8%AF%AD%E4%BB%8E%E5%8F%A5" title="同位语从句">同位语从句</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/05/english/#%E4%B8%BB%E8%AF%AD%E4%BB%8E%E5%8F%A5" title="主语从句">主语从句</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/05/english/#chat" title="chat">chat</a></li>
</ul>
</nav></div># <span class="ez-toc-section" id="IELTS"></span>IELTS<span class="ez-toc-section-end"></span>

<p><a target="_blank" rel="noopener" href="https://improvemyielts.com/ielts-speaking-topics-part-2-3">https://improvemyielts.com/ielts-speaking-topics-part-2-3</a></p>
<h1 id="定语从句"><a href="#定语从句" class="headerlink" title="定语从句"></a><span class="ez-toc-section" id="%E5%AE%9A%E8%AF%AD%E4%BB%8E%E5%8F%A5"></span>定语从句<span class="ez-toc-section-end"></span></h1><p>一个句子作定语修饰限定名词</p>
<p>This is the job which I have dreamed of for years.</p>
<p>The job &#x3D; which</p>
<p>Which 作为 宾语成分.</p>
<table>
<thead>
<tr>
<th>—</th>
</tr>
</thead>
<tbody><tr>
<td></td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td></td>
</tr>
<tr>
<td></td>
</tr>
</tbody></table>
<p>定语从句中每个关系词都做成分 包括 that</p>
<p>关系词作宾语可省略</p>
<p>I have a class which&#x2F;that begins at 8:00.</p>
<p>主语</p>
<p>The lawyer whom&#x2F;that&#x2F;who my brother called didn’t answer the phone.</p>
<p>My daughter asked me a question which&#x2F;that I couldn’t answer.</p>
<p>The people who&#x2F;that sat in the stadium cheered for the home team.</p>
<p>Leo is the student whose bike was stolen</p>
<p>Australia is one of the few country where people drive on the left.</p>
<p>Sunday is the day when people usually don’t go to work.</p>
<p>Is there any particular reason why you can’t come.</p>
<p>定语从句分类 ： 限定性、非限定性</p>
<p>限定性</p>
<p>I meet you friend who is staying in Paris.</p>
<p>很多朋友</p>
<ol start="2">
<li>非限定性</li>
</ol>
<p>  I met your mother, who is staying in Paris.</p>
<p>只有一个妈妈,用”,”隔开</p>
<p>区别: 先行词的范围是否明确</p>
<p>特殊的非限定性定语从句</p>
<p>The company will get back to you in three days, which is one of the typical rules.</p>
<p>介词提前的定语从句</p>
<p>Humans have the ability to modify the environment in which they live.</p>
<p>The theory on which it is based may be right.</p>
<p>定语从句和同位语从句的区别</p>
<p>定语从句 : n + that , that 作成分</p>
<p>同位语从句 : that 不作成分</p>
<p>During the past generation, the American middle class family that one could count on hard work and fair play to keep itself financially secure has been transformed by economic risk and new realites.</p>
<h1 id="状语从句"><a href="#状语从句" class="headerlink" title="状语从句"></a><span class="ez-toc-section" id="%E7%8A%B6%E8%AF%AD%E4%BB%8E%E5%8F%A5"></span>状语从句<span class="ez-toc-section-end"></span></h1><p>一个句子作状语表达秒属性的信息</p>
<ol>
<li>时间状语从句</li>
</ol>
<p>When , while , As , Before After Since Until , as soon as , No sooner than</p>
<ol start="2">
<li>地点状语从句 where</li>
<li>原因状语从句<br>  Because Since As</li>
<li>结果状语从句<br>  So&#x2F;such…that , In order that</li>
<li>目的状语从句<br>  So…that , In order that</li>
<li>条件状语从句<br>  If unless , As long as</li>
<li>让步状语从句<br>  Although<br>  Through<br>  Even thought<br>  As<br>  明让步，暗转折</li>
<li>比较状语从句<br>  Than as<br>  I am as tall as you (are).</li>
<li>方式状语从句<br>  As<br>  Do it as I told you yesterday.</li>
</ol>
<p>状语从句的时态</p>
<p>时间状语从句中表示将来，条件状语从句中表示将来，他们都用一般现在是</p>
<p>If it rains tomorrow,we will not got to the park.</p>
<p>I will let him know,when he comes home later</p>
<p>条件状语从句： if 条件状语从句，主句</p>
<h1 id="表语从句"><a href="#表语从句" class="headerlink" title="表语从句"></a><span class="ez-toc-section" id="%E8%A1%A8%E8%AF%AD%E4%BB%8E%E5%8F%A5"></span>表语从句<span class="ez-toc-section-end"></span></h1><p>My concern <u>is</u> that people don’t care about others.<br>The question <u>remains </u> whether people will buy it.</p>
<h1 id="同位语从句"><a href="#同位语从句" class="headerlink" title="同位语从句"></a><span class="ez-toc-section" id="%E5%90%8C%E4%BD%8D%E8%AF%AD%E4%BB%8E%E5%8F%A5"></span>同位语从句<span class="ez-toc-section-end"></span></h1><p>位置: 需要解释的抽象N后,解释名词</p>
<p>Fact idea news dream suggestion advice report</p>
<p>I support the <u>argument</u>u&gt; that the problems of school buses must be taken seriously.</p>
<p>The man wanted to fly to <u>Rockcall</u>u&gt;,a lonely island.</p>
<h1 id="主语从句"><a href="#主语从句" class="headerlink" title="主语从句"></a><span class="ez-toc-section" id="%E4%B8%BB%E8%AF%AD%E4%BB%8E%E5%8F%A5"></span>主语从句<span class="ez-toc-section-end"></span></h1><p>Whether we will go camping depend on the weather.</p>
<p>It depends on the weather Whether we will go camping.</p>
<h1 id="chat"><a href="#chat" class="headerlink" title="chat"></a><span class="ez-toc-section" id="chat"></span>chat<span class="ez-toc-section-end"></span></h1><p>how about tw</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-06-05T07:26:44.000Z" title="6/5/2024, 3:26:44 PM">2024-06-05</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-09-13T21:02:22.000Z" title="9/14/2024, 5:02:22 AM">2024-09-14</time></span><span class="level-item"> Jon </span><span class="level-item"><a class="link-muted" href="/categories/LIFE/">LIFE</a></span><span class="level-item">a few seconds read (About 24 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/06/05/music/">Music</a></p><div class="content"><p>Memories</p>
<p>TOP 40 Songs of 2021 2022 (Best Hit Music Playlist) on Spotify<br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=99XF71Fpjl8">https://www.youtube.com/watch?v=99XF71Fpjl8</a></p>
<p>MARINA - To Be Human (Official Music Video)<br><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=DM8Tm9ycGz4">https://www.youtube.com/watch?v=DM8Tm9ycGz4</a></p>
<p>Nothing gonna change my love for you</p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-05-31T07:56:18.000Z" title="5/31/2024, 3:56:18 PM">2024-05-31</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-09-13T21:02:22.000Z" title="9/14/2024, 5:02:22 AM">2024-09-14</time></span><span class="level-item"> Jon </span><span class="level-item"><a class="link-muted" href="/categories/JAVA/">JAVA</a></span><span class="level-item">26 minutes read (About 3917 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/05/31/reflection/">reflection</a></p><div class="content"><p><a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/28/designpattern-proxy/">https://jonblog.site/2024/05/28/designpattern-proxy/</a><br><a target="_blank" rel="noopener" href="https://jonblog.site/2024/06/06/annotation/">https://jonblog.site/2024/06/06/annotation/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.oracle.com/technical-resources/articles/java/javareflection.html">https://www.oracle.com/technical-resources/articles/java/javareflection.html</a><br><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1tY411Z799">https://www.bilibili.com/video/BV1tY411Z799</a></p>
<div class="ez-toc-v2_0_66_1 ez-toc-wrap-right counter-hierarchy ez-toc-counter ez-toc-grey ez-toc-container-direction" id="ez-toc-container"><div class="ez-toc-title-container">Table of Contents

<p><span class="ez-toc-title-toggle"><a href="#"><span class="ez-toc-js-icon-con"><span class><span class="eztoc-hide" style="display:none;">Toggle</span><span class="ez-toc-icon-toggle-span"><svg class="list-377408" fill="none" height="20px" style="fill: #999;color:#999" viewbox="0 0 24 24" width="20px" xmlns="http://www.w3.org/2000/svg"><path d="M6 6H4v2h2V6zm14 0H8v2h12V6zM4 11h2v2H4v-2zm16 0H8v2h12v-2zM4 16h2v2H4v-2zm16 0H8v2h12v-2z" fill="currentColor"/></svg><svg baseprofile="tiny" class="arrow-unsorted-368013" height="10px" style="fill: #999;color:#999" version="1.2" viewbox="0 0 24 24" width="10px" xmlns="http://www.w3.org/2000/svg"><path d="M18.2 9.3l-6.2-6.3-6.2 6.3c-.2.2-.3.4-.3.7s.1.5.3.7c.2.2.4.3.7.3h11c.3 0 .5-.1.7-.3.2-.2.3-.5.3-.7s-.1-.5-.3-.7zM5.8 14.7l6.2 6.3 6.2-6.3c.2-.2.3-.5.3-.7s-.1-.5-.3-.7c-.2-.2-.4-.3-.7-.3h-11c-.3 0-.5.1-.7.3-.2.2-.3.5-.3.7s.1.5.3.7z"/></svg></span></span></span></a></span></p></div><nav>- <a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/31/reflection/#reflect_demo" title="reflect demo">reflect demo</a><p></p>
<ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/31/reflection/#class" title="class">class</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/31/reflection/#Class%E7%B1%BB" title="Class类">Class类</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/31/reflection/#newInstance%E6%96%B9%E6%B3%95" title="newInstance方法">newInstance方法</a></li>
</ul>
</li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/31/reflection/#%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86" title="动态代理">动态代理</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/31/reflection/#%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6" title="反射机制">反射机制</a><ul>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/31/reflection/#%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8" title="基本使用">基本使用</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/31/reflection/#invoke%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8" title="invoke方法的使用">invoke方法的使用</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/31/reflection/#Method%E4%BF%A1%E6%81%AF" title="Method信息">Method信息</a></li>
<li><a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/31/reflection/#getDeclaredMethod%E8%8E%B7%E5%8F%96%E7%9A%84Method%E8%83%BD%E5%90%A6%E8%B0%83%E7%94%A8%E5%AD%90%E7%B1%BB" title="getDeclaredMethod获取的Method能否调用子类?">getDeclaredMethod获取的Method能否调用子类?</a></li>
</ul>
</li>
</ul>
</nav></div># <span class="ez-toc-section" id="reflect_demo"></span>reflect demo<span class="ez-toc-section-end"></span>

<p>常用反射用法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> xiaoyaomeng</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Person</span><span class="params">(<span class="type">int</span> age, String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SuperMan</span> <span class="keyword">extends</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">ActionInterface</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> BlueBriefs;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;超人会飞耶～～&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isBlueBriefs</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> BlueBriefs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBlueBriefs</span><span class="params">(<span class="type">boolean</span> blueBriefs)</span> &#123;</span><br><span class="line">        BlueBriefs = blueBriefs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">walk</span><span class="params">(<span class="type">int</span> m)</span> &#123;</span><br><span class="line">        <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">        System.out.println(<span class="string">&quot;超人会走耶～～走了&quot;</span> + m + <span class="string">&quot;米就走不动了！&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ActionInterface</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">walk</span><span class="params">(<span class="type">int</span> m)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ReflectMethod</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Demo1: 通过Java反射机制得到类的包名和类名</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Demo1</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Person</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;Demo1: 包名: &quot;</span> + person.getClass().getPackage().getName() + <span class="string">&quot;，&quot;</span></span><br><span class="line">                + <span class="string">&quot;完整类名: &quot;</span> + person.getClass().getName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Demo2: 验证所有的类都是Class类的实例对象</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ClassNotFoundException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Demo2</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        <span class="comment">//定义两个类型都未知的Class , 设置初值为null, 看看如何给它们赋值成Person类</span></span><br><span class="line">        Class&lt;?&gt; class1 = <span class="literal">null</span>;</span><br><span class="line">        Class&lt;?&gt; class2 = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//写法1, 可能抛出 ClassNotFoundException [多用这个写法]</span></span><br><span class="line">        class1 = Class.forName(<span class="string">&quot;reflection.Person&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Demo2:(写法1) 包名: &quot;</span> + class1.getPackage().getName() + <span class="string">&quot;，&quot;</span></span><br><span class="line">                + <span class="string">&quot;完整类名: &quot;</span> + class1.getName());</span><br><span class="line"></span><br><span class="line">        <span class="comment">//写法2</span></span><br><span class="line">        class2 = Person.class;</span><br><span class="line">        System.out.println(<span class="string">&quot;Demo2:(写法2) 包名: &quot;</span> + class2.getPackage().getName() + <span class="string">&quot;，&quot;</span></span><br><span class="line">                + <span class="string">&quot;完整类名: &quot;</span> + class2.getName());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Demo3: 通过Java反射机制，用Class 创建类对象[这也就是反射存在的意义所在]</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Demo3</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException, InstantiationException, IllegalAccessException &#123;</span><br><span class="line">        Class&lt;?&gt; class1 = <span class="literal">null</span>;</span><br><span class="line">        class1 = Class.forName(<span class="string">&quot;reflection.Person&quot;</span>);</span><br><span class="line">        <span class="comment">//由于这里不能带参数，所以你要实例化的这个类Person，一定要有无参构造函数哈～</span></span><br><span class="line">        <span class="type">Person</span> <span class="variable">person</span> <span class="operator">=</span> (Person) class1.newInstance();</span><br><span class="line">        person.setAge(<span class="number">20</span>);</span><br><span class="line">        person.setName(<span class="string">&quot;LeeFeng&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;Demo3: &quot;</span> + person.getName() + <span class="string">&quot; : &quot;</span> + person.getAge());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Demo4: 通过Java反射机制得到一个类的构造函数，并实现创建带参实例对象</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Demo4</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException, IllegalArgumentException, InstantiationException, IllegalAccessException, InvocationTargetException &#123;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Get the class object</span></span><br><span class="line">        Class&lt;?&gt; clazz = Person.class;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Get the constructors of the class</span></span><br><span class="line">        Constructor&lt;?&gt;[] constructors = clazz.getConstructors(); <span class="comment">// all constructor methods</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// Iterate over constructors and print parameter types</span></span><br><span class="line">        <span class="keyword">for</span> (Constructor&lt;?&gt; constructor : constructors) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Constructor: &quot;</span> + constructor);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Get parameter types</span></span><br><span class="line">            Class&lt;?&gt;[] parameterTypes = constructor.getParameterTypes();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (Class&lt;?&gt; paramType : parameterTypes) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Parameter type: &quot;</span> + paramType.getName());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// Alternatively, you can use Parameter class to get more details</span></span><br><span class="line">            Parameter[] parameters = constructor.getParameters();</span><br><span class="line"></span><br><span class="line">            <span class="keyword">for</span> (Parameter parameter : parameters) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Parameter: &quot;</span> + parameter.getName() + <span class="string">&quot;, Type: &quot;</span> + parameter.getType());</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             *  public Person(String name) 构造方法 Create 对象</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="keyword">final</span> Class&lt;?&gt;[] stringParam =</span><br><span class="line">                    &#123;String.class&#125;;</span><br><span class="line">            <span class="keyword">final</span> Constructor&lt;?&gt; consString = Person.class.getConstructor(stringParam);</span><br><span class="line">            <span class="type">Person</span> <span class="variable">personString</span> <span class="operator">=</span> (Person) consString.newInstance(<span class="keyword">new</span> <span class="title class_">Object</span>[]&#123;<span class="number">99</span>&#125;);</span><br><span class="line">            System.out.println(<span class="string">&quot;stringParam &quot;</span> + personString);</span><br><span class="line"></span><br><span class="line">            <span class="comment">/**</span></span><br><span class="line"><span class="comment">             *  public Person(int age, String name) 构造方法 Create 对象</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">            <span class="keyword">final</span> Class&lt;?&gt;[] stringIntParam =</span><br><span class="line">                    &#123;<span class="type">int</span>.class, String.class&#125;;</span><br><span class="line">            <span class="keyword">final</span> Constructor&lt;?&gt; consStringInt = Person.class.getConstructor(stringIntParam);</span><br><span class="line">            <span class="type">Person</span> <span class="variable">person1</span> <span class="operator">=</span> (Person) consStringInt.newInstance(<span class="keyword">new</span> <span class="title class_">Object</span>[]&#123;<span class="number">99</span>, <span class="string">&quot;john&quot;</span>&#125;);</span><br><span class="line">            System.out.println(<span class="string">&quot;stringIntParam &quot;</span> + person1);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchMethodException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(e);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Class&lt;?&gt; class1 = <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person1</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Person</span> <span class="variable">person2</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        class1 = Class.forName(<span class="string">&quot;reflection.Person&quot;</span>);</span><br><span class="line">        <span class="comment">//得到一系列构造函数集合</span></span><br><span class="line">        Constructor&lt;?&gt;[] constructors1 = class1.getConstructors();</span><br><span class="line"></span><br><span class="line">        person1 = (Person) constructors1[<span class="number">0</span>].newInstance();</span><br><span class="line">        person1.setAge(<span class="number">30</span>);</span><br><span class="line">        person1.setName(<span class="string">&quot;leeFeng&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//constructor onject that have two params:  age and name</span></span><br><span class="line">        person2 = (Person) constructors1[<span class="number">1</span>].newInstance(<span class="number">20</span>, <span class="string">&quot;leeFeng&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Demo4: &quot;</span> + person1.getName() + <span class="string">&quot; : &quot;</span> + person1.getAge()</span><br><span class="line">                + <span class="string">&quot;  ,   &quot;</span> + person2.getName() + <span class="string">&quot; : &quot;</span> + person2.getAge()</span><br><span class="line">        );</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Demo5: 通过Java反射机制操作成员变量, set 和 get</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Demo5</span><span class="params">()</span> <span class="keyword">throws</span> IllegalArgumentException, IllegalAccessException, SecurityException, NoSuchFieldException, InstantiationException, ClassNotFoundException &#123;</span><br><span class="line">        Class&lt;?&gt; class1 = <span class="literal">null</span>;</span><br><span class="line">        class1 = Class.forName(<span class="string">&quot;reflection.Person&quot;</span>);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> class1.newInstance();</span><br><span class="line"></span><br><span class="line">        <span class="type">Field</span> <span class="variable">personNameField</span> <span class="operator">=</span> class1.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        personNameField.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        personNameField.set(obj, <span class="string">&quot;胖虎先森&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Demo5: 修改属性之后得到属性变量的值：&quot;</span> + personNameField.get(obj));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Demo6: 通过Java反射机制得到类的一些属性： 继承的接口，父类，函数信息，成员信息，类型等</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ClassNotFoundException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Demo6</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        Class&lt;?&gt; class1 = <span class="literal">null</span>;</span><br><span class="line">        class1 = Class.forName(<span class="string">&quot;reflection.SuperMan&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//取得父类名称</span></span><br><span class="line">        Class&lt;?&gt; superClass = class1.getSuperclass();</span><br><span class="line">        System.out.println(<span class="string">&quot;Demo6:  SuperMan类的父类名: &quot;</span> + superClass.getName());</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;===============================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Field[] fields = class1.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; fields.length; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;类中的成员: &quot;</span> + fields[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;===============================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//取得类方法</span></span><br><span class="line">        Method[] methods = class1.getDeclaredMethods();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; methods.length; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Demo6,取得SuperMan类的方法：&quot;</span>);</span><br><span class="line">            System.out.println(<span class="string">&quot;函数名：&quot;</span> + methods[i].getName());</span><br><span class="line">            System.out.println(<span class="string">&quot;函数返回类型：&quot;</span> + methods[i].getReturnType());</span><br><span class="line">            System.out.println(<span class="string">&quot;函数访问修饰符：&quot;</span> + Modifier.toString(methods[i].getModifiers()));</span><br><span class="line">            System.out.println(<span class="string">&quot;函数代码写法： &quot;</span> + methods[i]);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;===============================================&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//取得类实现的接口,因为接口类也属于Class,所以得到接口中的方法也是一样的方法得到哈</span></span><br><span class="line">        Class&lt;?&gt; interfaces[] = class1.getInterfaces();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; interfaces.length; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;实现的接口类名: &quot;</span> + interfaces[i].getName());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Demo7: 通过Java反射机制调用类方法</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Demo7</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException, SecurityException, NoSuchMethodException, IllegalArgumentException, IllegalAccessException, InvocationTargetException, InstantiationException &#123;</span><br><span class="line">        Class&lt;?&gt; class1 = <span class="literal">null</span>;</span><br><span class="line">        class1 = Class.forName(<span class="string">&quot;reflection.SuperMan&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;Demo7: \n调用无参方法fly()：&quot;</span>);</span><br><span class="line">        <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> class1.getMethod(<span class="string">&quot;fly&quot;</span>);</span><br><span class="line">        method.invoke(class1.newInstance());</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;调用有参方法walk(int m)：&quot;</span>);</span><br><span class="line">        method = class1.getMethod(<span class="string">&quot;walk&quot;</span>, <span class="type">int</span>.class);</span><br><span class="line">        method.invoke(class1.newInstance(), <span class="number">100</span>);</span><br><span class="line"></span><br><span class="line">        method.invoke(<span class="keyword">new</span> <span class="title class_">SuperMan</span>(), <span class="number">666</span>); <span class="comment">// 这个方法和上面的一样</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Demo8: 通过Java反射机制得到类加载器信息</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * 在java中有三种类类加载器。[这段资料网上截取]</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * 1）Bootstrap ClassLoader 此加载器采用c++编写，一般开发中很少见。</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * 2）Extension ClassLoader 用来进行扩展类的加载，一般对应的是jre\lib\ext目录中的类</span></span><br><span class="line"><span class="comment">     * &lt;p&gt;</span></span><br><span class="line"><span class="comment">     * 3）AppClassLoader 加载classpath指定的类，是最常用的加载器。同时也是java中默认的加载器。</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ClassNotFoundException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">Demo8</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        Class&lt;?&gt; class1 = <span class="literal">null</span>;</span><br><span class="line">        class1 = Class.forName(<span class="string">&quot;reflection.SuperMan&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">nameString</span> <span class="operator">=</span> class1.getClassLoader().getClass().getName();</span><br><span class="line">        System.out.println(<span class="string">&quot;Demo8: 类加载器类名: &quot;</span> + nameString);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="class"><a href="#class" class="headerlink" title="class"></a><span class="ez-toc-section" id="class"></span>class<span class="ez-toc-section-end"></span></h1><p>类是程序的一部分，每个类都有一个Class对象，每当编写并编译了一个新类就会产生一个Class对象（保存在一个同名的.class文件中）。为了生成这个对象就要用到JVM<br>分析主要的类和方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">HasBatteries</span> &#123;&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Waterproof</span> &#123;&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Shoots</span> &#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Toy</span> &#123;</span><br><span class="line">    <span class="comment">//Comment out the following default constructor</span></span><br><span class="line">    <span class="comment">//to see NoSuchMethodError from(*1*)</span></span><br><span class="line">    Toy() &#123; &#125;</span><br><span class="line">    Toy(<span class="type">int</span> i) &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FancyToy</span> <span class="keyword">extends</span> <span class="title class_">Toy</span> <span class="keyword">implements</span> <span class="title class_">HasBatteries</span>, Waterproof, Shoots &#123;</span><br><span class="line">    FancyToy() &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ToyTest</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">printInfo</span><span class="params">(Class cc)</span> &#123;</span><br><span class="line">        Print.print(<span class="string">&quot;Class name: &quot;</span> + cc.getName() + <span class="string">&quot;     is Interface ?  [&quot;</span> + cc.isInterface() + <span class="string">&quot;]&quot;</span>);  <span class="comment">//是否是接口</span></span><br><span class="line">        Print.print(<span class="string">&quot;Simple name: &quot;</span> + cc.getSimpleName());       <span class="comment">//不好含包名的类名</span></span><br><span class="line">        Print.print(<span class="string">&quot;Canonical name : &quot;</span> + cc.getCanonicalName()); <span class="comment">//全限定的类名</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            c = Class.forName(<span class="string">&quot;TypeInfomation.Demo.FancyToy&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            Print.print(<span class="string">&quot;Can&#x27;t find FancyToy&quot;</span>);</span><br><span class="line">            System.exit(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        Print.print(c);</span><br><span class="line">        printInfo(c);</span><br><span class="line">        Print.print();</span><br><span class="line">        <span class="keyword">for</span> (Class face : c.getInterfaces()) &#123;</span><br><span class="line">            printInfo(face);</span><br><span class="line">            Print.print();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">up</span> <span class="operator">=</span> c.getSuperclass();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//Requires default constructor:</span></span><br><span class="line">            obj = up.newInstance();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InstantiationException e) &#123;</span><br><span class="line">            Print.print(<span class="string">&quot;Cannot instantiate&quot;</span>);</span><br><span class="line">            System.exit(<span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">            Print.print(<span class="string">&quot;Cannot access&quot;</span>);</span><br><span class="line">            System.exit(<span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        printInfo(obj.getClass());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="Class类"><a href="#Class类" class="headerlink" title="Class类"></a><span class="ez-toc-section" id="Class%E7%B1%BB"></span>Class类<span class="ez-toc-section-end"></span></h1><p>所有的Class对象都属于这个 类的一个static成员，Class对象和其他对象一样，我们可以使用 <code>Class.forName(&quot;Gum&quot;)</code> 获取并操作它的引用（这就是类加载器的工作）， 从上面的代码可以看到，getSuperclass()方法查询其直接基类，这将返回用来进一步查询的Class对象。由此，可以在运行时发现一个对象完整的类继承结构</p>
<h2 id="newInstance方法"><a href="#newInstance方法" class="headerlink" title="newInstance方法"></a><span class="ez-toc-section" id="newInstance%E6%96%B9%E6%B3%95"></span>newInstance方法<span class="ez-toc-section-end"></span></h2><p>Class的newInstance()实现“虚拟构造器”的一种途径，虚拟构造器寻你生命”我不知道你的确切类型，但是无论如何要正确地创建自己”，代码中的 up 只是一个Class引用，在编译期不具备任何更进一步的类型信息，创建新实例时，会得到指向Toy对象的Object引用，可以转型操作它。</p>
<h1 id="动态代理"><a href="#动态代理" class="headerlink" title="动态代理"></a><span class="ez-toc-section" id="%E5%8A%A8%E6%80%81%E4%BB%A3%E7%90%86"></span>动态代理<span class="ez-toc-section-end"></span></h1><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span>  <span class="title class_">DynamicProxyHandler</span> <span class="keyword">implements</span> <span class="title class_">InvocationHandler</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Object proxied;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">DynamicProxyHandler</span><span class="params">(Object proxied)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.proxied = proxied;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="comment">//proxy:对象的引用 ,method :被调用的方法 ，args:方法里面的参数</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable &#123;   </span><br><span class="line">        System.out.println(<span class="string">&quot;**** proxy: &quot;</span> + proxy.getClass() + <span class="string">&quot;. method: &quot;</span> +method + <span class="string">&quot;, args &quot;</span> + args);</span><br><span class="line">        <span class="keyword">if</span> (args !=<span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">for</span> (Object arg : args)             <span class="comment">//方法里面的参数</span></span><br><span class="line">                System.out.println(<span class="string">&quot; &quot;</span> + arg);</span><br><span class="line">        <span class="keyword">return</span> method.invoke(proxied,args);  <span class="comment">//通过方法调用 引用和参数,转发调用</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SimpleDynamicProxy</span> &#123;</span><br><span class="line">   <span class="keyword">public</span>  <span class="keyword">static</span>  <span class="keyword">void</span> <span class="title function_">consumer</span><span class="params">(Interface iface)</span>&#123;</span><br><span class="line">       iface.doSomething();</span><br><span class="line">       iface.somethingElse(<span class="string">&quot;bonobo&quot;</span>);</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">RealObject</span> <span class="variable">real</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RealObject</span>();</span><br><span class="line"><span class="comment">//        consumer(real);                   //常用调用</span></span><br><span class="line">        <span class="comment">//Insert a proxy and cal again:</span></span><br><span class="line">        <span class="type">Interface</span> <span class="variable">proxy</span> <span class="operator">=</span> (Interface) Proxy.newProxyInstance(Interface.class.getClassLoader(),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;Interface.class&#125;,<span class="keyword">new</span> <span class="title class_">DynamicProxyHandler</span>(real));</span><br><span class="line">        consumer(proxy);</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>more demo about dynamic proxy in this article</p>
<p><a target="_blank" rel="noopener" href="https://jonblog.site/2024/05/28/designpattern-proxy/">https://jonblog.site/2024/05/28/designpattern-proxy/</a></p>
<p>2、javap<br>一个随JDK发布的反编译工具<br>命令行 到Cat.java所对应的Cat.class文件的位置<br>运行 <code>javap -private Cat.class</code> 可以反编译源程序</p>
<p>3、没有任何方式可以阻止反射到达并调用那些非公共访问权限的方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ModifyingPrivateFields</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">WithPrivateFinalField</span> <span class="variable">pf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">WithPrivateFinalField</span>();</span><br><span class="line">        System.out.println(pf);</span><br><span class="line"></span><br><span class="line">        <span class="type">Field</span> <span class="variable">f</span> <span class="operator">=</span> pf.getClass().getDeclaredField(<span class="string">&quot;i&quot;</span>);</span><br><span class="line">        f.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;f.getInt(pf): &quot;</span> + f.getInt(pf));</span><br><span class="line">        f.setInt(pf,<span class="number">47</span>);</span><br><span class="line">        System.out.println(pf);</span><br><span class="line"></span><br><span class="line">        Print.print();</span><br><span class="line">        f =pf.getClass().getDeclaredField(<span class="string">&quot;s&quot;</span>);</span><br><span class="line">        f.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;f.get(pf): &quot;</span>+f.get(pf));</span><br><span class="line">        f.set(pf,<span class="string">&quot;you are totally safe&quot;</span>);</span><br><span class="line">        System.out.println(pf);</span><br><span class="line"></span><br><span class="line">        Print.print();</span><br><span class="line">        f = pf.getClass().getDeclaredField(<span class="string">&quot;s2&quot;</span>);</span><br><span class="line">        f.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;f.get(pf): &quot;</span>+f.get(pf));</span><br><span class="line">        f.set(pf,<span class="string">&quot;No,you&#x27;re not!&quot;</span>);</span><br><span class="line">        System.out.println(pf);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">WithPrivateFinalField</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot; I&#x27;m totally safe&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;Am I safe?&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;i = &quot;</span> + i + <span class="string">&quot;, &quot;</span> + s + <span class="string">&quot;, &quot;</span> + s2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://github.com/hengzhou/Rejection">https://github.com/hengzhou/Rejection</a><br><a target="_blank" rel="noopener" href="http://blog.csdn.net/ljphhj/article/details/12858767">http://blog.csdn.net/ljphhj/article/details/12858767</a></p>
<p>this video write code simulate JDK dynamic proxy</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Ve411o7WM">https://www.bilibili.com/video/BV1Ve411o7WM</a></p>
<h1 id="反射机制"><a href="#反射机制" class="headerlink" title="反射机制"></a><span class="ez-toc-section" id="%E5%8F%8D%E5%B0%84%E6%9C%BA%E5%88%B6"></span>反射机制<span class="ez-toc-section-end"></span></h1><p>Java反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象都能够调用它的任意一个方法；这种动态获取的信息以及动态调用对象的方法的功能称为java的反射机制。</p>
<h2 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a><span class="ez-toc-section" id="%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"></span>基本使用<span class="ez-toc-section-end"></span></h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflection;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MethodReflect</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">addResult</span><span class="params">(<span class="type">int</span> addNum)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> addNum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用反射第一步:获取操作类MethodDemoFieldDemo所对应的Class对象</span></span><br><span class="line">Class &lt; ?&gt;cls = Class.forName(<span class="string">&quot;reflection.MethodReflect&quot;</span>);</span><br><span class="line"><span class="comment">//使用MethodDemo类的class对象生成 实例</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> cls.newInstance();</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取public int addResult(int addNum)方法</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">addMethod</span> <span class="operator">=</span> cls.getMethod(<span class="string">&quot;addResult&quot;</span>, <span class="keyword">new</span> <span class="title class_">Class</span>[] &#123;</span><br><span class="line">        <span class="type">int</span>.class</span><br><span class="line">&#125;);</span><br><span class="line">System.out.println(<span class="string">&quot;修饰符: &quot;</span> + Modifier.toString(addMethod.getModifiers()));</span><br><span class="line">System.out.println(<span class="string">&quot;返回值: &quot;</span> + addMethod.getReturnType());</span><br><span class="line">System.out.println(<span class="string">&quot;方法名称: &quot;</span> + addMethod.getName());</span><br><span class="line">System.out.println(<span class="string">&quot;参数列表: &quot;</span> + addMethod.getParameterTypes());</span><br><span class="line"><span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> (<span class="type">int</span>) addMethod.invoke(obj, <span class="number">2</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;调用addResult后的运行结果:&quot;</span> + result);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;--------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取public String toString() 方法</span></span><br><span class="line"><span class="type">Method</span> <span class="variable">toStringMethod</span> <span class="operator">=</span> cls.getMethod(<span class="string">&quot;toString&quot;</span>, <span class="keyword">new</span> <span class="title class_">Class</span>[] &#123;&#125;);</span><br><span class="line">System.out.println(<span class="string">&quot;修饰符: &quot;</span> + Modifier.toString(toStringMethod.getModifiers()));</span><br><span class="line">System.out.println(<span class="string">&quot;返回值: &quot;</span> + toStringMethod.getReturnType());</span><br><span class="line">System.out.println(<span class="string">&quot;方法名称: &quot;</span> + toStringMethod.getName());</span><br><span class="line">System.out.println(<span class="string">&quot;参数列表: &quot;</span> + toStringMethod.getParameterTypes());</span><br><span class="line"><span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> (String) toStringMethod.invoke(obj);</span><br><span class="line">System.out.println(<span class="string">&quot;调用toString后的运行结果:&quot;</span> + msg);</span><br></pre></td></tr></table></figure>

<p>Method类的invoke(Object obj,Object args[])方法接收的参数必须为对象,如果参数为基本类型数据,必须转换为相应的包装类型的对象。invoke()方法的返回值总是对象,如果实际被调用的方法的返回类型是基本类型数据,那么invoke()方法会把它转换为相应的包装类型的对象,再将其返回.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InvokeTester</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InvokeTester</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> param1, <span class="type">int</span> param2)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> param1 + param2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">echo</span><span class="params">(String mesg)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;echo&quot;</span> + mesg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">Class</span> <span class="variable">classType</span> <span class="operator">=</span> InvokeTester.class;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">invokertester</span> <span class="operator">=</span> classType.newInstance(); <span class="comment">//1</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">addMethod</span> <span class="operator">=</span> classType.getMethod(<span class="string">&quot;add&quot;</span>, <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123; <span class="comment">//2</span></span><br><span class="line">                <span class="type">int</span>.class,</span><br><span class="line">                <span class="type">int</span>.class</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="type">Object</span> <span class="variable">result</span> <span class="operator">=</span> addMethod.invoke(invokertester, <span class="keyword">new</span> <span class="title class_">Object</span>[]&#123; <span class="comment">//3</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">100</span>),</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">200</span>)</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        System.out.println(result);</span><br><span class="line">        <span class="type">Method</span> <span class="variable">echo</span> <span class="operator">=</span> classType.getMethod(<span class="string">&quot;echo&quot;</span>, <span class="keyword">new</span> <span class="title class_">Class</span>[]&#123;</span><br><span class="line">                String.class</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> echo.invoke(invokertester, <span class="keyword">new</span> <span class="title class_">Object</span>[]&#123;</span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;Jon is very good!!!&quot;</span>)</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(obj.toString());</span><br><span class="line"></span><br><span class="line">        <span class="type">InvokeTester</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InvokeTester</span>(); <span class="comment">//1</span></span><br><span class="line">        test.setName(<span class="string">&quot;黄翊&quot;</span>); <span class="comment">//2</span></span><br><span class="line">        <span class="comment">//Method[] methods;</span></span><br><span class="line">        Method[] methods = test.getClass().getDeclaredMethods(); <span class="comment">//3</span></span><br><span class="line">        <span class="comment">//循环查找获取id方法，并执行查看是否有返回值</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; methods.length; i++) &#123;</span><br><span class="line">            <span class="comment">//如果此方法有get和Id关键字则执行</span></span><br><span class="line">            <span class="keyword">if</span> (methods[i].getName().indexOf(<span class="string">&quot;get&quot;</span>) != -<span class="number">1</span> &amp;&amp; methods[i].getName().indexOf(<span class="string">&quot;Name&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// 获取此get方法返回值,判断是否有值,如果没有值说明即将执行的操作新增</span></span><br><span class="line">                <span class="keyword">if</span> (methods[i].invoke(test, <span class="literal">null</span>) == <span class="literal">null</span>) &#123; <span class="comment">//4</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;此对象没有值！！！&quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="type">Object</span> <span class="variable">strName</span> <span class="operator">=</span> methods[i].invoke(test, <span class="literal">null</span>);</span><br><span class="line">                    System.out.println(strName);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="invoke方法的使用"><a href="#invoke方法的使用" class="headerlink" title="invoke方法的使用"></a><span class="ez-toc-section" id="invoke%E6%96%B9%E6%B3%95%E7%9A%84%E4%BD%BF%E7%94%A8"></span>invoke方法的使用<span class="ez-toc-section-end"></span></h2><p>实际上invoke方法的使用，和我们常见的有所区别。</p>
<p>我们经常创建一个对象A，A对象里面的方法getA()方法，然后A.getA()</p>
<p>我们采用新的方式调用<br>（1）弄一个方法的“替身”（其实就是构建一个Method对象，让这个Method对象来代替你现在要用的方法）<br>（2）然后给替身需要的对象和参数，让替身去替你调用（像替身替你去战斗）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InvokeTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(String[] arg)</span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (String string : arg) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;zp is &quot;</span> + string);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">invokeDemo</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//获取字节码对象,这里要填好你对应对象的包的路径</span></span><br><span class="line">        Class&lt;InvokeTest&gt; clazz = (Class&lt;InvokeTest&gt;) Class.forName(<span class="string">&quot;reflection.InvokeTest&quot;</span>);</span><br><span class="line">        <span class="comment">//形式一：获取一个对象</span></span><br><span class="line"><span class="comment">//        Constructor con =  clazz.getConstructor();</span></span><br><span class="line"><span class="comment">//        InvokeTest m = (InvokeTest) con.newInstance();</span></span><br><span class="line">        <span class="comment">//形式二：直接new对象，实际上不是框架的话，自己写代码直接指定某个对象创建并调用也可以</span></span><br><span class="line">        <span class="type">InvokeTest</span> <span class="variable">m</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InvokeTest</span>();</span><br><span class="line">        String[] s = <span class="keyword">new</span> <span class="title class_">String</span>[]&#123;<span class="string">&quot;handsome&quot;</span>,<span class="string">&quot;smart&quot;</span>&#125;;</span><br><span class="line">        <span class="comment">//获取Method对象</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">method</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;test&quot;</span>, String[].class); <span class="comment">//invoke方法要比别的方法多做一步</span></span><br><span class="line">        <span class="comment">//调用invoke方法来调用</span></span><br><span class="line">        method.invoke(m, (Object) s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<blockquote>
<p>zp is handsome<br>zp is smart</p>
</blockquote>
<p>所以使用invoke方法要比别的方法多做一步，就是构建一个Method对象，这个对象替代的是现在程序要调用方法的替代品。</p>
<p>而且除了参数以外，invoke还会多要一个对象，因为方法调用需要对象，所以invoke要想调用的目标方法，就需要目标方法的需要的对象。</p>
<p>看起来invoke方法不仅比平常方法直接调用要麻烦很多，但是你有想过吗，我只需要输入参数，我可以调用替代各种方法，在未知的情况下，根据条件决定去调用什么对象，什么方法，一下子就让代码变得灵活，这不仅是invoke的妙处，也是整个反射的妙处，在程序运行时根据条件灵活使用。</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/350058223">https://zhuanlan.zhihu.com/p/350058223</a></p>
<h2 id="Method信息"><a href="#Method信息" class="headerlink" title="Method信息"></a><span class="ez-toc-section" id="Method%E4%BF%A1%E6%81%AF"></span>Method信息<span class="ez-toc-section-end"></span></h2><p>我们已经能通过<code>Class</code>实例获取所有<code>Field</code>对象，同样的，可以通过<code>Class</code>实例获取所有<code>Method</code>信息。<code>Class</code>类提供了以下几个方法来获取<code>Method</code>：</p>
<ul>
<li><code>Method getMethod(name, Class...)</code>：获取某个<code>public</code>的<code>Method</code>（包括父类）</li>
<li><code>Method getDeclaredMethod(name, Class...)</code>：获取当前类的某个<code>Method</code>（不包括父类）</li>
<li><code>Method[] getMethods()</code>：获取所有<code>public</code>的<code>Method</code>（包括父类）</li>
<li><code>Method[] getDeclaredMethods()</code>：获取当前类的所有<code>Method</code>（不包括父类）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getScore</span><span class="params">(String type)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">99</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getGrade</span><span class="params">(<span class="type">int</span> year)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @Override</span></span><br><span class="line"><span class="comment">//    public void hello() &#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;Student:hello&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">hello</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Person:hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;Student&gt; methodClass = Student.class;</span><br><span class="line">Arrays.stream(methodClass.getMethods()).forEach(method -&gt; System.out.println(<span class="string">&quot;method方法:    &quot;</span> + method));</span><br></pre></td></tr></table></figure>

<p>打印出</p>
<blockquote>
<p>method方法: public int reflection.liao.Student.getScore(java.lang.String)<br>method方法: public void reflection.liao.Person.hello()<br>method方法: public java.lang.String reflection.liao.Person.getName()</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;Person&gt; methodClass = Person.class;</span><br><span class="line">Arrays.stream(methodClass.getMethods()).forEach(method -&gt; System.out.println(<span class="string">&quot;method方法:    &quot;</span> + method));</span><br></pre></td></tr></table></figure>

<p>打印出</p>
<blockquote>
<p>method方法: public void reflection.liao.Person.hello()<br>method方法: public java.lang.String reflection.liao.Person.getName()</p>
<p>…object方法</p>
</blockquote>
<ol>
<li>getMethods()可以 获取所有<code>public</code>的<code>Method</code>（包括父类），</li>
<li>不能获取到子类的方法,除非是是多肽实现</li>
</ol>
<h2 id="getDeclaredMethod获取的Method能否调用子类"><a href="#getDeclaredMethod获取的Method能否调用子类" class="headerlink" title="getDeclaredMethod获取的Method能否调用子类?"></a><span class="ez-toc-section" id="getDeclaredMethod%E8%8E%B7%E5%8F%96%E7%9A%84Method%E8%83%BD%E5%90%A6%E8%B0%83%E7%94%A8%E5%AD%90%E7%B1%BB"></span>getDeclaredMethod获取的Method能否调用子类?<span class="ez-toc-section-end"></span></h2><p>父类class通过getDeclaredMethod获取的Method能否调用子类的对象</p>
<p>验证是不可以</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;?&gt; clz = Class.forName(<span class="string">&quot;reflection.liao.Person&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> clz.newInstance();</span><br><span class="line"><span class="type">Method</span> <span class="variable">methodGetName</span> <span class="operator">=</span> clz.getMethod(<span class="string">&quot;getName&quot;</span>);</span><br><span class="line"><span class="type">Object</span> <span class="variable">noParams</span> <span class="operator">=</span> methodGetName.invoke(o);</span><br><span class="line">System.out.println(noParams);</span><br><span class="line"></span><br><span class="line"><span class="type">Method</span> <span class="variable">methodHello</span>  <span class="operator">=</span> clz.getMethod(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">System.out.println(methodHello.invoke(o));</span><br><span class="line"></span><br><span class="line"><span class="type">Method</span> <span class="variable">methodGetGrade</span> <span class="operator">=</span> clz.getMethod(<span class="string">&quot;getGrade&quot;</span>);</span><br><span class="line">System.out.println(methodGetGrade.invoke(o));</span><br></pre></td></tr></table></figure>

<blockquote>
<p>A Person<br>Person:hello<br>null &#x2F;&#x2F; 这个null是哪里来的</p>
</blockquote>
<p>提示</p>
<p>java.lang.NoSuchMethodException: reflection.liao.Person.getGrade()</p>
<p>所以是调用不了的。</p>
<p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1264803678201760">https://www.liaoxuefeng.com/wiki/1252599548343744/1264803678201760</a></p>
<p><a target="_blank" rel="noopener" href="http://www.51gjie.com/java/796.html">http://www.51gjie.com/java/796.html</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/onlywujun/p/3519037.html">https://www.cnblogs.com/onlywujun/p/3519037.html</a></p>
</div></article></div><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item">Posted&nbsp;<time dateTime="2024-05-30T07:50:12.000Z" title="5/30/2024, 3:50:12 PM">2024-05-30</time></span><span class="level-item">Updated&nbsp;<time dateTime="2024-09-13T21:02:22.000Z" title="9/14/2024, 5:02:22 AM">2024-09-14</time></span><span class="level-item"> Jon </span><span class="level-item"><a class="link-muted" href="/categories/TOOL/">TOOL</a></span><span class="level-item">a few seconds read (About 24 words)</span></div></div><p class="title is-3 is-size-4-mobile"><a class="link-muted" href="/2024/05/30/idea-error/">IDEA ERROR</a></p><div class="content"><h1 id="No-tests-found-for-given-includes-Error"><a href="#No-tests-found-for-given-includes-Error" class="headerlink" title="No tests found for given includes Error"></a>No tests found for given includes Error</h1><p>when running Parameterized Unit test in Android Studio</p>
<p><img src="https://raw.githubusercontent.com/BlogForMe/ImageServer/main/IDE/20240530154923.jpg"></p>
</div></article></div><nav class="pagination" role="navigation" aria-label="pagination"><div class="pagination-previous"><a href="/">Previous</a></div><div class="pagination-next"><a href="/page/3/">Next</a></div><ul class="pagination-list is-hidden-mobile"><li><a class="pagination-link" href="/">1</a></li><li><a class="pagination-link is-current" href="/page/2/">2</a></li><li><a class="pagination-link" href="/page/3/">3</a></li><li><span class="pagination-ellipsis">&hellip;</span></li><li><a class="pagination-link" href="/page/25/">25</a></li></ul></nav></div><div class="column column-left is-4-tablet is-4-desktop is-4-widescreen  order-1"><div class="card widget" data-type="profile"><div class="card-content"><nav class="level"><div class="level-item has-text-centered flex-shrink-1"><div><figure class="image is-128x128 mx-auto mb-2"><img class="avatar" src="/img/avatar.png" alt="Your name"></figure><p class="title is-size-4 is-block" style="line-height:inherit;">Your name</p><p class="is-size-6 is-block">Your title</p><p class="is-size-6 is-flex justify-content-center"><i class="fas fa-map-marker-alt mr-1"></i><span>Your location</span></p></div></div></nav><nav class="level is-mobile"><div class="level-item has-text-centered is-marginless"><div><p class="heading">Posts</p><a href="/archives"><p class="title">243</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Categories</p><a href="/categories"><p class="title">30</p></a></div></div><div class="level-item has-text-centered is-marginless"><div><p class="heading">Tags</p><a href="/tags"><p class="title">33</p></a></div></div></nav><div class="level"><a class="level-item button is-primary is-rounded" href="https://github.com/ppoffice" target="_blank" rel="noopener">Follow</a></div><div class="level is-mobile is-multiline"><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Github" href="https://github.com/ppoffice"><i class="fab fa-github"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Facebook" href="https://facebook.com"><i class="fab fa-facebook"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Twitter" href="https://twitter.com"><i class="fab fa-twitter"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="Dribbble" href="https://dribbble.com"><i class="fab fa-dribbble"></i></a><a class="level-item button is-transparent is-marginless" target="_blank" rel="noopener" title="RSS" href="/"><i class="fas fa-rss"></i></a></div></div></div><!--!--><div class="card widget" data-type="links"><div class="card-content"><div class="menu"><h3 class="menu-label">Links</h3><ul class="menu-list"><li><a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Hexo</span></span><span class="level-right"><span class="level-item tag">hexo.io</span></span></a></li><li><a class="level is-mobile" href="https://bulma.io" target="_blank" rel="noopener"><span class="level-left"><span class="level-item">Bulma</span></span><span class="level-right"><span class="level-item tag">bulma.io</span></span></a></li></ul></div></div></div><div class="card widget" data-type="categories"><div class="card-content"><div class="menu"><h3 class="menu-label">Categories</h3><ul class="menu-list"><li><a class="level is-mobile" href="/categories/ANDROID/"><span class="level-start"><span class="level-item">ANDROID</span></span><span class="level-end"><span class="level-item tag">54</span></span></a></li><li><a class="level is-mobile" href="/categories/Architecture/"><span class="level-start"><span class="level-item">Architecture</span></span><span class="level-end"><span class="level-item tag">3</span></span></a><ul><li><a class="level is-mobile" href="/categories/Architecture/DesignPattern/"><span class="level-start"><span class="level-item">DesignPattern</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/BLE/"><span class="level-start"><span class="level-item">BLE</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/C/"><span class="level-start"><span class="level-item">C++</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/COROUTINE/"><span class="level-start"><span class="level-item">COROUTINE</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/Computer-Composition-principles/"><span class="level-start"><span class="level-item">Computer Composition principles</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/DataStructure/"><span class="level-start"><span class="level-item">DataStructure</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/categories/DesignPattern/"><span class="level-start"><span class="level-item">DesignPattern</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/DesignPatterns/"><span class="level-start"><span class="level-item">DesignPatterns</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/ENGLISH/"><span class="level-start"><span class="level-item">ENGLISH</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/INTERVIEW/"><span class="level-start"><span class="level-item">INTERVIEW</span></span><span class="level-end"><span class="level-item tag">9</span></span></a><ul><li><a class="level is-mobile" href="/categories/INTERVIEW/NETWORK/"><span class="level-start"><span class="level-item">NETWORK</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li></ul></li><li><a class="level is-mobile" href="/categories/JAVA/"><span class="level-start"><span class="level-item">JAVA</span></span><span class="level-end"><span class="level-item tag">27</span></span></a></li><li><a class="level is-mobile" href="/categories/JETPACK/"><span class="level-start"><span class="level-item">JETPACK</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Jetpack/"><span class="level-start"><span class="level-item">Jetpack</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Kotlin/"><span class="level-start"><span class="level-item">Kotlin</span></span><span class="level-end"><span class="level-item tag">11</span></span></a></li><li><a class="level is-mobile" href="/categories/LIFE/"><span class="level-start"><span class="level-item">LIFE</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/LINUX/"><span class="level-start"><span class="level-item">LINUX</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/categories/Library/"><span class="level-start"><span class="level-item">Library</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/Mathematics/"><span class="level-start"><span class="level-item">Mathematics</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/NETWORK/"><span class="level-start"><span class="level-item">NETWORK</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/categories/OS/"><span class="level-start"><span class="level-item">OS</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/Organization/"><span class="level-start"><span class="level-item">Organization</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/categories/SOURCE/"><span class="level-start"><span class="level-item">SOURCE</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/categories/TEST/"><span class="level-start"><span class="level-item">TEST</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/TOOL/"><span class="level-start"><span class="level-item">TOOL</span></span><span class="level-end"><span class="level-item tag">15</span></span></a></li><li><a class="level is-mobile" href="/categories/VIEW/"><span class="level-start"><span class="level-item">VIEW</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/categories/anim/"><span class="level-start"><span class="level-item">anim</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/categories/flutter/"><span class="level-start"><span class="level-item">flutter</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li></ul></div></div></div><div class="card widget" data-type="recent-posts"><div class="card-content"><h3 class="menu-label">Recents</h3><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-07-04T07:57:26.000Z">2024-07-04</time></p><p class="title"><a href="/2024/07/04/DesignPatterns-State/">DesignPatterns_State</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-07-03T05:51:25.000Z">2024-07-03</time></p><p class="title"><a href="/2024/07/03/glide/">glide</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-06-28T09:37:49.000Z">2024-06-28</time></p><p class="title"><a href="/2024/06/28/bitmap/">Bitmap</a></p><p class="categories"><a href="/categories/Computer-Composition-principles/">Computer Composition principles</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-06-28T08:04:14.000Z">2024-06-28</time></p><p class="title"><a href="/2024/06/28/bits-and-bytes/">Bits and Bytes</a></p><p class="categories"><a href="/categories/Computer-Composition-principles/">Computer Composition principles</a></p></div></article><article class="media"><div class="media-content"><p class="date"><time dateTime="2024-06-26T06:45:50.000Z">2024-06-26</time></p><p class="title"><a href="/2024/06/26/lifecycle/">LifeCycle</a></p><p class="categories"><a href="/categories/JETPACK/">JETPACK</a></p></div></article></div></div><div class="card widget" data-type="archives"><div class="card-content"><div class="menu"><h3 class="menu-label">Archives</h3><ul class="menu-list"><li><a class="level is-mobile" href="/archives/2024/07/"><span class="level-start"><span class="level-item">July 2024</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/06/"><span class="level-start"><span class="level-item">June 2024</span></span><span class="level-end"><span class="level-item tag">16</span></span></a></li><li><a class="level is-mobile" href="/archives/2024/05/"><span class="level-start"><span class="level-item">May 2024</span></span><span class="level-end"><span class="level-item tag">28</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/11/"><span class="level-start"><span class="level-item">November 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/08/"><span class="level-start"><span class="level-item">August 2023</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/04/"><span class="level-start"><span class="level-item">April 2023</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2023/01/"><span class="level-start"><span class="level-item">January 2023</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/12/"><span class="level-start"><span class="level-item">December 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/10/"><span class="level-start"><span class="level-item">October 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/09/"><span class="level-start"><span class="level-item">September 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/08/"><span class="level-start"><span class="level-item">August 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/07/"><span class="level-start"><span class="level-item">July 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/06/"><span class="level-start"><span class="level-item">June 2022</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/05/"><span class="level-start"><span class="level-item">May 2022</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/04/"><span class="level-start"><span class="level-item">April 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/03/"><span class="level-start"><span class="level-item">March 2022</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/02/"><span class="level-start"><span class="level-item">February 2022</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2022/01/"><span class="level-start"><span class="level-item">January 2022</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/12/"><span class="level-start"><span class="level-item">December 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/11/"><span class="level-start"><span class="level-item">November 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/10/"><span class="level-start"><span class="level-item">October 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/09/"><span class="level-start"><span class="level-item">September 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/08/"><span class="level-start"><span class="level-item">August 2021</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/06/"><span class="level-start"><span class="level-item">June 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/05/"><span class="level-start"><span class="level-item">May 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/04/"><span class="level-start"><span class="level-item">April 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/03/"><span class="level-start"><span class="level-item">March 2021</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/02/"><span class="level-start"><span class="level-item">February 2021</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2021/01/"><span class="level-start"><span class="level-item">January 2021</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/12/"><span class="level-start"><span class="level-item">December 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/11/"><span class="level-start"><span class="level-item">November 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/10/"><span class="level-start"><span class="level-item">October 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/09/"><span class="level-start"><span class="level-item">September 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/08/"><span class="level-start"><span class="level-item">August 2020</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/07/"><span class="level-start"><span class="level-item">July 2020</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/06/"><span class="level-start"><span class="level-item">June 2020</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/05/"><span class="level-start"><span class="level-item">May 2020</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/04/"><span class="level-start"><span class="level-item">April 2020</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/03/"><span class="level-start"><span class="level-item">March 2020</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2020/01/"><span class="level-start"><span class="level-item">January 2020</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/12/"><span class="level-start"><span class="level-item">December 2019</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/11/"><span class="level-start"><span class="level-item">November 2019</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/09/"><span class="level-start"><span class="level-item">September 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/08/"><span class="level-start"><span class="level-item">August 2019</span></span><span class="level-end"><span class="level-item tag">3</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/07/"><span class="level-start"><span class="level-item">July 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/06/"><span class="level-start"><span class="level-item">June 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/04/"><span class="level-start"><span class="level-item">April 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/03/"><span class="level-start"><span class="level-item">March 2019</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2019/01/"><span class="level-start"><span class="level-item">January 2019</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/11/"><span class="level-start"><span class="level-item">November 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/08/"><span class="level-start"><span class="level-item">August 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/07/"><span class="level-start"><span class="level-item">July 2018</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/06/"><span class="level-start"><span class="level-item">June 2018</span></span><span class="level-end"><span class="level-item tag">5</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/05/"><span class="level-start"><span class="level-item">May 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/04/"><span class="level-start"><span class="level-item">April 2018</span></span><span class="level-end"><span class="level-item tag">2</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/03/"><span class="level-start"><span class="level-item">March 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/02/"><span class="level-start"><span class="level-item">February 2018</span></span><span class="level-end"><span class="level-item tag">1</span></span></a></li><li><a class="level is-mobile" href="/archives/2018/01/"><span class="level-start"><span class="level-item">January 2018</span></span><span class="level-end"><span class="level-item tag">4</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/12/"><span class="level-start"><span class="level-item">December 2017</span></span><span class="level-end"><span class="level-item tag">8</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/11/"><span class="level-start"><span class="level-item">November 2017</span></span><span class="level-end"><span class="level-item tag">6</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/10/"><span class="level-start"><span class="level-item">October 2017</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/09/"><span class="level-start"><span class="level-item">September 2017</span></span><span class="level-end"><span class="level-item tag">7</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/08/"><span class="level-start"><span class="level-item">August 2017</span></span><span class="level-end"><span class="level-item tag">12</span></span></a></li><li><a class="level is-mobile" href="/archives/2017/07/"><span class="level-start"><span class="level-item">July 2017</span></span><span class="level-end"><span class="level-item tag">9</span></span></a></li></ul></div></div></div><div class="card widget" data-type="tags"><div class="card-content"><div class="menu"><h3 class="menu-label">Tags</h3><div class="field is-grouped is-grouped-multiline"><div class="control"><a class="tags has-addons" href="/tags/ANDROID/"><span class="tag">ANDROID</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AOSP/"><span class="tag">AOSP</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Activity/"><span class="tag">Activity</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/AndroidNewFeatures/"><span class="tag">AndroidNewFeatures</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Assembly/"><span class="tag">Assembly</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/BLOG/"><span class="tag">BLOG</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/ConstraintLayout/"><span class="tag">ConstraintLayout</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DB/"><span class="tag">DB</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/DesignPattern/"><span class="tag">DesignPattern</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Drawer/"><span class="tag">Drawer</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Fragment/"><span class="tag">Fragment</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/JVM/"><span class="tag">JVM</span><span class="tag">8</span></a></div><div class="control"><a class="tags has-addons" href="/tags/LEETCODE/"><span class="tag">LEETCODE</span><span class="tag">12</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Library/"><span class="tag">Library</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Operators/"><span class="tag">Operators</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Performance/"><span class="tag">Performance</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RecyclerView/"><span class="tag">RecyclerView</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/RxJava/"><span class="tag">RxJava</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/THINK/"><span class="tag">THINK</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TOOL/"><span class="tag">TOOL</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TabLayout/"><span class="tag">TabLayout</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/Test/"><span class="tag">Test</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/TouchEvent/"><span class="tag">TouchEvent</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/VIEW/"><span class="tag">VIEW</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/XML/"><span class="tag">XML</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/anim/"><span class="tag">anim</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/compose/"><span class="tag">compose</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/concurrency/"><span class="tag">concurrency</span><span class="tag">4</span></a></div><div class="control"><a class="tags has-addons" href="/tags/coroutie/"><span class="tag">coroutie</span><span class="tag">7</span></a></div><div class="control"><a class="tags has-addons" href="/tags/inter/"><span class="tag">inter</span><span class="tag">2</span></a></div><div class="control"><a class="tags has-addons" href="/tags/keyboard/"><span class="tag">keyboard</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/permission/"><span class="tag">permission</span><span class="tag">1</span></a></div><div class="control"><a class="tags has-addons" href="/tags/proguard/"><span class="tag">proguard</span><span class="tag">1</span></a></div></div></div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">Subscribe for updates</h3><form action="https://feedburner.google.com/fb/a/mailverify" method="post" target="popupwindow" onsubmit="window.open(&#039;https://feedburner.google.com/fb/a/mailverify?uri=&#039;,&#039;popupwindow&#039;,&#039;scrollbars=yes,width=550,height=520&#039;);return true"><input type="hidden" value="" name="uri"><input type="hidden" name="loc" value="en_US"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div><div class="card widget"><div class="card-content"><div class="notification is-danger">You need to set <code>client_id</code> and <code>slot_id</code> to show this AD unit. Please set it in <code>_config.yml</code>.</div></div></div><div class="card widget" data-type="subscribe-email"><div class="card-content"><div class="menu"><h3 class="menu-label">follow.it</h3><form action="" method="post" target="_blank"><div class="field has-addons"><div class="control has-icons-left is-expanded"><input class="input" name="email" type="email" placeholder="Email"><span class="icon is-small is-left"><i class="fas fa-envelope"></i></span></div><div class="control"><input class="button" type="submit" value="Subscribe"></div></div></form></div></div></div></div><!--!--></div></div></section><footer class="footer"><div class="container"><div class="level"><div class="level-start"><a class="footer-logo is-block mb-2" href="/"><img src="/img/logo.svg" alt="Jon&#039;s Blog" height="28"></a><p class="is-size-7"><span>&copy; 2024 Jon</span>  Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> &amp; <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a></p><p class="is-size-7">© 2019</p></div><div class="level-end"><div class="field has-addons"><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/"><i class="fab fa-creative-commons"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/"><i class="fab fa-creative-commons-by"></i></a></p><p class="control"><a class="button is-transparent is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a></p></div></div></div></div></footer><script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script><script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script><script>moment.locale("en");</script><script>var IcarusThemeSettings = {
            article: {
                highlight: {
                    clipboard: true,
                    fold: 'unfolded'
                }
            }
        };</script><script src="/js/column.js"></script><script src="/js/animation.js"></script><a id="back-to-top" title="Back to top" href="javascript:;"><i class="fas fa-chevron-up"></i></a><script src="/js/back_to_top.js" defer></script><!--!--><!--!--><!--!--><script src="https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js" defer></script><script>window.addEventListener("load", () => {
      window.cookieconsent.initialise({
        type: "info",
        theme: "edgeless",
        static: false,
        position: "bottom-left",
        content: {
          message: "This website uses cookies to improve your experience.",
          dismiss: "Got it!",
          allow: "Allow cookies",
          deny: "Decline",
          link: "Learn more",
          policy: "Cookie Policy",
          href: "https://www.cookiesandyou.com/",
        },
        palette: {
          popup: {
            background: "#edeff5",
            text: "#838391"
          },
          button: {
            background: "#4b81e8"
          },
        },
      });
    });</script><script src="https://cdn.jsdelivr.net/npm/lightgallery@1.10.0/dist/js/lightgallery.min.js" defer></script><script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.8.1/dist/js/jquery.justifiedGallery.min.js" defer></script><script>window.addEventListener("load", () => {
            if (typeof $.fn.lightGallery === 'function') {
                $('.article').lightGallery({ selector: '.gallery-item' });
            }
            if (typeof $.fn.justifiedGallery === 'function') {
                if ($('.justified-gallery > p > .gallery-item').length) {
                    $('.justified-gallery > p > .gallery-item').unwrap();
                }
                $('.justified-gallery').justifiedGallery();
            }
        });</script><!--!--><!--!--><!--!--><!--!--><!--!--><script src="/js/main.js" defer></script><div class="searchbox"><div class="searchbox-container"><div class="searchbox-header"><div class="searchbox-input-container"><input class="searchbox-input" type="text" placeholder="Type something..."></div><a class="searchbox-close" href="javascript:;">×</a></div><div class="searchbox-body"></div></div></div><script src="/js/insight.js" defer></script><script>document.addEventListener('DOMContentLoaded', function () {
            loadInsight({"contentUrl":"/content.json"}, {"hint":"Type something...","untitled":"(Untitled)","posts":"Posts","pages":"Pages","categories":"Categories","tags":"Tags"});
        });</script></body></html>