<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Jon&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  
  
    <link rel="alternate" href="/atom.xml" title="Jon's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
    
<link rel="stylesheet" href="/localshare/css/share.css">

  
  
  
<meta name="generator" content="Hexo 6.3.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jon&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Cease to struggle and you cease to live. - Thomas Carlyle</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/."><i class="fa fa-home"></i> Home</a>
        
          <a class="main-nav-link" href="/archives/"><i class="fa fa-archive"></i> Archive</a>
        
          <a class="main-nav-link" href="/about/"><i class="fa fa-user"></i> About</a>
        
          <a class="main-nav-link" href="/atom.xml"><i class="fa fa-rss"></i> RSS</a>
        
      </nav>
    </div>
    <div id="search-form">
      <div id="result-mask" class="hide"></div>
      <label><input id="search-key" type="text" autocomplete="off" placeholder="search"></label>
      <div id="result-wrap" class="hide">
        <div id="search-result"></div>
      </div>
      <div class="hide">
        <template id="search-tpl">
          <div class="item">
            <a href="/{path}" title="{title}">
              <div class="title">{title}</div>
              <div class="time">{date}</div>
              <div class="tags">{tags}</div>
            </a>
          </div>
        </template>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  <article id="post-Gradle" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/26/Gradle/">Gradle</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-07-26T06:58:38.000Z" itemprop="datePublished">2022年07月26日</time>
</span>
      
      
      
<a href="/2022/07/26/Gradle/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>可以研究下 Project Api </p>
<h3 id="DEBUG"><a href="#DEBUG" class="headerlink" title="DEBUG"></a>DEBUG</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.&#x2F;gradlew &quot;-Dorg.gradle.daemon&#x3D;false&quot; &quot;-Dorg.gradle.debug&#x3D;true&quot; :tasks</span><br></pre></td></tr></table></figure>



<p>9:37</p>
<h3 id="Gradle-Lifecycle"><a href="#Gradle-Lifecycle" class="headerlink" title="Gradle Lifecycle"></a>Gradle Lifecycle</h3><p><a target="_blank" rel="noopener" href="https://docs.gradle.org/current/userguide/build_lifecycle.html">https://docs.gradle.org/current/userguide/build_lifecycle.html</a></p>
<ul>
<li><p>Initialization</p>
<p>Detects the <a target="_blank" rel="noopener" href="https://docs.gradle.org/current/userguide/organizing_gradle_projects.html#sec:settings_file">settings file</a>.Evaluates the settings file to determine which projects and included builds participate in the build.Creates a <a target="_blank" rel="noopener" href="https://docs.gradle.org/current/dsl/org.gradle.api.Project.html"><code>Project</code></a> instance for every project.</p>
</li>
<li><p>Configuration</p>
<p>Evaluates the build scripts of every project participating in the build.Creates a task graph for requested tasks.</p>
<p>本质上把build.gradle从上到下跑一遍。</p>
</li>
<li><p>Execution</p>
<p>Schedules and executes each of the selected tasks in the order of their dependencies.</p>
</li>
</ul>
<h3 id="任务"><a href="#任务" class="headerlink" title="任务"></a>任务</h3><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1m54y1L7vK/">https://www.bilibili.com/video/BV1m54y1L7vK/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1dK411K7Pg">https://www.bilibili.com/video/BV1dK411K7Pg</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1DE411Z7nt">https://www.bilibili.com/video/BV1DE411Z7nt</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1dp4y1e7W4">https://www.bilibili.com/video/BV1dp4y1e7W4</a></p>
<p>注意Android stuio默认关闭task 按钮</p>
<h5 id="静态任务"><a href="#静态任务" class="headerlink" title="静态任务"></a>静态任务</h5><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">println(<span class="string">&quot;gradle study&quot;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">task(<span class="string">&quot;helloworld&quot;</span>,&#123;</span><br><span class="line">    println(<span class="string">&#x27;configure&#x27;</span>)</span><br><span class="line">    doLast &#123;&#123;</span><br><span class="line">        println(<span class="string">&quot;Executing task&quot;</span>)</span><br><span class="line">    &#125;&#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>



<p>./gradlew helloworld</p>
<h5 id="动态任务"><a href="#动态任务" class="headerlink" title="动态任务"></a>动态任务</h5><p><img src="/2022/07/26/Gradle/2023-07-16-gradle1.png" alt="2023-07-16-gradle1"></p>
<p>“configure” 在生命周期Configuration 阶段就执行。</p>
<p>dolast dofirst只是加入到任务中，只有指定具体执行的任务，才会执行，就像上面的 ./gradlew helloworld，指明helloworld任务。</p>
<p>闭包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">task testGrdele&#123;</span><br><span class="line">    println(&quot;testGrdele&quot;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F;闭包的概念, 像kotlin匿名函数</span><br><span class="line">task closure&#123;</span><br><span class="line">    mEach&#123;</span><br><span class="line">        println it</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    mEachWithParams &#123; m, n -&gt;&#x2F;&#x2F;  -&gt; 将闭包的参数和主体分离开</span><br><span class="line">        println &quot;$&#123;m&#125; is $&#123;n&#125;&quot;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">def mEach(closure)&#123;</span><br><span class="line">    for (int i in 1..5)&#123;</span><br><span class="line">        closure(i)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">def mEachWithParams(closure)&#123;</span><br><span class="line">    def map &#x3D; [&#39;name&#39;:&#39;groovy&#39;,&#39;age&#39;:10]</span><br><span class="line">    map.each &#123;</span><br><span class="line">        closure(it.key,it.value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h3 id="Plugin"><a href="#Plugin" class="headerlink" title="Plugin"></a>Plugin</h3><h4 id="Scrpit-Plugin"><a href="#Scrpit-Plugin" class="headerlink" title="Scrpit Plugin"></a>Scrpit Plugin</h4><h5 id="CustomGradlePlugin"><a href="#CustomGradlePlugin" class="headerlink" title="CustomGradlePlugin"></a>CustomGradlePlugin</h5><p> ./gradlew CustomGradlePlugin</p>
<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.脚本插件</span></span><br><span class="line"><span class="comment">//app模块下的build.gradle文件中定义的对象插件</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">CustomGradlePlugin</span> <span class="keyword">implements</span> <span class="title">Plugin</span>&lt;<span class="title">Project</span>&gt; &#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> apply(Project target) &#123;</span><br><span class="line">        target.task(<span class="string">&quot;showCustomPlugin&quot;</span>) &#123;</span><br><span class="line">            doLast &#123;</span><br><span class="line">                println(<span class="string">&quot;this is CustomGradlePlugin&quot;</span>)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>./gradlew scriptPlugin</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apply from: &quot;config.gradle&quot;</span><br></pre></td></tr></table></figure>

<figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">project.task(<span class="string">&quot;scriptPlugin&quot;</span>) &#123;</span><br><span class="line">    doLast &#123;</span><br><span class="line">        println(<span class="string">&quot;$project.name:this is a scriptPlugin&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>ankotlin:this is a scriptPlugin</p>
<h5 id="MyAwesomePlugin"><a href="#MyAwesomePlugin" class="headerlink" title="MyAwesomePlugin"></a>MyAwesomePlugin</h5><figure class="highlight groovy"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyAwesomePlugin</span> <span class="keyword">implements</span> <span class="title">Plugin</span>&lt;<span class="title">Project</span>&gt;&#123;</span></span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">void</span> apply(Project project) &#123;</span><br><span class="line">        task(<span class="string">&quot;helloworld22&quot;</span>,&#123;</span><br><span class="line">            println(<span class="string">&#x27;configure&#x27;</span>)</span><br><span class="line">            doLast &#123;&#123;</span><br><span class="line">                println(<span class="string">&quot;Executing task&quot;</span>)</span><br><span class="line">            &#125;&#125;</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">apply <span class="attr">plugins :</span> MyAwesomePlugin</span><br></pre></td></tr></table></figure>





<p>buildscript 可以把java complile的classpath加入到build.gradle中</p>
<h4 id="Use-Plungin-in-build-gradle"><a href="#Use-Plungin-in-build-gradle" class="headerlink" title="Use Plungin in build.gradle"></a>Use Plungin in build.gradle</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">buildscript &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        mavenCentral()</span><br><span class="line">    &#125;</span><br><span class="line">    dependencies &#123;</span><br><span class="line">        classpath group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.5&#39;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">allprojects &#123;</span><br><span class="line">    repositories &#123;</span><br><span class="line">        mavenCentral()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">apply plugin: &#39;java&#39;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    implementation group: &#39;org.apache.commons&#39;, name: &#39;commons-lang3&#39;, version: &#39;3.5&#39;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">if (StringUtils.isNoneEmpty())&#123;</span><br><span class="line">    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样就能使用java的方法在build.gradle中。</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/60550107/gradle-share-repository-configuration-between-settings-gradle-kts-and-buildsrc">https://stackoverflow.com/questions/60550107/gradle-share-repository-configuration-between-settings-gradle-kts-and-buildsrc</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/3/index.html">https://noteforme.github.io/page/3/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-kotlin-inline" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/24/kotlin-inline/">kotlin-inline</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-07-24T03:54:53.000Z" itemprop="datePublished">2022年07月24日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/Kotlin/">Kotlin</a>
  </div>

      
      
<a href="/2022/07/24/kotlin-inline/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="/2022/07/24/kotlin-inline/20220724115333.jpg" alt="20220724115333"></p>
<h4 id="inline"><a href="#inline" class="headerlink" title="inline"></a>inline</h4><p>4:00分钟 </p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    hello &#123;</span><br><span class="line">        println(<span class="string">&quot;Bye&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="不加inline"><a href="#不加inline" class="headerlink" title="不加inline"></a>不加inline</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">hello</span><span class="params">(postAction: () -&gt; <span class="type">Unit</span>)</span></span> &#123;</span><br><span class="line">    println(<span class="string">&quot;Hello!&quot;</span>)</span><br><span class="line">    postAction()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>实际编译结果大致</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">val</span> post. = <span class="keyword">object</span>: Function0&lt;<span class="built_in">Unit</span>&gt;&#123;</span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">nvoke</span><span class="params">()</span></span>&#123;</span><br><span class="line">      <span class="keyword">return</span> prinltn(<span class="string">&quot;Bye!&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果在for(i in 1.. 100) 就会创建很对个对象</p>
<h5 id="加-inline"><a href="#加-inline" class="headerlink" title="加 inline"></a>加 inline</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">hello</span><span class="params">(postAction: () -&gt; <span class="type">Unit</span>)</span></span> &#123;</span><br><span class="line">    println(<span class="string">&quot;Hello!&quot;</span>)</span><br><span class="line">    postAction()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>不仅把函数内连过来,也会把它内部的函数的类型的参数 ，lambda表达式也内联过来.</p>
<p>//编译代码 类似</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">  println(<span class="string">&quot;Hello!&quot;</span>);</span><br><span class="line">  println(<span class="string">&quot;Bye!&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这样就不存在，对象的创建</p>
<p>noinline</p>
<p>crossinline</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1kz4y1f7sf">https://www.bilibili.com/video/BV1kz4y1f7sf</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/3/index.html">https://noteforme.github.io/page/3/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-LC-Tree" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/17/LC-Tree/">LC-Tree</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-07-17T10:51:21.000Z" itemprop="datePublished">2022年07月17日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/DataStructure/">DataStructure</a>
  </div>

      
      
<a href="/2022/07/17/LC-Tree/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>二叉树算法思维</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1nG411x77H">https://www.bilibili.com/video/BV1nG411x77H</a></p>
<p>TreeOperation.java打印树</p>
<h4 id="Tree"><a href="#Tree" class="headerlink" title="Tree"></a>Tree</h4><p><img src="/2022/07/17/LC-Tree/20220723171518.jpg" alt="20220723171518"></p>
<p><img src="/2022/07/17/LC-Tree/20220723171848.jpg" alt="20220723171848"></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1JW411i731">https://www.bilibili.com/video/BV1JW411i731</a></p>
<h5 id="完全二叉树"><a href="#完全二叉树" class="headerlink" title="完全二叉树"></a>完全二叉树</h5><p>数组存储方式</p>
<p><img src="/2022/07/17/LC-Tree/20220723173810.jpg" alt="20220723173810"></p>
<p>i 是数组下标</p>
<h4 id="遍历"><a href="#遍历" class="headerlink" title="遍历"></a>遍历</h4><p><img src="/2022/07/17/LC-Tree/20220723183845.jpg" alt="20220723183845"></p>
<p>每个Node都有3次访问机会，谁先出现就代表什么序.</p>
<p>中间节点  在哪,代表的遍历方式</p>
<ul>
<li>先序遍历  preorder traversal ：中左右</li>
<li>中序遍历 inorder traversal：左中右</li>
<li>后序遍历 postorder traversal：左右中</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/azl397985856/leetcode/blob/master/thinkings/tree.md">https://github.com/azl397985856/leetcode/blob/master/thinkings/tree.md</a></p>
<h5 id="preorder-traversal-递归"><a href="#preorder-traversal-递归" class="headerlink" title="preorder traversal 递归"></a>preorder traversal 递归</h5><p><img src="/2022/07/17/LC-Tree/20220724172053.jpg" alt="20220724172053"></p>
<p>二叉树的遍历动画</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1RR4y1j7kh">https://www.bilibili.com/video/BV1RR4y1j7kh</a></p>
<p>B的左边遍历完成后，开始遍历B的右子树</p>
<p>遍历过程</p>
<ol>
<li>访问根节点</li>
<li>先序遍历其左子树</li>
<li>先序遍历其右子树</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">PreOrderTraversal</span><span class="params">(BinTree BT)</span></span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(BT)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d&quot;</span>, BT -&gt; Data);</span><br><span class="line">    PreOrderTraversal(BT-&gt;Left)</span><br><span class="line">    PreOrderTraversal(BT-&gt;Right)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1JW411i731?p=34&amp;vd_source=d4c5260002405798a57476b318eccac9">https://www.bilibili.com/video/BV1JW411i731?p=34&amp;vd_source=d4c5260002405798a57476b318eccac9</a></p>
<h5 id="非递归"><a href="#非递归" class="headerlink" title="非递归"></a>非递归</h5><p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV15f4y1W7i2">https://www.bilibili.com/video/BV15f4y1W7i2</a></p>
<h5 id="构建和打印树"><a href="#构建和打印树" class="headerlink" title="构建和打印树"></a>构建和打印树</h5><p><a target="_blank" rel="noopener" href="https://blog.nowcoder.net/n/f3799d64ed764fd49c63947d617d4cd5">https://blog.nowcoder.net/n/f3799d64ed764fd49c63947d617d4cd5</a></p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/playground/VDCGQ8Ds/">https://leetcode.cn/playground/VDCGQ8Ds/</a></p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/circle/discuss/vpcMyM/">https://leetcode.cn/circle/discuss/vpcMyM/</a></p>
<p>中序遍历</p>
<p><img src="/2022/07/17/LC-Tree/20220723183055.jpg" alt="20220723183055"></p>
<h5 id="层序遍历"><a href="#层序遍历" class="headerlink" title="层序遍历"></a>层序遍历</h5><p>也叫 广度优先遍历</p>
<p>用队列实现</p>
<p>while遍历纵向层数</p>
<p>for遍历横向</p>
<p><img src="https://labuladong.gitee.io/algo/images/dijkstra/1.jpeg"></p>
<p><img src="/2022/07/17/LC-Tree/20220723185012.jpg" alt="20220723185012"></p>
<h4 id="确定二叉树"><a href="#确定二叉树" class="headerlink" title="确定二叉树"></a>确定二叉树</h4><p>必须有中序遍历，和先 后 序遍历之一</p>
<p><img src="/2022/07/17/LC-Tree/20220723185911.jpg" alt="20220723185911"></p>
<p>二叉搜索树</p>
<p>BST. Binary Search Tree</p>
<p><img src="/2022/07/17/LC-Tree/20220723190752.jpg" alt="20220723190752"></p>
<h5 id="144-二叉树的前序遍历"><a href="#144-二叉树的前序遍历" class="headerlink" title="144. 二叉树的前序遍历"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-preorder-traversal/">144. 二叉树的前序遍历</a></h5><p>递归</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">preorderTraversal</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: List&lt;<span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> linkedList = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">    preTraversal(root, linkedList)</span><br><span class="line">    <span class="keyword">return</span> linkedList</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">preTraversal</span><span class="params">(node: <span class="type">TreeNode</span>?, linkedList: <span class="type">LinkedList</span>&lt;<span class="type">Int</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (node == <span class="literal">null</span>) <span class="keyword">return</span> <span class="comment">// 这样的递归基更好</span></span><br><span class="line">    linkedList.add(node.`<span class="keyword">val</span>`)</span><br><span class="line">    preTraversal(node.left, linkedList)</span><br><span class="line">    preTraversal(node.right, linkedList)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>迭代</p>
<p>随想录</p>
<p>前序遍历是中左右，每次先处理的是中间节点，那么先将根节点放入栈中，然后将右孩子加入栈，再加入左孩子。</p>
<p>为什么要先加入 右孩子，再加入左孩子呢？ 因为这样出栈的时候才是中左右的顺序。</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gnbmss7603g30eq0d4b2a.gif" alt="二叉树前序遍历（迭代法）"></p>
<p>5 4 1 2 6</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">preorderTraversal1</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: List&lt;<span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> linkedList = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">    <span class="keyword">val</span> stack = Stack&lt;TreeNode&gt;()</span><br><span class="line">    root?.let&#123;</span><br><span class="line">        stack.push(it)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!stack.empty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> popNode = stack.pop()</span><br><span class="line">        popNode.`<span class="keyword">val</span>`.let&#123;</span><br><span class="line">            linkedList.add(it)</span><br><span class="line">        &#125;</span><br><span class="line">        popNode.right?.let &#123;</span><br><span class="line">            stack.push(it)</span><br><span class="line">        &#125;</span><br><span class="line">        popNode.left?.let &#123;</span><br><span class="line">            stack.push(it)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> linkedList</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="94-二叉树的中序遍历"><a href="#94-二叉树的中序遍历" class="headerlink" title="94. 二叉树的中序遍历"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-inorder-traversal/">94. 二叉树的中序遍历</a></h5><p>递归</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">inorderTraversal</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: List&lt;<span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> linkedList = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">    orderRecursive(root, linkedList)</span><br><span class="line">    <span class="keyword">return</span> linkedList</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">orderRecursive</span><span class="params">(node: <span class="type">TreeNode</span>?, linkedList: <span class="type">LinkedList</span>&lt;<span class="type">Int</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (node == <span class="literal">null</span>) <span class="keyword">return</span></span><br><span class="line">    orderRecursive(node.left, linkedList)</span><br><span class="line">    linkedList.add(node.`<span class="keyword">val</span>`)</span><br><span class="line">    orderRecursive(node.right, linkedList)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>迭代法</p>
<p>随想录</p>
<p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gnbmuj244bg30eq0d4kjm.gif" alt="二叉树中序遍历（迭代法）"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">inorderTraversal1</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: List&lt;<span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> linkedList = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> linkedList</span><br><span class="line">    <span class="keyword">val</span> stack = Stack&lt;TreeNode&gt;()</span><br><span class="line">    <span class="keyword">var</span> node = root</span><br><span class="line">    <span class="keyword">while</span> (node != <span class="literal">null</span> || !stack.empty()) &#123; <span class="comment">//node != null 第一次可以进来</span></span><br><span class="line">        <span class="keyword">if</span> (node != <span class="literal">null</span>) &#123;</span><br><span class="line">            stack.push(node)</span><br><span class="line">            node = node.left</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">val</span> resultNode = stack.pop()</span><br><span class="line">            linkedList.add(resultNode.`<span class="keyword">val</span>`)</span><br><span class="line">            node = resultNode.right</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> linkedList</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="145-二叉树的后序遍历"><a href="#145-二叉树的后序遍历" class="headerlink" title="145. 二叉树的后序遍历"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-postorder-traversal/">145. 二叉树的后序遍历</a></h5><p>递归</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//recurive</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">postorderTraversal</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: List&lt;<span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> linkedList = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">    recursiveTraversal(root, linkedList)</span><br><span class="line">    <span class="keyword">return</span> linkedList</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">recursiveTraversal</span><span class="params">(node: <span class="type">TreeNode</span>?, linkedList: <span class="type">LinkedList</span>&lt;<span class="type">Int</span>&gt;)</span></span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (node == <span class="literal">null</span>) <span class="keyword">return</span></span><br><span class="line">    recursiveTraversal(node.left, linkedList)</span><br><span class="line">    recursiveTraversal(node.right, linkedList)</span><br><span class="line">    linkedList.add(node.`<span class="keyword">val</span>`)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>迭代法</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">postorderTraversal</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: List&lt;<span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">     <span class="keyword">var</span> mRoot = root</span><br><span class="line">     <span class="keyword">val</span> resultList = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">     <span class="keyword">val</span> stack = Stack&lt;TreeNode&gt;()</span><br><span class="line">     <span class="keyword">var</span> preNode: TreeNode? = <span class="literal">null</span></span><br><span class="line">     <span class="keyword">while</span> (mRoot != <span class="literal">null</span> || !stack.isEmpty()) &#123;</span><br><span class="line">         <span class="keyword">while</span> (mRoot != <span class="literal">null</span>) &#123;</span><br><span class="line">             stack.push(mRoot)</span><br><span class="line">             mRoot = mRoot.left</span><br><span class="line">         &#125;</span><br><span class="line">         mRoot = stack.pop()</span><br><span class="line">         <span class="keyword">if</span> (mRoot?.right == <span class="literal">null</span> || mRoot.right == preNode) &#123; <span class="comment">// 一开始写成这样 mRoot == preNode,导致死循环</span></span><br><span class="line">             resultList.add(mRoot.`<span class="keyword">val</span>`)</span><br><span class="line">             preNode = mRoot</span><br><span class="line">             mRoot = <span class="literal">null</span></span><br><span class="line">         &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">             stack.push(mRoot)</span><br><span class="line">             mRoot = mRoot.right</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="keyword">return</span> resultList</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-postorder-traversal/solution/er-cha-shu-de-hou-xu-bian-li-by-leetcode-solution/">https://leetcode.cn/problems/binary-tree-postorder-traversal/solution/er-cha-shu-de-hou-xu-bian-li-by-leetcode-solution/</a> 动图</p>
<p>官方题解</p>
<p>迭代法统一写法</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-inorder-traversal/solution/dai-ma-sui-xiang-lu-che-di-chi-tou-qian-xjof1/">https://leetcode.cn/problems/binary-tree-inorder-traversal/solution/dai-ma-sui-xiang-lu-che-di-chi-tou-qian-xjof1/</a></p>
<p>这个统一法还没研究，先往后学吧，地铁上看了下，其实也不难</p>
<h4 id="102-二叉树的层序遍历"><a href="#102-二叉树的层序遍历" class="headerlink" title="102. 二叉树的层序遍历"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-level-order-traversal/">102. 二叉树的层序遍历</a></h4><p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gnad5itmk8g30iw0cqe83.gif"></p>
<p>按照顺序，下一层的放在后面.</p>
<h5 id="迭代写法"><a href="#迭代写法" class="headerlink" title="迭代写法"></a>迭代写法</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">levelOrder</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: List&lt;List&lt;<span class="built_in">Int</span>&gt;&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> layerList = LinkedList&lt;List&lt;<span class="built_in">Int</span>&gt;&gt;()</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;TreeNode&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.offer(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> layerSize = queue.size <span class="comment">// queue大小，下面循环在不断变化，所以要先定义出来</span></span><br><span class="line">        <span class="keyword">val</span> linkedList = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layerSize) &#123;</span><br><span class="line">            <span class="keyword">val</span> headNode = queue.poll()</span><br><span class="line">            linkedList.add(headNode.`<span class="keyword">val</span>`)</span><br><span class="line">            headNode.left?.let &#123; queue.offer(it) &#125;</span><br><span class="line">            headNode.right?.let &#123; queue.offer(it) &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        layerList.add(linkedList)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> layerList</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="递归解法"><a href="#递归解法" class="headerlink" title="递归解法"></a>递归解法</h5><p>递归解法一开始没理解，再看了下，思路很妙</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">levelOrder1</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: List&lt;List&lt;<span class="built_in">Int</span>&gt;&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> layerList = LinkedList&lt;LinkedList&lt;<span class="built_in">Int</span>&gt;&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root==<span class="literal">null</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> layerList</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">val</span> depth = <span class="number">0</span> <span class="comment">// 层级</span></span><br><span class="line">    <span class="keyword">return</span> recursive(layerList, root, depth)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">recursive</span><span class="params">(layerList: <span class="type">LinkedList</span>&lt;<span class="type">LinkedList</span>&lt;<span class="type">Int</span>&gt;&gt;, node: <span class="type">TreeNode</span>?, depth: <span class="type">Int</span>)</span></span>: List&lt;List&lt;<span class="built_in">Int</span>&gt;&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (layerList.size &lt;= depth) &#123; <span class="comment">//二维数组长度不超过这个层级,随想录这里是用 ==,不过我觉得&lt;=更好</span></span><br><span class="line">        <span class="keyword">val</span> linkedList = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">        layerList.add(linkedList)</span><br><span class="line">    &#125;</span><br><span class="line">    node?.`<span class="keyword">val</span>`?.let &#123; layerList[depth].add(it) &#125; <span class="comment">// 拿到当前层级节点的值</span></span><br><span class="line">    <span class="keyword">val</span> mDepth = depth + <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> (node?.left != <span class="literal">null</span>) &#123;</span><br><span class="line">        recursive(layerList, node.left, mDepth)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (node?.right != <span class="literal">null</span>) &#123;</span><br><span class="line">        recursive(layerList, node.right, mDepth)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> layerList</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-level-order-traversal/solution/er-cha-shu-de-ceng-xu-bian-li-by-leetcode-solution/">https://leetcode.cn/problems/binary-tree-level-order-traversal/solution/er-cha-shu-de-ceng-xu-bian-li-by-leetcode-solution/</a></p>
<p><a target="_blank" rel="noopener" href="https://programmercarl.com/0102.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.html">https://programmercarl.com/0102.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E5%B1%82%E5%BA%8F%E9%81%8D%E5%8E%86.html</a></p>
<h4 id="107-二叉树的层序遍历-II"><a href="#107-二叉树的层序遍历-II" class="headerlink" title="107. 二叉树的层序遍历 II"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-level-order-traversal-ii/">107. 二叉树的层序遍历 II</a></h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">levelOrderBottom</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: List&lt;List&lt;<span class="built_in">Int</span>&gt;&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> resultList = LinkedList&lt;ArrayList&lt;<span class="built_in">Int</span>&gt;&gt;()</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;TreeNode&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.offer(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> layerSize = queue.size <span class="comment">// queue循环中 不断的变化</span></span><br><span class="line">        <span class="keyword">val</span> arrayList = ArrayList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layerSize) &#123;</span><br><span class="line">            <span class="keyword">val</span> headNode = queue.poll()</span><br><span class="line">            <span class="keyword">if</span> (headNode != <span class="literal">null</span>) &#123;</span><br><span class="line">                arrayList.add(headNode.`<span class="keyword">val</span>`)</span><br><span class="line">                headNode.left?.let &#123; queue.offer(it) &#125;</span><br><span class="line">                headNode.right?.let &#123; queue.offer(it) &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        resultList.addFirst(arrayList)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resultList</span><br><span class="line">&#125;	</span><br></pre></td></tr></table></figure>



<h4 id="199-二叉树的右视图"><a href="#199-二叉树的右视图" class="headerlink" title="199. 二叉树的右视图"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-right-side-view/">199. 二叉树的右视图</a></h4><h5 id="广度优先遍历"><a href="#广度优先遍历" class="headerlink" title="广度优先遍历"></a>广度优先遍历</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">rightSideView</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: List&lt;<span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> resultList = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;TreeNode&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.add(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> layoutSize = queue.size</span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layoutSize) &#123;</span><br><span class="line">            <span class="keyword">val</span> headNode = queue.poll()</span><br><span class="line">            <span class="keyword">if</span> (i == layoutSize - <span class="number">1</span>) &#123;</span><br><span class="line">                resultList.add(headNode.`<span class="keyword">val</span>`)</span><br><span class="line">            &#125;</span><br><span class="line">            headNode?.left?.let &#123; queue.offer(it) &#125;</span><br><span class="line">            headNode?.right?.let &#123; queue.offer(it) &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resultList</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="DFS-深度优先遍历"><a href="#DFS-深度优先遍历" class="headerlink" title="DFS 深度优先遍历"></a>DFS 深度优先遍历</h5><p>这个DFS很妙，这次只是先理解,二刷的时候可以自己写写</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solutions</span></span>&#123;</span><br><span class="line">	  List&lt;Integer&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">  	<span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">rightSideView</span><span class="params">(TreeNode root)</span></span>&#123;</span><br><span class="line">       dfs(root,<span class="number">0</span>)</span><br><span class="line">       <span class="keyword">return</span> res;</span><br><span class="line">    &#125;</span><br><span class="line">  <span class="function">prvidate <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root, <span class="keyword">int</span> depth)</span></span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(root ==<span class="keyword">null</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span>(depth == res.size())&#123; <span class="comment">// 当前层级第一个右节点还没有，添加到结果中</span></span><br><span class="line">      res.add(root.val)</span><br><span class="line">    &#125;</span><br><span class="line">    depth++;</span><br><span class="line">    dfs(root.right,depth)</span><br><span class="line">    dfs(root.left,depth)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>理解在官方视频中.</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/binary-tree-right-side-view/solution/er-cha-shu-de-you-shi-tu-by-leetcode-solution/">https://leetcode.cn/problems/binary-tree-right-side-view/solution/er-cha-shu-de-you-shi-tu-by-leetcode-solution/</a></p>
<h4 id="637-二叉树的层平均值"><a href="#637-二叉树的层平均值" class="headerlink" title="637. 二叉树的层平均值"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/average-of-levels-in-binary-tree/">637. 二叉树的层平均值</a></h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">averageOfLevels</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: DoubleArray &#123;</span><br><span class="line">    <span class="keyword">val</span> resultList = ArrayList&lt;<span class="built_in">Double</span>&gt;()</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;TreeNode&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.offer(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> layoutSize = queue.size</span><br><span class="line">        <span class="keyword">var</span> layerSum = <span class="number">0.</span>toDouble()</span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layoutSize) &#123;</span><br><span class="line">            <span class="keyword">val</span> node = queue.poll()</span><br><span class="line">            layerSum += node.`<span class="keyword">val</span>`</span><br><span class="line">            node?.left?.let &#123; queue.offer(it) &#125;</span><br><span class="line">            node?.right?.let &#123; queue.offer(it) &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">val</span> average = resultList.add(layerSum * <span class="number">1.00000</span> / layoutSize)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resultList.toDoubleArray()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="429-N-叉树的层序遍历"><a href="#429-N-叉树的层序遍历" class="headerlink" title="429. N 叉树的层序遍历"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/n-ary-tree-level-order-traversal/">429. N 叉树的层序遍历</a></h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">levelOrder</span><span class="params">(root: <span class="type">Node</span>?)</span></span>: List&lt;List&lt;<span class="built_in">Int</span>&gt;&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> result = LinkedList&lt;ArrayList&lt;<span class="built_in">Int</span>&gt;&gt;()</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;Node&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.offer(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> layoutSize = queue.size <span class="comment">// 该层级的节点数</span></span><br><span class="line">        <span class="keyword">val</span> layerResult = ArrayList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layoutSize) &#123;</span><br><span class="line">            <span class="keyword">val</span> pollNode = queue.poll()</span><br><span class="line">            layerResult.add(pollNode.`<span class="keyword">val</span>`)</span><br><span class="line">            pollNode.children.forEach &#123; <span class="comment">// 只有这里有点不同</span></span><br><span class="line">                queue.offer(it)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        result.add(layerResult)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="515-在每个树行中找最大值"><a href="#515-在每个树行中找最大值" class="headerlink" title="515. 在每个树行中找最大值"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/find-largest-value-in-each-tree-row/">515. 在每个树行中找最大值</a></h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">largestValues</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: List&lt;<span class="built_in">Int</span>&gt; &#123;</span><br><span class="line">    <span class="keyword">val</span> answer = ArrayList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;TreeNode&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.offer(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> layerSize = queue.size</span><br><span class="line">        <span class="keyword">var</span> maxValue = <span class="built_in">Int</span>.MIN_VALUE <span class="comment">//最小值 , 每一层级都要初始化，否则拿到上一层级的值，就不是最小值，会有问题</span></span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layerSize) &#123;</span><br><span class="line">            <span class="keyword">val</span> pollNode = queue.poll()</span><br><span class="line">            maxValue = pollNode.`<span class="keyword">val</span>`.coerceAtLeast(maxValue) <span class="comment">// 比较取最大值</span></span><br><span class="line">            pollNode?.left?.let &#123; queue.offer(it) &#125;</span><br><span class="line">            pollNode?.right?.let &#123; queue.offer(it) &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        answer.add(maxValue)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> answer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/">116. 填充每个节点的下一个右侧节点指针</a></p>
<p>一开始用这种方式，但是会提示 “超出内存限制”</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">connect</span><span class="params">(root: <span class="type">Node</span>?)</span></span>: Node? &#123;</span><br><span class="line"><span class="comment">//        val answerList = ArrayList&lt;String&gt;() //根据题意, 一开始以为要返回这个答案,其实只要连接后 返回root就好了</span></span><br><span class="line">        <span class="keyword">val</span> queue = LinkedList&lt;Node&gt;()</span><br><span class="line">        <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">            queue.offer(root)</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">var</span> preNode: Node?=<span class="literal">null</span></span><br><span class="line">        <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">            <span class="keyword">val</span> layerSize = queue.size</span><br><span class="line">            preNode = <span class="literal">null</span></span><br><span class="line">            <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layerSize) &#123;</span><br><span class="line">                <span class="keyword">val</span> curNode = queue.poll()</span><br><span class="line">                preNode = curNode </span><br><span class="line">                <span class="keyword">if</span> (preNode != <span class="literal">null</span>) &#123;</span><br><span class="line">                    preNode.next = curNode</span><br><span class="line">                &#125;</span><br><span class="line"><span class="comment">//                answerList.add(curNode.`val`.toString())</span></span><br><span class="line">                <span class="keyword">if</span> (i == layerSize - <span class="number">1</span>) &#123;</span><br><span class="line">                    curNode.next = <span class="literal">null</span>  <span class="comment">// 最后个node 指向null</span></span><br><span class="line">                <span class="comment">//    answerList.add(&quot;#&quot;)</span></span><br><span class="line">                &#125;</span><br><span class="line">                curNode?.left?.let &#123; queue.offer(it) &#125;</span><br><span class="line">                curNode?.right?.let &#123; queue.offer(it) &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> root</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p>官方解法 还有另一种解法，二刷时可以研究研究</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">connect</span><span class="params">(root: <span class="type">Node</span>?)</span></span>: Node? &#123;</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;Node&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.offer(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> layerSize = queue.size</span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layerSize) &#123;</span><br><span class="line">            <span class="keyword">val</span> curNode = queue.poll()</span><br><span class="line">            <span class="keyword">if</span> (i &lt; layerSize - <span class="number">1</span>) &#123;</span><br><span class="line">                curNode.next = queue.peek()</span><br><span class="line">            &#125;</span><br><span class="line">            curNode?.left?.let &#123; queue.offer(it) &#125;</span><br><span class="line">            curNode?.right?.let &#123; queue.offer(it) &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/solution/tian-chong-mei-ge-jie-dian-de-xia-yi-ge-you-ce-2-4/">https://leetcode.cn/problems/populating-next-right-pointers-in-each-node/solution/tian-chong-mei-ge-jie-dian-de-xia-yi-ge-you-ce-2-4/</a></p>
<h4 id="117-填充每个节点的下一个右侧节点指针-II"><a href="#117-填充每个节点的下一个右侧节点指针-II" class="headerlink" title="117. 填充每个节点的下一个右侧节点指针 II"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/populating-next-right-pointers-in-each-node-ii/">117. 填充每个节点的下一个右侧节点指针 II</a></h4><p>和116题唯一的区别，116是完美二叉树</p>
<h4 id="104-二叉树的最大深度"><a href="#104-二叉树的最大深度" class="headerlink" title="104. 二叉树的最大深度"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-depth-of-binary-tree/">104. 二叉树的最大深度</a></h4><h5 id="广度优先-Breadth-First-Search"><a href="#广度优先-Breadth-First-Search" class="headerlink" title="广度优先 Breadth-First-Search"></a>广度优先 <strong>Breadth-First-Search</strong></h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">maxDepth</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;TreeNode&gt;()</span><br><span class="line">    <span class="keyword">var</span> depth = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.offer(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> layerSize = queue.size</span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layerSize) &#123;</span><br><span class="line">            <span class="keyword">val</span> pollNode = queue.poll()</span><br><span class="line">            pollNode?.left?.let &#123; queue.add(it) &#125; </span><br><span class="line">            pollNode?.right?.let &#123; queue.add(it) &#125;</span><br><span class="line">            <span class="keyword">if</span> (i == layerSize - <span class="number">1</span>) &#123;	</span><br><span class="line">                depth++</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> depth</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="递归-Depth-First-Search"><a href="#递归-Depth-First-Search" class="headerlink" title="递归 Depth First Search"></a>递归 Depth <strong>First Search</strong></h5><p>这题用一个方法就可以了，遍历左右子树取最大值后 再加 1</p>
<p>这个其实也是先序遍历,左右中</p>
<p><a target="_blank" rel="noopener" href="https://programmercarl.com/0104.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E5%A4%A7%E6%B7%B1%E5%BA%A6.html#%E9%80%92%E5%BD%92%E6%B3%95">https://programmercarl.com/0104.%E4%BA%8C%E5%8F%89%E6%A0%91%E7%9A%84%E6%9C%80%E5%A4%A7%E6%B7%B1%E5%BA%A6.html#%E9%80%92%E5%BD%92%E6%B3%95</a></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">int</span> leftdepth = <span class="built_in">getdepth</span>(node-&gt;left);       <span class="comment">// 左</span></span><br><span class="line"><span class="keyword">int</span> rightdepth = <span class="built_in">getdepth</span>(node-&gt;right);     <span class="comment">// 右</span></span><br><span class="line"><span class="keyword">int</span> depth = <span class="number">1</span> + <span class="built_in">max</span>(leftdepth, rightdepth); <span class="comment">// 中</span></span><br><span class="line"><span class="keyword">return</span> depth;</span><br></pre></td></tr></table></figure>



<p><strong>可以看看随想录的解法，里面有回溯的过程，过程更详细</strong></p>
<p>下面解法做了简化</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">maxDepth</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> depth = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> depth</span><br><span class="line">    <span class="keyword">return</span> dfsDepth(root, depth)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">dfsDepth</span><span class="params">(node: <span class="type">TreeNode</span>?, depth: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (node == <span class="literal">null</span>) <span class="keyword">return</span> depth</span><br><span class="line">    <span class="keyword">val</span> maxDepth = Math.max(dfsDepth(node.left, depth + <span class="number">1</span>), dfsDepth(node.right, depth + <span class="number">1</span>)) <span class="comment">// 用max函数更直观</span></span><br><span class="line">    <span class="keyword">return</span> maxDepth</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-depth-of-binary-tree/solution/er-cha-shu-de-zui-da-shen-du-by-leetcode-solution/">https://leetcode.cn/problems/maximum-depth-of-binary-tree/solution/er-cha-shu-de-zui-da-shen-du-by-leetcode-solution/</a></p>
<h4 id="559-N-叉树的最大深度"><a href="#559-N-叉树的最大深度" class="headerlink" title="559. N 叉树的最大深度"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-depth-of-n-ary-tree/">559. N 叉树的最大深度</a></h4><p>DFS</p>
<p> 这个DFS解法 看了官方题解答案，自己再做一次</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/maximum-depth-of-n-ary-tree/solution/n-cha-shu-de-zui-da-shen-du-by-leetcode-n7qtv/">https://leetcode.cn/problems/maximum-depth-of-n-ary-tree/solution/n-cha-shu-de-zui-da-shen-du-by-leetcode-n7qtv/</a></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">maxDepth</span><span class="params">(root: <span class="type">Node</span>?)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> maxDepth = <span class="number">0</span></span><br><span class="line">    root.children.forEach &#123;</span><br><span class="line">        <span class="keyword">val</span> depth = maxDepth(it)</span><br><span class="line">        maxDepth = Math.max(maxDepth, depth)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxDepth +<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>BFS</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">maxDepth1</span><span class="params">(root: <span class="type">Node</span>?)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;Node&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.offer(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> maxDepth = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> layerSize = queue.size</span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layerSize) &#123;</span><br><span class="line">            <span class="keyword">val</span> pollNode = queue.poll()</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123; <span class="comment">// 这个条件可以去掉</span></span><br><span class="line">                maxDepth++</span><br><span class="line">            &#125;</span><br><span class="line">            pollNode.children.forEach &#123;</span><br><span class="line">                <span class="keyword">if</span> (it != <span class="literal">null</span>)</span><br><span class="line">                    queue.offer(it)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxDepth</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">maxDepth1</span><span class="params">(root: <span class="type">Node</span>?)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;Node&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.offer(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> maxDepth = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> layerSize = queue.size</span><br><span class="line">        maxDepth++ <span class="comment">//拿到外面更好，不用判断i==1了,每次layerSize 遍历完就是一层了</span></span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layerSize) &#123;</span><br><span class="line">            <span class="keyword">val</span> pollNode = queue.poll()</span><br><span class="line">            pollNode.children.forEach &#123;</span><br><span class="line">                <span class="keyword">if</span> (it != <span class="literal">null</span>)</span><br><span class="line">                    queue.offer(it)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxDepth</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="111-二叉树的最小深度"><a href="#111-二叉树的最小深度" class="headerlink" title="111. 二叉树的最小深度"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-depth-of-binary-tree/">111. 二叉树的最小深度</a></h4><p>BFS</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">minDepth</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;TreeNode&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.offer(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> depth = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty()) &#123;</span><br><span class="line">        <span class="keyword">val</span> layerSize = queue.size</span><br><span class="line">        depth++ <span class="comment">// 不用放下面判断，直接是一层新的</span></span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layerSize) &#123;</span><br><span class="line">            <span class="keyword">val</span> pollNode = queue.poll()</span><br><span class="line">            <span class="keyword">if</span> (pollNode.left == <span class="literal">null</span> &amp;&amp; pollNode.right == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> depth</span><br><span class="line">            &#125;</span><br><span class="line">            pollNode?.left?.let &#123; queue.offer(it) &#125;</span><br><span class="line">            pollNode?.right?.let &#123; queue.offer(it) &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> depth</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>官方题解看起来，更好</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-depth-of-binary-tree/solution/er-cha-shu-de-zui-xiao-shen-du-by-leetcode-solutio/">https://leetcode.cn/problems/minimum-depth-of-binary-tree/solution/er-cha-shu-de-zui-xiao-shen-du-by-leetcode-solutio/</a></p>
<p>DFS</p>
<p><img src="https://img-blog.csdnimg.cn/20210203155800503.png"></p>
<p> <a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-depth-of-binary-tree/solution/bfshe-dfsliang-chong-fang-shi-jie-jue-by-g4eh/">https://leetcode.cn/problems/minimum-depth-of-binary-tree/solution/bfshe-dfsliang-chong-fang-shi-jie-jue-by-g4eh/</a></p>
<p>用了这个视频的解法</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">minDepth</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="comment">//左子节点和右子节点都不为空，然后取最小值才有意义，否则就是错的</span></span><br><span class="line">    <span class="keyword">if</span> (root.left != <span class="literal">null</span> &amp;&amp; root.right != <span class="literal">null</span>) &#123; <span class="comment">// 左右都不为空</span></span><br><span class="line">        <span class="keyword">return</span> Math.min(minDepth(root.left), minDepth(root.right)) + <span class="number">1</span></span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (root.left == <span class="literal">null</span>) &#123; <span class="comment">//左不为空</span></span><br><span class="line">        <span class="keyword">return</span> minDepth(root.right) + <span class="number">1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minDepth(root.left) + <span class="number">1</span> <span class="comment">//右不为空</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>理解了这个解法，再看官方的DFS解法，也简单明了</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/minimum-depth-of-binary-tree/solution/er-cha-shu-de-zui-xiao-shen-du-by-leetcode-solutio/">https://leetcode.cn/problems/minimum-depth-of-binary-tree/solution/er-cha-shu-de-zui-xiao-shen-du-by-leetcode-solutio/</a></p>
<h4 id="226-翻转二叉树"><a href="#226-翻转二叉树" class="headerlink" title="226. 翻转二叉树"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/invert-binary-tree/">226. 翻转二叉树</a></h4><h5 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h5><p><img src="https://tva1.sinaimg.cn/large/008eGmZEly1gnakm26jtog30e409s4qp.gif"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用先序遍历</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">invertTree</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: TreeNode? &#123;</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">    swapNode(root) </span><br><span class="line">    invertTree(root.left)</span><br><span class="line">    invertTree(root.right)</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">swapNode</span><span class="params">(node: <span class="type">TreeNode</span>?)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> temp = node?.left</span><br><span class="line">    node?.left = node?.right</span><br><span class="line">    node?.right = temp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> TreeNode invertTree(TreeNode root) &#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    invertTree(root.left);<span class="comment">//注意这里是left</span></span><br><span class="line">    TreeNode temp = root.left;</span><br><span class="line">    root.left = root.right;</span><br><span class="line">    root.right = temp;</span><br><span class="line">    invertTree(root.left);<span class="comment">//这里还是left</span></span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>————————————————<br>版权声明：本文为CSDN博主「xsybg」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/xsybg/article/details/122687168">https://blog.csdn.net/xsybg/article/details/122687168</a></p>
<p>注意两个递归调用的参数都是root.left, 因为在第二步是交换root的左右孩子，所以在第三步要处理的右孩子其实已经变成了root的左孩子，是不是很有趣？<br>这个题目很简单，但是确实会稀里糊涂地通过，没搞清楚是树的哪一种遍历，看了代码随想录的解析感觉还挺惊喜的。<br>代码随想录的链接贴在这里：<br>————————————————<br>版权声明：本文为CSDN博主「xsybg」的原创文章，遵循CC 4.0 BY-SA版权协议，转载请附上原文出处链接及本声明。<br>原文链接：<a target="_blank" rel="noopener" href="https://blog.csdn.net/xsybg/article/details/122687168">https://blog.csdn.net/xsybg/article/details/122687168</a></p>
<p>根据下面打印</p>
<p>4的坐子树中的1,3交换了两次， 6,9一次都没交换</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">      4      </span><br><span class="line">    &#x2F;   \    </span><br><span class="line">  2       7  </span><br><span class="line"> &#x2F; \     &#x2F; \ </span><br><span class="line">1   3   6   9</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> node 4</span><br><span class="line">      4      </span><br><span class="line">    &#x2F;   \    </span><br><span class="line">  2       7  </span><br><span class="line"> &#x2F; \     &#x2F; \ </span><br><span class="line">1   3   6   9</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> node 2</span><br><span class="line">      4      </span><br><span class="line">    &#x2F;   \    </span><br><span class="line">  2       7  </span><br><span class="line"> &#x2F; \     &#x2F; \ </span><br><span class="line">1   3   6   9</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> node 1</span><br><span class="line">      4      </span><br><span class="line">    &#x2F;   \    </span><br><span class="line">  2       7  </span><br><span class="line"> &#x2F; \     &#x2F; \ </span><br><span class="line">1   3   6   9</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> node 1</span><br><span class="line">      4      </span><br><span class="line">    &#x2F;   \    </span><br><span class="line">  2       7  </span><br><span class="line"> &#x2F; \     &#x2F; \ </span><br><span class="line">3   1   6   9</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> node 2</span><br><span class="line">      4      </span><br><span class="line">    &#x2F;   \    </span><br><span class="line">  7       2  </span><br><span class="line"> &#x2F; \     &#x2F; \ </span><br><span class="line">6   9   3   1</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> node 3</span><br><span class="line">      4      </span><br><span class="line">    &#x2F;   \    </span><br><span class="line">  7       2  </span><br><span class="line"> &#x2F; \     &#x2F; \ </span><br><span class="line">6   9   3   1</span><br><span class="line"> </span><br><span class="line"> </span><br><span class="line"> node 3</span><br><span class="line">      4      </span><br><span class="line">    &#x2F;   \    </span><br><span class="line">  7       2  </span><br><span class="line"> &#x2F; \     &#x2F; \ </span><br><span class="line">6   9   1   3</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="广度优先遍历-层序遍历"><a href="#广度优先遍历-层序遍历" class="headerlink" title="广度优先遍历(层序遍历)"></a>广度优先遍历(层序遍历)</h5><p>遍历左右节点就可以.然后交换就可以了</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">invertTree1</span><span class="params">(root: <span class="type">TreeNode</span>?)</span></span>: TreeNode? &#123;</span><br><span class="line">    <span class="keyword">val</span> queue = LinkedList&lt;TreeNode&gt;()</span><br><span class="line">    <span class="keyword">if</span> (root != <span class="literal">null</span>) &#123;</span><br><span class="line">        queue.offer(root)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (queue.isNotEmpty())&#123;</span><br><span class="line">        <span class="keyword">val</span> layerSize = queue.size</span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until layerSize)&#123;</span><br><span class="line">            <span class="keyword">val</span> pollNode = queue.poll()</span><br><span class="line">            swapNode(pollNode)</span><br><span class="line">            pollNode.left?.let &#123; queue.offer(it) &#125;</span><br><span class="line">            pollNode.right?.let &#123; queue.offer(it) &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/3/index.html">https://noteforme.github.io/page/3/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LEETCODE/" rel="tag">LEETCODE</a></li></ul>

          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-LC-stack-queue" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/07/03/LC-stack-queue/">LC-stack-queue</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-07-03T04:16:17.000Z" itemprop="datePublished">2022年07月03日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/DataStructure/">DataStructure</a>
  </div>

      
      
<a href="/2022/07/03/LC-stack-queue/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="232-用栈实现队列"><a href="#232-用栈实现队列" class="headerlink" title="232. 用栈实现队列"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/implement-queue-using-stacks/">232. 用栈实现队列</a></h4><p>最初写的</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> stack = Stack&lt;<span class="built_in">Int</span>&gt;() <span class="comment">// 元素栈</span></span><br><span class="line"><span class="keyword">val</span> tempStack = Stack&lt;<span class="built_in">Int</span>&gt;()  <span class="comment">// 备用</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">push</span><span class="params">(x: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    stack.push(x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">pop</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (!stack.empty()) &#123;</span><br><span class="line">        tempStack.push(stack.pop())</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> pop = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> (!tempStack.isEmpty()) &#123;</span><br><span class="line">        pop = tempStack.pop() <span class="comment">// 这里取的就是头元素</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!tempStack.empty()) &#123;</span><br><span class="line">        stack.push(tempStack.pop())</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pop</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">peek</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (!stack.empty()) &#123;</span><br><span class="line">        tempStack.push(stack.pop())</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> peek = <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> (!tempStack.isEmpty()) &#123;</span><br><span class="line">        peek = tempStack.peek() <span class="comment">// 这里取的就是头元素,不会删除</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!tempStack.empty()) &#123;</span><br><span class="line">        stack.push(tempStack.pop())</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> peek</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">empty</span><span class="params">()</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> stack.empty()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>在LC232基础上进行的优化，之前每次pop后，还得把元素放回去,这里只有push判断 tempStack有没有元素</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/implement-queue-using-stacks/solution/wen-zi-shi-pin-de-fang-shi-xiang-xi-jiang-jie-li-2/">https://leetcode.cn/problems/implement-queue-using-stacks/solution/wen-zi-shi-pin-de-fang-shi-xiang-xi-jiang-jie-li-2/</a></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> stackIn = Stack&lt;<span class="built_in">Int</span>&gt;() <span class="comment">// 元素栈</span></span><br><span class="line"><span class="keyword">val</span> tempStack = Stack&lt;<span class="built_in">Int</span>&gt;()  <span class="comment">// 备用</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">push</span><span class="params">(x: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (!tempStack.empty())&#123; <span class="comment">//</span></span><br><span class="line">        stackIn.push(tempStack.pop())</span><br><span class="line">    &#125;</span><br><span class="line">    stackIn.push(x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">pop</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (!stackIn.empty()) &#123;</span><br><span class="line">        tempStack.push(stackIn.pop())</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> pop = -<span class="number">1</span> <span class="comment">// 需要-1</span></span><br><span class="line">    <span class="keyword">if</span> (!tempStack.isEmpty()) &#123;</span><br><span class="line">        pop = tempStack.pop() <span class="comment">// 这里取的就是头元素</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> pop</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">peek</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> pop = <span class="keyword">this</span>.pop()</span><br><span class="line">    stackIn.push(pop) <span class="comment">// 复用pop，拿出来 再放回去</span></span><br><span class="line">    <span class="keyword">return</span> pop</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">empty</span><span class="params">()</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> tempStack.empty()&amp;&amp;stackIn.empty()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<p>随想录写法</p>
<p><img src="https://code-thinking.cdn.bcebos.com/gifs/232.%E7%94%A8%E6%A0%88%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97%E7%89%88%E6%9C%AC2.gif"></p>
<p><a target="_blank" rel="noopener" href="https://programmercarl.com/0232.%E7%94%A8%E6%A0%88%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97.html#%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E7%89%88%E6%9C%AC">https://programmercarl.com/0232.%E7%94%A8%E6%A0%88%E5%AE%9E%E7%8E%B0%E9%98%9F%E5%88%97.html#%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E7%89%88%E6%9C%AC</a></p>
<p>在LC232_01基础上进行的优化，push的时候不用每次都判断，只有stackOut是空的时候，才需要取后面的元素</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> stackIn = Stack&lt;<span class="built_in">Int</span>&gt;() <span class="comment">// 输入栈</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> stackOut = Stack&lt;<span class="built_in">Int</span>&gt;()  <span class="comment">// 输出栈</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">push</span><span class="params">(x: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    stackIn.push(x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">pop</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (stackOut.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">while</span> (!stackIn.empty()) &#123;</span><br><span class="line">            stackOut.push(stackIn.pop())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">data</span> = -<span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> (!stackOut.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">data</span> = stackOut.pop()</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">data</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">peek</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> pop = <span class="keyword">this</span>.pop()</span><br><span class="line">    stackOut.push(pop) <span class="comment">// 复用pop，拿出来 再放回去</span></span><br><span class="line">    <span class="keyword">return</span> pop</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">empty</span><span class="params">()</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> stackOut.empty() &amp;&amp; stackIn.empty()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="225-用队列实现栈"><a href="#225-用队列实现栈" class="headerlink" title="225. 用队列实现栈"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/implement-stack-using-queues/">225. 用队列实现栈</a></h4><h5 id="我的解法"><a href="#我的解法" class="headerlink" title="我的解法"></a>我的解法</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> mainDeque = ArrayDeque&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> tempDeque = ArrayDeque&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">push</span><span class="params">(x: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (!tempDeque.isEmpty()) &#123;</span><br><span class="line">        mainDeque.offerLast(tempDeque.poll())</span><br><span class="line">    &#125;</span><br><span class="line">    mainDeque.offerLast(x)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">pop</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> <span class="keyword">data</span> = -<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> (!mainDeque.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (mainDeque.size == <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">data</span> = mainDeque.poll()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">data</span> = mainDeque.poll()</span><br><span class="line">            tempDeque.offerLast(<span class="keyword">data</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!tempDeque.isEmpty()) &#123;</span><br><span class="line">        mainDeque.offerLast(tempDeque.poll())</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">data</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">top</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> pop = <span class="keyword">this</span>.pop()</span><br><span class="line">    mainDeque.offerLast(pop)</span><br><span class="line">    <span class="keyword">return</span> pop</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">empty</span><span class="params">()</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> tempDeque.isEmpty() &amp;&amp; mainDeque.isEmpty()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="两个队列"><a href="#两个队列" class="headerlink" title="两个队列"></a>两个队列</h5><p><a target="_blank" rel="noopener" href="https://programmercarl.com/0225.%E7%94%A8%E9%98%9F%E5%88%97%E5%AE%9E%E7%8E%B0%E6%A0%88.html">https://programmercarl.com/0225.%E7%94%A8%E9%98%9F%E5%88%97%E5%AE%9E%E7%8E%B0%E6%A0%88.html</a></p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/implement-stack-using-queues/solution/yong-dui-lie-shi-xian-zhan-by-leetcode-solution/">https://leetcode.cn/problems/implement-stack-using-queues/solution/yong-dui-lie-shi-xian-zhan-by-leetcode-solution/</a></p>
<p>这里的视频教程更好理解.</p>
<p><img src="https://assets.leetcode-cn.com/solution-static/225/225_fig1.gif"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> mainDeque = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> tempDeque = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">push</span><span class="params">(x: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    tempDeque.offer(x)</span><br><span class="line">    <span class="keyword">while</span> (!mainDeque.isEmpty()) &#123;</span><br><span class="line">        tempDeque.offerLast(mainDeque.poll())</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">val</span> temp = mainDeque <span class="comment">//此时mainDeque一定是空的,不过没关系，不用再创建一个</span></span><br><span class="line">    mainDeque = tempDeque <span class="comment">//交换队列元素, tempDeque的元素给mainDeque</span></span><br><span class="line">    tempDeque = temp</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">pop</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> mainDeque.poll() <span class="comment">//删除并返回元素</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">top</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> mainDeque.peek() <span class="comment">// 返回元素</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">empty</span><span class="params">()</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> tempDeque.isEmpty() &amp;&amp; mainDeque.isEmpty()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="一个队列"><a href="#一个队列" class="headerlink" title="一个队列"></a>一个队列</h5><p>也是上面官方教程</p>
<p><img src="https://assets.leetcode-cn.com/solution-static/225/225_fig2.gif"></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">var</span> mainDeque = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">push</span><span class="params">(x: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    mainDeque.offer(x)</span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until mainDeque.size - <span class="number">1</span>) &#123; <span class="comment">// 注意这里要-1,这样最后入队的就在头部.否则就没有意义了</span></span><br><span class="line">        mainDeque.offer(mainDeque.poll())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">pop</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> mainDeque.poll() <span class="comment">//删除并返回元素</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">top</span><span class="params">()</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> mainDeque.peek() <span class="comment">// 返回元素</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">empty</span><span class="params">()</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> mainDeque.isEmpty()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">val</span> queue = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">queue.offer(<span class="number">0</span>)</span><br><span class="line">queue.offer(<span class="number">1</span>)</span><br><span class="line">queue.offer(<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">queue.offer(<span class="number">3</span>)</span><br><span class="line"><span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until queue.size - <span class="number">1</span>) &#123;</span><br><span class="line">    queue.offer(queue.poll())</span><br><span class="line">    println(queue)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//看到这个入队结果</span></span><br><span class="line"><span class="comment">// [1, 2, 3, 0]</span></span><br><span class="line"><span class="comment">//[2, 3, 0, 1]</span></span><br><span class="line"><span class="comment">//[3, 0, 1, 2]</span></span><br></pre></td></tr></table></figure>





<h4 id="20-有效的括号"><a href="#20-有效的括号" class="headerlink" title="20. 有效的括号"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/valid-parentheses/">20. 有效的括号</a></h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">isValid</span><span class="params">(s: <span class="type">String</span>)</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> mapOf = mapOf(<span class="string">&#x27;(&#x27;</span> to <span class="string">&#x27;)&#x27;</span>, <span class="string">&#x27;&#123;&#x27;</span> to <span class="string">&#x27;&#125;&#x27;</span>, <span class="string">&#x27;[&#x27;</span> to <span class="string">&#x27;]&#x27;</span>)</span><br><span class="line">    <span class="keyword">val</span> stack = Stack&lt;<span class="built_in">Char</span>&gt;()</span><br><span class="line">    s.chars().forEach &#123;</span><br><span class="line">        <span class="keyword">if</span> (!stack.empty() &amp;&amp; mapOf[stack.peek()] == it.toChar()) &#123; <span class="comment">//stack 为空 取出会抛出异常, mapOf应该取左边的符号也就是stack里的</span></span><br><span class="line">            stack.pop()</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            stack.push(it.toChar())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.empty()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h4 id="1047-删除字符串中的所有相邻重复项"><a href="#1047-删除字符串中的所有相邻重复项" class="headerlink" title="1047. 删除字符串中的所有相邻重复项"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/remove-all-adjacent-duplicates-in-string/">1047. 删除字符串中的所有相邻重复项</a></h4><p>而且<strong>在企业项目开发中，尽量不要使用递归！</strong>在项目比较大的时候，由于参数多，全局变量等等，使用递归很容易判断不充分return的条件，非常容易无限递归（或者递归层级过深），<strong>造成栈溢出错误（这种问题还不好排查！）</strong></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">removeDuplicates</span><span class="params">(s: <span class="type">String</span>)</span></span>: String &#123;</span><br><span class="line">    <span class="keyword">val</span> stack = Stack&lt;<span class="built_in">Char</span>&gt;()</span><br><span class="line">    s.chars().forEach &#123;</span><br><span class="line">        <span class="keyword">if</span>(!stack.empty()&amp;&amp;stack.peek()==it.toChar())&#123;</span><br><span class="line">            stack.pop()</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            stack.push(it.toChar())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.joinToString(separator = <span class="string">&quot;&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="150-逆波兰表达式求值"><a href="#150-逆波兰表达式求值" class="headerlink" title="150. 逆波兰表达式求值"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/evaluate-reverse-polish-notation/">150. 逆波兰表达式求值</a></h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">evalRPN</span><span class="params">(tokens: <span class="type">Array</span>&lt;<span class="type">String</span>&gt;)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> stack = Stack&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">    tokens.forEach &#123;</span><br><span class="line">        <span class="keyword">if</span> (it == <span class="string">&quot;+&quot;</span> || it == <span class="string">&quot;-&quot;</span> || it == <span class="string">&quot;*&quot;</span> || it == <span class="string">&quot;/&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">val</span> pop1 = stack.takeUnless &#123; p1 -&gt; p1.empty() &#125;?.pop()</span><br><span class="line">            <span class="keyword">val</span> pop2 = stack.takeUnless &#123; p2 -&gt; p2.empty() &#125;?.pop()</span><br><span class="line">            <span class="keyword">if</span> (pop1 != <span class="literal">null</span> &amp;&amp; pop2 != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">val</span> result = getResult(it, pop2.toInt(), pop1.toInt()) <span class="comment">// stack取的第二个数放前面</span></span><br><span class="line">                stack.push(result)</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            stack.push(it.toInt())</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> stack.peek()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">getResult</span><span class="params">(<span class="keyword">operator</span>: <span class="type">String</span>, pop1: <span class="type">Int</span>, pop2: <span class="type">Int</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">when</span> (<span class="keyword">operator</span>) &#123;</span><br><span class="line">        <span class="string">&quot;+&quot;</span> -&gt; pop1 + pop2</span><br><span class="line">        <span class="string">&quot;-&quot;</span> -&gt; pop1 - pop2</span><br><span class="line">        <span class="string">&quot;*&quot;</span> -&gt; pop1 * pop2</span><br><span class="line">        <span class="string">&quot;/&quot;</span> -&gt; pop1 / pop2</span><br><span class="line">        <span class="keyword">else</span> -&gt; <span class="keyword">throw</span> RuntimeException(<span class="string">&quot;oh something went wrong&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="239-滑动窗口最大值"><a href="#239-滑动窗口最大值" class="headerlink" title="239. 滑动窗口最大值"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/sliding-window-maximum/">239. 滑动窗口最大值</a></h4><h5 id="存储元素坐标"><a href="#存储元素坐标" class="headerlink" title="存储元素坐标"></a>存储元素坐标</h5><p><a target="_blank" rel="noopener" href="https://programmercarl.com/0239.%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%9C%80%E5%A4%A7%E5%80%BC.html">https://programmercarl.com/0239.%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3%E6%9C%80%E5%A4%A7%E5%80%BC.html</a></p>
<p>nums[index - k]是队列头部最大元素，此时最大元素出队列,因为最大元素一定改窗口的最左侧元素，</p>
<p>如果不是最大元素，因为滑动窗口可能没有k个元素,也不用担心是不是留在窗口里，这种情况下其实在下面push已经早出去了</p>
<p>这样更好理解 移动窗口,队列头结点需要在[i - k + 1, i]范围内，不符合则要弹出</p>
<p>这种也是官方解法</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">maxSlidingWindow2</span><span class="params">(nums: <span class="type">IntArray</span>, k: <span class="type">Int</span>)</span></span>: IntArray &#123;</span><br><span class="line">    <span class="keyword">val</span> linkedList = LinkedList&lt;<span class="built_in">Int</span>&gt;()</span><br><span class="line">    <span class="keyword">val</span> resultArray = IntArray(nums.size - (k - <span class="number">1</span>))  <span class="comment">// 如果窗口是3个元素，结构数组就需要少两个元素</span></span><br><span class="line">    <span class="keyword">var</span> i = <span class="number">0</span></span><br><span class="line">    nums.forEachIndexed &#123; index, value -&gt;</span><br><span class="line">        <span class="keyword">if</span> (!linkedList.isEmpty() &amp;&amp; linkedList.peek() &lt; index - (k - <span class="number">1</span>)) &#123; <span class="comment">//这样更好理解 移动窗口,队列头结点需要在[i - k + 1, i]范围内，不符合则要弹出</span></span><br><span class="line">            linkedList.pop()</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (!linkedList.isEmpty() &amp;&amp; value &gt; nums[linkedList.last()]) &#123;   <span class="comment">// 如果大于最后一个元素</span></span><br><span class="line">            linkedList.removeLast()                                     <span class="comment">//最后一个元素出队列</span></span><br><span class="line">        &#125;</span><br><span class="line">        linkedList.offer(index)                                          <span class="comment">//否则直接入队,这样保持队列元素单调递减</span></span><br><span class="line">        <span class="keyword">if</span> (index &gt;= (k - <span class="number">1</span>)) &#123; <span class="comment">//如果是3个元素，从位置2开始存最大值，如果是1个元素，就从0存最大值</span></span><br><span class="line">            resultArray[i++] = nums[linkedList.peek()]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> resultArray</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/sliding-window-maximum/solution/hua-dong-chuang-kou-de-zui-da-zhi-bao-mu-9eci/">https://leetcode.cn/problems/sliding-window-maximum/solution/hua-dong-chuang-kou-de-zui-da-zhi-bao-mu-9eci/</a></p>
<h5 id="MyQueue"><a href="#MyQueue" class="headerlink" title="MyQueue"></a>MyQueue</h5><p>随想录定义Myquue,更好，单一指责，更有层次感</p>
<p>//  注意先将前k的元素放进队列,此时push方法，放完后已经是按照单调递减队列来的了</p>
<p>二刷来刷刷刷</p>
<h4 id="347-前-K-个高频元素"><a href="#347-前-K-个高频元素" class="headerlink" title="347. 前 K 个高频元素"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/top-k-frequent-elements/">347. 前 K 个高频元素</a></h4><p>大顶堆 看官方题解理解了</p>
<p>但是大顶堆 小顶堆区别不是很明白，学完树再来继续做这个题目</p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/3/index.html">https://noteforme.github.io/page/3/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LEETCODE/" rel="tag">LEETCODE</a></li></ul>

          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-TouchEvent1" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-06-12T03:17:58.728Z" itemprop="datePublished">2022年06月12日</time>
</span>
      
      
      
<a href="/2022/06/12/TouchEvent1/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>今天学习Android的是事件分发机制的部分内容。</p>
<p>Android事件分发机制是指在Android系统中，如何将触摸事件（TouchEvent）从系统分发到各个View组件。这个过程主要涉及三个方法：<code>dispatchTouchEvent</code>、<code>onInterceptTouchEvent</code>、<code>onTouchEvent</code>。下面是对这三个方法及其工作流程的详细介绍：</p>
<h3 id="1-dispatchTouchEvent"><a href="#1-dispatchTouchEvent" class="headerlink" title="1. dispatchTouchEvent"></a>1. <code>dispatchTouchEvent</code></h3><ul>
<li><strong>定义</strong>：所有的ViewGroup和View都会重写这个方法。它是整个事件分发链的起点。</li>
<li><strong>作用</strong>：决定是否将事件传递给子View，如果子View没有处理，则调用自己的<code>onTouchEvent</code>方法进行处理。</li>
</ul>
<h3 id="2-onInterceptTouchEvent"><a href="#2-onInterceptTouchEvent" class="headerlink" title="2. onInterceptTouchEvent"></a>2. <code>onInterceptTouchEvent</code></h3><ul>
<li><strong>定义</strong>：只有ViewGroup有这个方法。普通的View是没有的。</li>
<li><strong>作用</strong>：用于决定是否拦截子View的事件。如果返回true，表示拦截事件，不再向子View传递，而是由当前ViewGroup处理。</li>
</ul>
<h3 id="3-onTouchEvent"><a href="#3-onTouchEvent" class="headerlink" title="3. onTouchEvent"></a>3. <code>onTouchEvent</code></h3><ul>
<li><strong>定义</strong>：所有的View和ViewGroup都有这个方法。</li>
<li><strong>作用</strong>：最终处理触摸事件的地方。可以在这里定义具体的触摸事件响应逻辑，如点击、长按、滑动等。</li>
</ul>
<h3 id="事件分发流程"><a href="#事件分发流程" class="headerlink" title="事件分发流程"></a>事件分发流程</h3><ol>
<li><p><strong>Activity级别</strong>：</p>
<ul>
<li><code>Activity.dispatchTouchEvent()</code>接收到事件。</li>
<li>如果返回true，表示事件被处理，停止向下传递。</li>
<li>如果返回false，事件继续传递给当前窗口的顶级View。</li>
</ul>
</li>
<li><p><strong>ViewGroup级别</strong>：</p>
<ul>
<li><code>ViewGroup.dispatchTouchEvent()</code>接收到事件。</li>
<li>调用<code>onInterceptTouchEvent()</code>来判断是否拦截事件。<ul>
<li>如果<code>onInterceptTouchEvent()</code>返回true，则调用自身的<code>onTouchEvent()</code>进行处理。</li>
<li>如果返回false，则将事件传递给子View的<code>dispatchTouchEvent()</code>。</li>
</ul>
</li>
</ul>
</li>
<li><p><strong>View级别</strong>：</p>
<ul>
<li><code>View.dispatchTouchEvent()</code>接收到事件。</li>
<li>调用自身的<code>onTouchEvent()</code>进行处理。</li>
</ul>
</li>
</ol>
<h3 id="示例代码"><a href="#示例代码" class="headerlink" title="示例代码"></a>示例代码</h3><p>以下是一个简单的示例，展示了事件分发机制的基本工作原理：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">public class CustomViewGroup extends ViewGroup &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean dispatchTouchEvent(MotionEvent ev) &#123;</span><br><span class="line">        Log.d(&quot;CustomViewGroup&quot;, &quot;dispatchTouchEvent: &quot; + ev.getAction());</span><br><span class="line">        return super.dispatchTouchEvent(ev);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean onInterceptTouchEvent(MotionEvent ev) &#123;</span><br><span class="line">        Log.d(&quot;CustomViewGroup&quot;, &quot;onInterceptTouchEvent: &quot; + ev.getAction());</span><br><span class="line">        return true; // 拦截所有事件</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean onTouchEvent(MotionEvent ev) &#123;</span><br><span class="line">        Log.d(&quot;CustomViewGroup&quot;, &quot;onTouchEvent: &quot; + ev.getAction());</span><br><span class="line">        return true; // 处理事件</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // 省略布局相关代码...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public class CustomView extends View &#123;</span><br><span class="line"></span><br><span class="line">    public CustomView(Context context) &#123;</span><br><span class="line">        super(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean dispatchTouchEvent(MotionEvent ev) &#123;</span><br><span class="line">        Log.d(&quot;CustomView&quot;, &quot;dispatchTouchEvent: &quot; + ev.getAction());</span><br><span class="line">        return super.dispatchTouchEvent(ev);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean onTouchEvent(MotionEvent ev) &#123;</span><br><span class="line">        Log.d(&quot;CustomView&quot;, &quot;onTouchEvent: &quot; + ev.getAction());</span><br><span class="line">        return true; // 处理事件</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>项目中guideview用到了</p>
<p>ShouldDelayChildPressedState</p>
<p>这个你也看一下是否要加 系统级别的延迟,别看了 你继承的class 不会延迟</p>
<img src="/2022/06/12/TouchEvent1//ShouldDelayChildPressedState.png" alt="ShouldDelayChildPressedState" style="zoom: 50%;">

<h4 id="Question"><a href="#Question" class="headerlink" title="Question"></a>Question</h4><p>手机屏幕是由一个个像素点渲染而成的，不同的布局类似于幕布一层层叠上去形成了屏幕上显示的效果，The action is from  DOWN、MOVE、UP, How they formed while we used like longClick , touch, click?</p>
<p>a button on the listview item，why the listview item don’t response while we click the button in a interview ?  but I cann’t answer the key point.</p>
<p>multible listview or recycleview in a  Scrollview  ,how to resolve it?</p>
<p>Android provide NestedScrollView for us now,how does it work?</p>
<h4 id="Answer"><a href="#Answer" class="headerlink" title="Answer"></a>Answer</h4><h5 id="Image-clear"><a href="#Image-clear" class="headerlink" title="Image  clear"></a>Image  clear</h5><img title src="/2022/06/12/TouchEvent1//e212186f23a1ff62130f8cc625ebd5fdfd9a848f.png" alt="touch" style="zoom: 67%;">

<p>I found it very useful when i looked it.it make me have global view.and then I read Activity ViewGroup and View source code from framework. But I found some place could do better ,so I draw another Image.</p>
<img src="/2022/06/12/TouchEvent1//ACTION_DOWN No childView.png" alt="action down" style="zoom:67%;">

<img src="/2022/06/12/TouchEvent1//ACTION_DOWN.png" alt="down" style="zoom:67%;">

<img src="/2022/06/12/TouchEvent1//ACTION_MOVE UP.png" alt="move" style="zoom:67%;">

<p>开发中常用的事件分发</p>
<p>ListView　</p>
<p>item 上有Button ,item上的onItemClick事件得不到响应，可以看看官方<a target="_blank" rel="noopener" href="https://developer.android.com/reference/android/view/ViewGroup.html#attr_android:descendantFocusability">ViewGroup</a> 描述</p>
<h5 id="item-Button"><a href="#item-Button" class="headerlink" title="item Button"></a>item Button</h5><blockquote>
<p>页面搜索　android:descendantFocusability</p>
<p>android:descendantFocusability属性共有三个取值，分别为<br>beforeDescendants：viewgroup会优先其子类控件而获取到焦点<br>afterDescendants：viewgroup 只有当其子类控件不需要获取焦点时才获取焦点<br>blocksDescendants：viewgroup 会覆盖子类控件而直接获得焦点</p>
</blockquote>
<p>原因 : 在View <code>onTouchEvent(MotionEvent event) </code>中,只要view可点击就返回true,事件就被消费掉了,<br>    set isClickable &#x3D; true  才可以收到 action move up事件</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">onTouchEvent</span><span class="params">(MotionEvent event)</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">float</span> <span class="variable">x</span> <span class="operator">=</span> event.getX();</span><br><span class="line">    <span class="keyword">final</span> <span class="type">float</span> <span class="variable">y</span> <span class="operator">=</span> event.getY();</span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span> <span class="variable">viewFlags</span> <span class="operator">=</span> mViewFlags;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">int</span> <span class="variable">action</span> <span class="operator">=</span> event.getAction();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">final</span> <span class="type">boolean</span> <span class="variable">clickable</span> <span class="operator">=</span> ((viewFlags &amp; CLICKABLE) == CLICKABLE</span><br><span class="line">            || (viewFlags &amp; LONG_CLICKABLE) == LONG_CLICKABLE)</span><br><span class="line">            || (viewFlags &amp; CONTEXT_CLICKABLE) == CONTEXT_CLICKABLE;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> ((viewFlags &amp; ENABLED_MASK) == DISABLED) &#123;</span><br><span class="line">        <span class="keyword">if</span> (action == MotionEvent.ACTION_UP &amp;&amp; (mPrivateFlags &amp; PFLAG_PRESSED) != <span class="number">0</span>) &#123;</span><br><span class="line">            setPressed(<span class="literal">false</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        mPrivateFlags3 &amp;= ~PFLAG3_FINGER_DOWN;</span><br><span class="line">        <span class="comment">// A disabled view that is clickable still consumes the touch</span></span><br><span class="line">        <span class="comment">// events, it just doesn&#x27;t respond to them.</span></span><br><span class="line">        <span class="keyword">return</span> clickable;</span><br><span class="line">    &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p>按钮是可以点击的直接被onTouchEvent消费</p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/3/index.html">https://noteforme.github.io/page/3/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-PerformanceJank" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/06/09/PerformanceJank/">PerformanceJank</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-06-09T03:23:50.000Z" itemprop="datePublished">2022年06月09日</time>
</span>
      
      
      
<a href="/2022/06/09/PerformanceJank/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><img src="/2022/06/09/PerformanceJank/2022-06-07_2.49.09.png" alt="2022-06-07_2.49.09"></p>
<p><img src="/2022/06/09/PerformanceJank/2022-06-07_2.49.19.png" alt="2022-06-07_2.49.19"></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1T44y1u7g6">https://www.bilibili.com/video/BV1T44y1u7g6</a></p>
<p>6:41 数据到屏幕，渲染机制</p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/8a296b75d95f">https://www.jianshu.com/p/8a296b75d95f</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904062610046990">https://juejin.cn/post/6844904062610046990</a></p>
<p><a target="_blank" rel="noopener" href="https://testerhome.com/topics/29134">https://testerhome.com/topics/29134</a></p>
<h3 id="卡顿优化"><a href="#卡顿优化" class="headerlink" title="卡顿优化"></a>卡顿优化</h3><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/JArchie520/article/details/106710663">https://blog.csdn.net/JArchie520/article/details/106710663</a></p>
<h3 id="布局优化"><a href="#布局优化" class="headerlink" title="布局优化"></a>布局优化</h3><p>布局加载原理</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/JArchie520/article/details/106563639">https://blog.csdn.net/JArchie520/article/details/106563639</a></p>
<p><a target="_blank" rel="noopener" href="https://androidperformance.com/2019/10/22/Android-Choreographer/#/%E5%B8%A7%E7%BB%98%E5%88%B6%E4%BC%98%E5%8C%96">https://androidperformance.com/2019/10/22/Android-Choreographer/#/%E5%B8%A7%E7%BB%98%E5%88%B6%E4%BC%98%E5%8C%96</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/3/index.html">https://noteforme.github.io/page/3/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Performance/" rel="tag">Performance</a></li></ul>

          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-PerformanceANR" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/06/07/PerformanceANR/">PerformanceANR</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-06-07T06:41:30.000Z" itemprop="datePublished">2022年06月07日</time>
</span>
      
      
      
<a href="/2022/06/07/PerformanceANR/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>ANR</p>
<p><a target="_blank" rel="noopener" href="https://play.google.com/console/u/0/developers/5313279702199603526/app/4975846927718251228/vitals/crashes?installedFrom=PLAY_STORE&amp;days=30">https://play.google.com/console/u/0/developers/5313279702199603526/app/4975846927718251228/vitals/crashes?installedFrom=PLAY_STORE&amp;days=30</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.android.com/topic/performance/vitals/anr.html">https://developer.android.com/topic/performance/vitals/anr.html</a></p>
<h5 id="ANR"><a href="#ANR" class="headerlink" title="ANR"></a>ANR</h5><p>  全称 Application Nor Responding,在debug的时候经常会出现的一个框框，询问关闭或等待，在正常环境下出现的情况</p>
<ul>
<li><p>主线程IO 操作</p>
</li>
<li><p>主线程耗时任务</p>
</li>
<li><p>主线程错误的操作 Thread.wait或Thread.sleep<br>Android系统监控程序的响应状况，出现下面两种情况弹出ANR对话框<br>*应用在5秒内未响应用户的输入事件(按键或者触摸)<br>*BroadcastReceiver未在　10秒内完成相关的处理</p>
</li>
</ul>
<p>Android Vitals 将连续丢帧超过 700 毫秒定义为冻帧，也就是连续丢帧 42 帧以上</p>
<p><a target="_blank" rel="noopener" href="https://time.geekbang.org/column/article/72642">https://time.geekbang.org/column/article/72642</a></p>
<p>卡顿优化</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1T44y1u7g6?spm_id_from=333.337.search-card.all.click">https://www.bilibili.com/video/BV1T44y1u7g6?spm_id_from=333.337.search-card.all.click</a></p>
<p>Block canary</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/JArchie520/article/details/106710663">https://blog.csdn.net/JArchie520/article/details/106710663</a></p>
<p>这里有ANR场景模拟</p>
<p><code>ANR</code>产生原因和类型有以下几种：</p>
<h4 id="1、Activity在5秒钟之内无法响应屏幕触摸事件挥着键盘输入事件就会产生ANR。"><a href="#1、Activity在5秒钟之内无法响应屏幕触摸事件挥着键盘输入事件就会产生ANR。" class="headerlink" title="1、Activity在5秒钟之内无法响应屏幕触摸事件挥着键盘输入事件就会产生ANR。"></a>1、<code>Activity</code>在5秒钟之内无法响应屏幕触摸事件挥着键盘输入事件就会产生<code>ANR</code>。</h4><p>KeyDispatchTimeout<br> Reason：Input event dispatching timed out</p>
<h4 id="2、BroadcastReceiver在10秒钟之内还未执行完成就会产生ANR。"><a href="#2、BroadcastReceiver在10秒钟之内还未执行完成就会产生ANR。" class="headerlink" title="2、BroadcastReceiver在10秒钟之内还未执行完成就会产生ANR。"></a>2、<code>BroadcastReceiver</code>在10秒钟之内还未执行完成就会产生<code>ANR</code>。</h4><p>BroadcastTimeout<br> Reason：Timeout of broadcast BroadcastRecord</p>
<h4 id="3、Service各个生命周期在20秒钟之内没有执行完成就会产生ANR。"><a href="#3、Service各个生命周期在20秒钟之内没有执行完成就会产生ANR。" class="headerlink" title="3、Service各个生命周期在20秒钟之内没有执行完成就会产生ANR。"></a>3、<code>Service</code>各个生命周期在20秒钟之内没有执行完成就会产生<code>ANR</code>。</h4><p>ServiceTimeout<br> Reason：Timeout executing service</p>
<h4 id="4、ContentProvider在10秒钟之内没有执行完成就会产生ANR。"><a href="#4、ContentProvider在10秒钟之内没有执行完成就会产生ANR。" class="headerlink" title="4、ContentProvider在10秒钟之内没有执行完成就会产生ANR。"></a>4、<code>ContentProvider</code>在10秒钟之内没有执行完成就会产生<code>ANR</code>。</h4><p>ContentProviderTimeout<br> Reason：timeout publishing content providers</p>
<p>在以上这几种原因中出现最多的一般是第一种，而且往往都是因为在写代码时不注意，在主线程做了耗时的操作。</p>
<p>链接：<a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904069731975176">https://juejin.cn/post/6844904069731975176</a></p>
<p>各主流方案</p>
<h5 id="BlockCanary"><a href="#BlockCanary" class="headerlink" title="BlockCanary"></a>BlockCanary</h5><p> 主要是检测主线程的耗时操作，后面会写卡顿监控，主要基于Handler的打印</p>
<p>某些场景监控不到, </p>
<h5 id="ANR-WatcheDog"><a href="#ANR-WatcheDog" class="headerlink" title="ANR-WatcheDog"></a>ANR-WatcheDog</h5><p>主要是往主线程插入一条监控消息， 隔一段时间来引爆这个炸弹,今天手写</p>
<p>轮询时间不好定呀,时间5s, 5s - 10s的有可能监控不到</p>
<h5 id="SafeLooer"><a href="#SafeLooer" class="headerlink" title="SafeLooer"></a>SafeLooer</h5><p>去代理了主线程Looper，这个不讲</p>
<h5 id="FileObserver"><a href="#FileObserver" class="headerlink" title="FileObserver"></a>FileObserver</h5><p>高版本没有权限,所以用不了</p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/3/index.html">https://noteforme.github.io/page/3/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Performance/" rel="tag">Performance</a></li></ul>

          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-PerformanceMemory" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/06/07/PerformanceMemory/">PerformanceMemory</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-06-07T02:34:22.000Z" itemprop="datePublished">2022年06月07日</time>
</span>
      
      
      
<a href="/2022/06/07/PerformanceMemory/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <img src="/2022/06/07/PerformanceMemory/2022-06-06-3.40.43.png" alt="2022-06-06-3.40.43" style="zoom:50%;">





<p><a target="_blank" rel="noopener" href="https://developer.android.com/studio/profile/memory-profiler?hl=zh-cn">https://developer.android.com/studio/profile/memory-profiler?hl=zh-cn</a></p>
<p>查看内存限制，下面的命令不起作用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">adb shell cat&#x2F;system&#x2F;build.prop &#x2F;&#x2F; 需要root权限，没用</span><br><span class="line"></span><br><span class="line">adb shell getprop  &#x2F;&#x2F; 可以看全部的</span><br><span class="line">adb shell getprop dalvik.vm.heapsize &#x2F;&#x2F;迷你裙可以看到</span><br></pre></td></tr></table></figure>



<h4 id="内存抖动分析"><a href="#内存抖动分析" class="headerlink" title="内存抖动分析"></a>内存抖动分析</h4><p>Android profile</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1n44y1K7xS?p=5&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1n44y1K7xS?p=5&amp;spm_id_from=pageDriver</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1oz4y1m7Gw?p=6">https://www.bilibili.com/video/BV1oz4y1m7Gw?p=6</a></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=7ls28uGMBEs&amp;list=PLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE&amp;index=73">https://www.youtube.com/watch?v=7ls28uGMBEs&amp;list=PLWz5rJ2EKKc9CBxr3BVjPTPoDPLdPIFCE&amp;index=73</a></p>
<p>Android 内存泄漏</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1n44y1K7xS?p=6">https://www.bilibili.com/video/BV1n44y1K7xS?p=6</a></p>
<p>video 25分钟泄漏分析</p>
<p>leakcanary</p>
<p><a target="_blank" rel="noopener" href="https://github.com/square/leakcanary">https://github.com/square/leakcanary</a></p>
<p>AndroidStudio Profiler工具</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=qJ1QLgiL24o">这个视频</a> 讲解了找出内存泄漏的步骤　<br>还有AndroidStudio3.0的<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/bdfd2a6b2681">图文方法</a> </p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/b_lFfL1mDrNVKj_VAcA2ZA">https://mp.weixin.qq.com/s/b_lFfL1mDrNVKj_VAcA2ZA</a></p>
<p>抖音内存监控框架 (kenzo)</p>
<h4 id="内存优化"><a href="#内存优化" class="headerlink" title="内存优化"></a>内存优化</h4><p>操作1:25分钟</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1T44y1u7g6?p=4&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1T44y1u7g6?p=4&amp;spm_id_from=pageDriver</a></p>
<p><img src="/2022/06/07/PerformanceMemory/20220608101926.jpg" alt="20220608101926"></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6844904099998089230#heading-6">https://juejin.cn/post/6844904099998089230#heading-6</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/JArchie520/article/details/106418561">https://blog.csdn.net/JArchie520/article/details/106418561</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/3/index.html">https://noteforme.github.io/page/3/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Performance/" rel="tag">Performance</a></li></ul>

          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-LC-string" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/06/05/LC-string/">LC-string</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-06-05T03:06:28.000Z" itemprop="datePublished">2022年06月05日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/DataStructure/">DataStructure</a>
  </div>

      
      
<a href="/2022/06/05/LC-string/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="344-反转字符串"><a href="#344-反转字符串" class="headerlink" title="344. 反转字符串"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-string/">344. 反转字符串</a></h4><p>双指针</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">reverseString</span><span class="params">(s: <span class="type">CharArray</span>)</span></span>: <span class="built_in">Unit</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> left = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> right = s.size - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        swap(s, left, right)</span><br><span class="line">        left++</span><br><span class="line">        right--</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">swap</span><span class="params">(s: <span class="type">CharArray</span>, left: <span class="type">Int</span>, right: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">val</span> temp = s[left]</span><br><span class="line">    s[left] = s[right]</span><br><span class="line">    s[right] = temp</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="541-反转字符串-II"><a href="#541-反转字符串-II" class="headerlink" title="541. 反转字符串 II"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-string-ii/">541. 反转字符串 II</a></h4><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">reverseStr</span><span class="params">(s: <span class="type">String</span>, k: <span class="type">Int</span>)</span></span>: String &#123;</span><br><span class="line">    <span class="keyword">val</span> charArray = s.toCharArray()</span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> s.indices step <span class="number">2</span> * k) &#123;</span><br><span class="line">        <span class="keyword">var</span> left = i  <span class="comment">// 每次的left指针设置好</span></span><br><span class="line">        <span class="keyword">var</span> right = (i + k - <span class="number">1</span>)   <span class="comment">//接着设置每次的 右指针</span></span><br><span class="line">        <span class="keyword">if</span> (right &gt; s.length - <span class="number">1</span>) &#123; <span class="comment">// 如果字符串长度小于 这次的右指针，使用字符串的右边界作为右指针</span></span><br><span class="line">            right = s.length - <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (left &lt; right) &#123;  <span class="comment">//反转</span></span><br><span class="line">            LC344().swap(charArray, left, right)</span><br><span class="line">            left++</span><br><span class="line">            right--</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> String(charArray)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>随想录感觉解法不太好</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-string-ii/solution/gong-shui-san-xie-jian-dan-zi-fu-chuan-m-p88f/">https://leetcode.cn/problems/reverse-string-ii/solution/gong-shui-san-xie-jian-dan-zi-fu-chuan-m-p88f/</a></p>
<p>这个解法和我的差不多，更优雅</p>
<h4 id="剑指-Offer-05-替换空格"><a href="#剑指-Offer-05-替换空格" class="headerlink" title="剑指 Offer 05. 替换空格"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/ti-huan-kong-ge-lcof/">剑指 Offer 05. 替换空格</a></h4><p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/ti-huan-kong-ge-lcof/solution/zhe-dao-ti-mu-zhen-de-you-zhe-yao-jian-dan-ma-qing/">https://leetcode.cn/problems/ti-huan-kong-ge-lcof/solution/zhe-dao-ti-mu-zhen-de-you-zhe-yao-jian-dan-ma-qing/</a></p>
<h4 id="151-颠倒字符串中的单词"><a href="#151-颠倒字符串中的单词" class="headerlink" title="151. 颠倒字符串中的单词"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-words-in-a-string/">151. 颠倒字符串中的单词</a></h4><p>这题的难点，主要就是去除 字符串中间的空格</p>
<h5 id="栈或双端队列解法"><a href="#栈或双端队列解法" class="headerlink" title="栈或双端队列解法"></a>栈或双端队列解法</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">    <span class="comment">/*   栈或双端队列解法</span></span><br><span class="line"><span class="comment">    *    1. 设置left , right指针，移动指针，类似移除两端的空格</span></span><br><span class="line"><span class="comment">    *    2. 从第一个元素开始遍历,添加到StringBuilder,直到遇到第一个空格，StringBuilder的数据加入队列,清空StringBuilder</span></span><br><span class="line"><span class="comment">    *    3. 直到最后一个加入队列</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * if (s[left] != &#x27; &#x27;) 中的&#x27; &#x27;是Ascii十进制32,单测中有验证</span></span><br><span class="line"><span class="comment">    * */</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">fun</span> <span class="title">reverseWords</span><span class="params">(s: <span class="type">String</span>)</span></span>: String &#123;</span><br><span class="line">        <span class="keyword">var</span> left = <span class="number">0</span></span><br><span class="line">        <span class="keyword">var</span> right = s.length - <span class="number">1</span></span><br><span class="line">        <span class="keyword">while</span> (s[left] == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (s[right] == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            right--</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> deque: Deque&lt;String&gt; = ArrayDeque()</span><br><span class="line">        <span class="keyword">val</span> sb = StringBuilder()</span><br><span class="line">        <span class="keyword">for</span> (i <span class="keyword">in</span> left..right) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s[left] != <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">                sb.append(s[left])</span><br><span class="line"><span class="comment">//            &#125; else if (s[left] == &#x27; &#x27; &amp;&amp; sb[sb.length - 1] != &#x27; &#x27;) &#123; // 一开始以为官方也是这样写的，其实也是下面我这种的</span></span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[left] == <span class="string">&#x27; &#x27;</span> &amp;&amp; sb.isNotEmpty()) &#123; <span class="comment">// 这里改成这样是因为加入 &quot;the sky is blue&quot; ， left==3走到了空格，</span></span><br><span class="line">                deque.offerFirst(sb.toString())             <span class="comment">//就初始化sb,然后left==4走到了s,如果两个空格，sb[sb.length - 1]就会越界</span></span><br><span class="line">                sb.setLength(<span class="number">0</span>)</span><br><span class="line">            &#125;</span><br><span class="line">            left++</span><br><span class="line">        &#125;</span><br><span class="line">        deque.offerFirst(sb.toString())</span><br><span class="line">        <span class="keyword">return</span> java.lang.String.join(<span class="string">&quot; &quot;</span>, deque)</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>



<p>官方题解，文字版的感觉更好点，因为有java的版本的，视频的c++的不用stringbuilder</p>
<p><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/reverse-words-in-a-string/solution/fan-zhuan-zi-fu-chuan-li-de-dan-ci-by-leetcode-sol/">https://leetcode.cn/problems/reverse-words-in-a-string/solution/fan-zhuan-zi-fu-chuan-li-de-dan-ci-by-leetcode-sol/</a></p>
<h5 id="两次反转字符串"><a href="#两次反转字符串" class="headerlink" title="两次反转字符串"></a>两次反转字符串</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 1. 去除空格，并且用StringBuilder组合</span></span><br><span class="line"><span class="comment"> * 2. 翻转整个StringBuilder</span></span><br><span class="line"><span class="comment"> * 3. 翻转StringBuilder中的单个字符</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">reverseWords2</span><span class="params">(s: <span class="type">String</span>)</span></span>: String &#123;</span><br><span class="line">    <span class="keyword">val</span> sb = deleteStartEndSpace(s)</span><br><span class="line">    reverseStringBuilder(sb, <span class="number">0</span>, sb.length - <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">var</span> wStart = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> wEnd = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> (wStart &lt; sb.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sb.getOrElse(wEnd) &#123; <span class="string">&#x27; &#x27;</span> &#125; == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            reverseStringBuilder(sb, wStart, wEnd - <span class="number">1</span>)</span><br><span class="line">            wStart = ++wEnd</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            wEnd++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">deleteStartEndSpace</span><span class="params">(s: <span class="type">String</span>)</span></span>: StringBuilder &#123;</span><br><span class="line">    <span class="keyword">var</span> left = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> right = s.length - <span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> (s[left] == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">        left++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (s[right] == <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">        right--</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">val</span> sb = StringBuilder()</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123; <span class="comment">// 注意这里最右边的字符是需要添加的</span></span><br><span class="line">        <span class="keyword">if</span> (s[left] != <span class="string">&#x27; &#x27;</span>) &#123;</span><br><span class="line">            sb.append(s[left])</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s[left] == <span class="string">&#x27; &#x27;</span> &amp;&amp; s[left - <span class="number">1</span>] != <span class="string">&#x27; &#x27;</span>) &#123; <span class="comment">//不提前去掉空格，如果字符左边&quot;  hello world  &quot;有空格就会越界，</span></span><br><span class="line">            sb.append(s[left])                            <span class="comment">//而且StringBuilder右边空格也会添加空格，而且不好去掉</span></span><br><span class="line">        &#125;</span><br><span class="line">        left++</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">reverseStringBuilder</span><span class="params">(sb: <span class="type">StringBuilder</span>, leftP: <span class="type">Int</span>, rightP: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> left = leftP</span><br><span class="line">    <span class="keyword">var</span> right = rightP</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="keyword">val</span> temp = sb[left]</span><br><span class="line">        sb.setCharAt(left, sb[right])</span><br><span class="line">        sb.setCharAt(right, temp)</span><br><span class="line">        left++</span><br><span class="line">        right--</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>官方解法，翻转子字符串这种更妙</p>
<pre><code>public void reverseEachWord(StringBuilder sb) &#123;
    int n = sb.length();
    int start = 0, end = 0;

    while (start &lt; n) &#123;
        // 循环至单词的末尾
        while (end &lt; n &amp;&amp; sb.charAt(end) != &#39; &#39;) &#123;
            ++end;
        &#125;
        // 翻转单词
        reverse(sb, start, end - 1);
        // 更新start，去找下一个单词
        start = end + 1;
        ++end;
    &#125;
&#125;
</code></pre>
<h4 id="剑指-Offer-58-II-左旋转字符串"><a href="#剑指-Offer-58-II-左旋转字符串" class="headerlink" title="剑指 Offer 58 - II. 左旋转字符串"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/zuo-xuan-zhuan-zi-fu-chuan-lcof/">剑指 Offer 58 - II. 左旋转字符串</a></h4><h5 id="数组System-arraycopy"><a href="#数组System-arraycopy" class="headerlink" title="数组System.arraycopy"></a>数组System.arraycopy</h5><p>深入分析用到了汇编指令,后面可以加强学习,其实底层的知识还是需要的，要不然没法深入下去了</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/jackgo73/article/details/111866491">https://blog.csdn.net/jackgo73/article/details/111866491</a></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">reverseLeftWords</span><span class="params">(s: <span class="type">String</span>, n: <span class="type">Int</span>)</span></span>: String &#123;</span><br><span class="line">    <span class="keyword">val</span> sb = StringBuilder(s)</span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">0</span> until n) &#123;</span><br><span class="line">        sb.append(s[i])</span><br><span class="line">        sb.deleteCharAt(<span class="number">0</span>)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.toString()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>不能申请额外空间，只能在本串上操作</strong></p>
<p>我觉得用carl的方法更好</p>
<ol>
<li>反转区间为前n的子串</li>
<li>反转区间为n到末尾的子串</li>
<li>反转整个字符串</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://programmercarl.com/%E5%89%91%E6%8C%87Offer58-II.%E5%B7%A6%E6%97%8B%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2.html#%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E7%89%88%E6%9C%AC">https://programmercarl.com/%E5%89%91%E6%8C%87Offer58-II.%E5%B7%A6%E6%97%8B%E8%BD%AC%E5%AD%97%E7%AC%A6%E4%B8%B2.html#%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E7%89%88%E6%9C%AC</a></p>
<h4 id="28-实现-strStr"><a href="#28-实现-strStr" class="headerlink" title="28. 实现 strStr()"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/implement-strstr/">28. 实现 strStr()</a></h4><h5 id="暴力解法"><a href="#暴力解法" class="headerlink" title="暴力解法"></a>暴力解法</h5><p>aabaabaaf</p>
<p>aabaaf</p>
<p>整体移动底下的字串，然后匹配</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">strStr</span><span class="params">(haystack: <span class="type">String</span>, needle: <span class="type">String</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> needleIndex = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> haystack.indices) &#123;</span><br><span class="line">        <span class="keyword">var</span> hayIndex = i</span><br><span class="line">        <span class="keyword">while</span> (needleIndex &lt; needle.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (haystack.getOrNull(hayIndex) == needle[needleIndex]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (needleIndex == needle.length - <span class="number">1</span>) <span class="keyword">return</span> i</span><br><span class="line">                hayIndex++</span><br><span class="line">                needleIndex++</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                needleIndex = <span class="number">0</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个暴力解法，也有更好的写法</p>
<h5 id="kmp"><a href="#kmp" class="headerlink" title="kmp"></a>kmp</h5><p><a href="https://noteforme.github.io/2021/06/17/kmp/">https://noteforme.github.io/2021/06/17/kmp/</a></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">strStrKmp</span><span class="params">(haystack: <span class="type">String</span>, needle: <span class="type">String</span>)</span></span>: <span class="built_in">Int</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> j = <span class="number">0</span></span><br><span class="line">    <span class="keyword">var</span> nextArray = initNext(needle) <span class="comment">// 初始化next数组</span></span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> haystack.indices) &#123;       <span class="comment">// 文本串指针i 移动</span></span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; haystack[i] != needle[j]) &#123;</span><br><span class="line">            j = nextArray[j - <span class="number">1</span>]    <span class="comment">// 模式串 指针 根据next数组的下标回退</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (haystack[i] == needle[j]) &#123; <span class="comment">// 文本串 模式串对应的字符相等</span></span><br><span class="line">            j++</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (j == needle.length) &#123;</span><br><span class="line">            <span class="keyword">return</span> i - j + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 模式串</span></span><br><span class="line"><span class="comment"> * i指向后缀末尾位置</span></span><br><span class="line"><span class="comment"> * j 指向前缀末尾位置， 也代表 i和i之前的 最长公共前后缀的长度</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">initNext</span><span class="params">(needle: <span class="type">String</span>)</span></span>: IntArray &#123;</span><br><span class="line">    <span class="keyword">var</span> nextArray = IntArray(needle.length)</span><br><span class="line">    <span class="keyword">var</span> j = <span class="number">0</span> <span class="comment">// j 前缀0开始初始化</span></span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span> until needle.length) &#123; <span class="comment">// i后缀末尾 ，从1开始初始化</span></span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; needle[i] != needle[j]) &#123;</span><br><span class="line">            j = nextArray[j - <span class="number">1</span>]            <span class="comment">// 前一个位置下标 回退</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (needle[i] == needle[j]) j++     <span class="comment">// 找到新的相等字符， 在之前最长公共前后缀长度 +1</span></span><br><span class="line">        nextArray[i] = j <span class="comment">// 更新next下标</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nextArray</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="459-重复的子字符串"><a href="#459-重复的子字符串" class="headerlink" title="459. 重复的子字符串"></a><a target="_blank" rel="noopener" href="https://leetcode.cn/problems/repeated-substring-pattern/">459. 重复的子字符串</a></h4><p>这题根据随想录的 公式 套的</p>
<p><a target="_blank" rel="noopener" href="https://programmercarl.com/0459.%E9%87%8D%E5%A4%8D%E7%9A%84%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2.html#%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E7%89%88%E6%9C%AC">https://programmercarl.com/0459.%E9%87%8D%E5%A4%8D%E7%9A%84%E5%AD%90%E5%AD%97%E7%AC%A6%E4%B8%B2.html#%E5%85%B6%E4%BB%96%E8%AF%AD%E8%A8%80%E7%89%88%E6%9C%AC</a></p>
<p>next[len - 1] = 7，next[len - 1] + 1 = 8 这句话的意思是. 这里数组统一减1，所以需要加1 == 8</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">repeatedSubstringPattern</span><span class="params">(s: <span class="type">String</span>)</span></span>: <span class="built_in">Boolean</span> &#123;</span><br><span class="line">    <span class="keyword">val</span> nxtArrr = initNext(s)</span><br><span class="line">    <span class="keyword">val</span> len = s.length</span><br><span class="line">    <span class="keyword">if</span> (nxtArrr[len - <span class="number">1</span>] != <span class="number">0</span> &amp;&amp; len % (len - nxtArrr[len - <span class="number">1</span>]) == <span class="number">0</span>) &#123; <span class="comment">//这两句 是根据随想录的公式抄的</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span> <span class="title">initNext</span><span class="params">(s: <span class="type">String</span>)</span></span>: IntArray &#123;</span><br><span class="line">    <span class="keyword">var</span> j = <span class="number">0</span></span><br><span class="line">    <span class="keyword">val</span> nxt = IntArray(s.length)</span><br><span class="line">    nxt[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> (i <span class="keyword">in</span> <span class="number">1</span> until s.length) &#123;</span><br><span class="line">        <span class="keyword">while</span> (j &gt; <span class="number">0</span> &amp;&amp; s[i] != s[j]) &#123;</span><br><span class="line">            j = nxt[j - <span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (s[i] == s[j]) j++</span><br><span class="line">        nxt[i] = j</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> nxt</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/3/index.html">https://noteforme.github.io/page/3/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LEETCODE/" rel="tag">LEETCODE</a></li></ul>

          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-location" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2022/05/24/location/">location</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2022-05-24T06:48:58.000Z" itemprop="datePublished">2022年05月24日</time>
</span>
      
      
      
<a href="/2022/05/24/location/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="Location-Permission-changes"><a href="#Location-Permission-changes" class="headerlink" title="Location Permission changes"></a>Location Permission changes</h3><p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=xTVeFJZQ28c">https://www.youtube.com/watch?v=xTVeFJZQ28c</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/baurine/android-location-study/blob/master/note/location-note.md">https://github.com/baurine/android-location-study/blob/master/note/location-note.md</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/dxiaolai/article/details/81588921">https://blog.csdn.net/dxiaolai/article/details/81588921</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_32770809/article/details/115914021">https://blog.csdn.net/qq_32770809/article/details/115914021</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u013334392/article/details/91971758">https://blog.csdn.net/u013334392/article/details/91971758</a></p>
<p>其实在上面我已经提到了，所有上面的解决的方案都没有解决根本问题，那就是当你在室内开发时，你的手机根本就没法获取位置信息，你叫系统如何将位置信息通知给你的程序。所以要从根本上解决这个问题，就要解决位置信息获取问题。刚刚也提到了，只有NETWORK_PROVIDER这种模式才是室内定位可靠的方式，只不过由于大陆的怪怪网络，且大部分厂商也不会用google的服务，这种定位方式默认是没法用的。那怎么办？好办，找个替代的服务商就可以了，百度的位置信息sdk就可以解决这个问题。它的基本原理在上面已经提到过了，就是搜集你的wifi节点信息和你的手机基站信息来定位。</p>
<h3 id="detect-installed-app"><a href="#detect-installed-app" class="headerlink" title="detect installed app"></a>detect installed app</h3><p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/72123141/how-to-check-exists-app-in-device-on-android">https://stackoverflow.com/questions/72123141/how-to-check-exists-app-in-device-on-android</a></p>
<p><a target="_blank" rel="noopener" href="https://medium.com/@GoogleDroids/how-to-check-if-an-android-app-is-installed-on-your-device-f8f0f1d4fb6a">https://medium.com/@GoogleDroids/how-to-check-if-an-android-app-is-installed-on-your-device-f8f0f1d4fb6a</a></p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><code class="hljs kotlin"><span class="hljs-function"><span class="hljs-keyword">fun</span> <span class="hljs-title">isPackageInstalled</span><span class="hljs-params">(context: <span class="hljs-type">Context</span>, packagename: <span class="hljs-type">String</span>)</span></span>: <span class="hljs-built_in">Boolean</span> &#123;<br>    <span class="hljs-keyword">var</span> result = <span class="hljs-literal">false</span><br>    <span class="hljs-keyword">try</span> &#123;<br>        <span class="hljs-comment">// is the application installed?</span><br>        context.packageManager.getPackageInfo(packagename, PackageManager.GET_ACTIVITIES)<br>        result = <span class="hljs-literal">true</span><br>    &#125; <span class="hljs-keyword">catch</span> (e: PackageManager.NameNotFoundException) &#123;<br>        <span class="hljs-comment">//Not installed</span><br>    &#125;<br>    <span class="hljs-keyword">return</span> result<br>&#125;<br><br>        <span class="hljs-keyword">val</span> checkInstallation = isPackageInstalled(<span class="hljs-keyword">this</span>, <span class="hljs-string">&quot;com.google.android.apps.maps&quot;</span>)<br>        Log.i(TAG, <span class="hljs-string">&quot;googleMap: <span class="hljs-variable">$checkInstallation</span>&quot;</span>)<br><br>        Log.i(TAG, <span class="hljs-string">&quot;gaodemap: <span class="hljs-subst">$&#123;isPackageInstalled(this, <span class="hljs-string">&quot;com.autonavi.minimap&quot;</span>)&#125;</span>&quot;</span>) <br>        Log.i(TAG, <span class="hljs-string">&quot;baidumap: <span class="hljs-subst">$&#123;isPackageInstalled(this, <span class="hljs-string">&quot;com.baidu.BaiduMap&quot;</span>)&#125;</span>&quot;</span>)<br>        Log.i(TAG, <span class="hljs-string">&quot;waze: <span class="hljs-subst">$&#123;isPackageInstalled(this, <span class="hljs-string">&quot;com.waze&quot;</span>)&#125;</span>&quot;</span>)<br></code></pre></td></tr></table></figure>

<p>Androidmanifest.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs xml">    <span class="hljs-tag">&lt;<span class="hljs-name">queries</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.google.android.apps.maps&quot;</span> /&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.google.android.youtube&quot;</span> /&gt;</span><br><span class="hljs-comment">&lt;!--</span><br><span class="hljs-comment">        &lt;package android:name=&quot;com.autonavi.minimap&quot; /&gt;</span><br><span class="hljs-comment"></span><br><span class="hljs-comment">        &lt;package android:name=&quot;com.baidu.BaiduMap&quot; /&gt;</span><br><span class="hljs-comment">        --&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">package</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;com.waze&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">queries</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>it also can be used , but it seems not recommend in office</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs xml"><span class="hljs-tag">&lt;<span class="hljs-name">uses-permission</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.permission.QUERY_ALL_PACKAGES&quot;</span></span><br><span class="hljs-tag">    <span class="hljs-attr">tools:ignore</span>=<span class="hljs-string">&quot;QueryAllPackagesPermission&quot;</span> /&gt;</span><br><br><span class="hljs-tag">&lt;<span class="hljs-name">queries</span>&gt;</span><br>    <span class="hljs-tag">&lt;<span class="hljs-name">intent</span>&gt;</span><br>        <span class="hljs-tag">&lt;<span class="hljs-name">action</span> <span class="hljs-attr">android:name</span>=<span class="hljs-string">&quot;android.intent.action.MAIN&quot;</span> /&gt;</span><br>    <span class="hljs-tag">&lt;/<span class="hljs-name">intent</span>&gt;</span><br><span class="hljs-tag">&lt;/<span class="hljs-name">queries</span>&gt;</span><br></code></pre></td></tr></table></figure>

<p>huawei OS install others map , except google map<br>result:</p>
<p>googleMap: false<br>gaodemap: false<br>baidumap: false<br>waze: true</p>
<p>if remove Androidmanifest comment </p>
<p>googleMap: false<br>gaodemap: true<br>baidumap: true<br>waze: true</p>
<h3 id="Google-play-Policy"><a href="#Google-play-Policy" class="headerlink" title="Google play Policy"></a>Google play Policy</h3><p><a target="_blank" rel="noopener" href="https://support.google.com/googleplay/android-developer/answer/10144311#zippy=%2Cexamples-of-common-violations">https://support.google.com/googleplay/android-developer/answer/10144311#zippy=%2Cexamples-of-common-violations</a></p>
<p>An app that accesses a user’s inventory of installed apps and doesn’t treat this data as personal or sensitive data subject to the above Privacy Policy, data handling, and Prominent Disclosure and Consent requirements.</p>
<p>Android 11 introduced changes related to package visibility. These changes affect applications, only if they target Android 11 and above. For more information on these changes, please view the official documentation about package visibility on Android.</p>
<p><a target="_blank" rel="noopener" href="https://developer.android.com/training/package-visibility">https://developer.android.com/training/package-visibility</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.android.com/about/versions/11/privacy/package-visibility">https://developer.android.com/about/versions/11/privacy/package-visibility</a></p>
<p>But be aware that Play Store has new policy and common apps with this perm declared won’t be pulished in there. You have to provide good reason for accepting your app - this permission must be used for starting user-initiated key feature of app</p>
<p><a target="_blank" rel="noopener" href="https://stackoverflow.com/questions/72123141/how-to-check-exists-app-in-device-on-android">https://stackoverflow.com/questions/72123141/how-to-check-exists-app-in-device-on-android</a></p>
<h3 id="lanuch-Google-Map"><a href="#lanuch-Google-Map" class="headerlink" title="lanuch Google Map"></a>lanuch Google Map</h3><p>Maps URLs (recommended)<br>Using Maps URLs, you can build a universal, cross-platform URL to launch Google Maps and perform searches, get directions and navigation, and display map views and panoramic images. These universal URLs allow for broader handling of the maps requests no matter which platform the user is on.</p>
<p>Google Maps Intents for Android<br>Using intents in your Android app, you can start an activity in another app by describing a simple action you’d like to perform (such as “display a map” or “show directions to the airport”) in an Intent object. The Google Maps app for Android supports several different intents, allowing you to launch the Google Maps app in display, search, navigation, or Street View modes.</p>
<p><a target="_blank" rel="noopener" href="https://developers.google.com/maps/documentation/android-sdk/intents">https://developers.google.com/maps/documentation/android-sdk/intents</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/3/index.html">https://noteforme.github.io/page/3/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>



    <nav id="page-nav">

<a class="extend prev" rel="prev" href="/page/2/">Previous</a><a class="page-number" href="/">1</a><a class="page-number" href="/page/2/">2</a><span class="page-number current">3</span><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><span class="space">&hellip;</span><a class="page-number" href="/page/20/">20</a><a class="extend next" rel="next" href="/page/4/">Next</a>
</nav>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-posts"></i> Recent</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2024/07/04/DesignPatterns-State/">DesignPatterns_State</a>
          </li>
        
          <li>
            <a href="/2024/07/03/glide/">glide</a>
          </li>
        
          <li>
            <a href="/2023/11/15/permission-storage/">permission_storage</a>
          </li>
        
          <li>
            <a href="/2023/11/15/notification/">notification</a>
          </li>
        
          <li>
            <a href="/2023/08/20/compose-layout/">compose_layout</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-tag"></i> Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ANDROID/" style="font-size: 14px;">ANDROID</a> <a href="/tags/AOSP/" style="font-size: 16px;">AOSP</a> <a href="/tags/Activity/" style="font-size: 10px;">Activity</a> <a href="/tags/AndroidNewFeatures/" style="font-size: 10px;">AndroidNewFeatures</a> <a href="/tags/Assembly/" style="font-size: 10px;">Assembly</a> <a href="/tags/BLOG/" style="font-size: 10px;">BLOG</a> <a href="/tags/ConstraintLayout/" style="font-size: 10px;">ConstraintLayout</a> <a href="/tags/DB/" style="font-size: 12px;">DB</a> <a href="/tags/DesignPattern/" style="font-size: 10px;">DesignPattern</a> <a href="/tags/Drawer/" style="font-size: 10px;">Drawer</a> <a href="/tags/Fragment/" style="font-size: 12px;">Fragment</a> <a href="/tags/JVM/" style="font-size: 18px;">JVM</a> <a href="/tags/LEETCODE/" style="font-size: 20px;">LEETCODE</a> <a href="/tags/Library/" style="font-size: 10px;">Library</a> <a href="/tags/Operators/" style="font-size: 10px;">Operators</a> <a href="/tags/Performance/" style="font-size: 14px;">Performance</a> <a href="/tags/RecyclerView/" style="font-size: 12px;">RecyclerView</a> <a href="/tags/RxJava/" style="font-size: 14px;">RxJava</a> <a href="/tags/THINK/" style="font-size: 10px;">THINK</a> <a href="/tags/TOOL/" style="font-size: 10px;">TOOL</a> <a href="/tags/TabLayout/" style="font-size: 10px;">TabLayout</a> <a href="/tags/Test/" style="font-size: 14px;">Test</a> <a href="/tags/TouchEvent/" style="font-size: 12px;">TouchEvent</a> <a href="/tags/VIEW/" style="font-size: 14px;">VIEW</a> <a href="/tags/XML/" style="font-size: 10px;">XML</a> <a href="/tags/anim/" style="font-size: 10px;">anim</a> <a href="/tags/compose/" style="font-size: 10px;">compose</a> <a href="/tags/concurrency/" style="font-size: 14px;">concurrency</a> <a href="/tags/coroutie/" style="font-size: 16px;">coroutie</a> <a href="/tags/inter/" style="font-size: 12px;">inter</a> <a href="/tags/keyboard/" style="font-size: 10px;">keyboard</a> <a href="/tags/permission/" style="font-size: 10px;">permission</a> <a href="/tags/proguard/" style="font-size: 10px;">proguard</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-classify"></i> Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ANDROID/">ANDROID</a><span class="category-list-count">52</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/BLE/">BLE</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DataStructure/">DataStructure</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DesignPatterns/">DesignPatterns</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ENGLISH/">ENGLISH</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA/">JAVA</a><span class="category-list-count">24</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Jetpack/">Jetpack</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kotlin/">Kotlin</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LINUX/">LINUX</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mathematics/">Mathematics</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/">OS</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Organization/">Organization</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SOURCE/">SOURCE</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TEST/">TEST</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/">TOOL</a><span class="category-list-count">10</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/VIEW/">VIEW</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/anim/">anim</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/flutter/">flutter</a><span class="category-list-count">5</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-archive"></i> Archive</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/">2024年</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/">2023年</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022年</a><span class="archive-list-count">34</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021年</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020年</a><span class="archive-list-count">39</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019年</a><span class="archive-list-count">20</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018年</a><span class="archive-list-count">26</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017年</a><span class="archive-list-count">49</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-tag"></i> Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ANDROID/" rel="tag">ANDROID</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOSP/" rel="tag">AOSP</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Activity/" rel="tag">Activity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AndroidNewFeatures/" rel="tag">AndroidNewFeatures</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Assembly/" rel="tag">Assembly</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BLOG/" rel="tag">BLOG</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ConstraintLayout/" rel="tag">ConstraintLayout</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DB/" rel="tag">DB</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DesignPattern/" rel="tag">DesignPattern</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Drawer/" rel="tag">Drawer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fragment/" rel="tag">Fragment</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LEETCODE/" rel="tag">LEETCODE</a><span class="tag-list-count">12</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Library/" rel="tag">Library</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Operators/" rel="tag">Operators</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Performance/" rel="tag">Performance</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RecyclerView/" rel="tag">RecyclerView</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RxJava/" rel="tag">RxJava</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/THINK/" rel="tag">THINK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TOOL/" rel="tag">TOOL</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TabLayout/" rel="tag">TabLayout</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Test/" rel="tag">Test</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TouchEvent/" rel="tag">TouchEvent</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VIEW/" rel="tag">VIEW</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/" rel="tag">XML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/anim/" rel="tag">anim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/compose/" rel="tag">compose</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/concurrency/" rel="tag">concurrency</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/coroutie/" rel="tag">coroutie</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/inter/" rel="tag">inter</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keyboard/" rel="tag">keyboard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/permission/" rel="tag">permission</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/proguard/" rel="tag">proguard</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-link"></i> Blogroll</h3>
    <div class="widget">
      <ul>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example1.com/">site-name1</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example2.com/">site-name2</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example3.com/">site-name3</a>
        </li>
      
      </ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <a id="totop" href="#top"></a>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>
        <a href="/sitemap.xml">Site Map</a>
        <span> | </span><a href="/atom.xml">Subscribe to this site</a>
        <span> | </span><a href="/about/">Contact the blogger</a>
      </p>
      
        <p>
          <i class="fa fa-visitors"></i>
          <i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>
          ，
          <i class="fa fa-views"></i>
          <i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>
        </p>
      
      <p>
        <span>Copyright &copy; 2024 Jon.</span>
        <span>Theme by <a href="https://github.com/chaooo/hexo-theme-BlueLake/" target="_blank">BlueLake.</a></span>
        <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo.</a></span>
      </p>
    </div>
  </div>
</footer>

    </div>
  </div>
  
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/search.json.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>






  
<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>








  



</body>
</html>