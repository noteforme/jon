<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Jon&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  
  
  
    <link rel="alternate" href="/atom.xml" title="Jon's Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
  
    
<link rel="stylesheet" href="/localshare/css/share.css">

  
  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jon&#39;s Blog</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">Cease to struggle and you cease to live. - Thomas Carlyle</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        
          <a class="main-nav-link" href="/."><i class="fa fa-home"></i> Home</a>
        
          <a class="main-nav-link" href="/archives/"><i class="fa fa-archive"></i> Archive</a>
        
          <a class="main-nav-link" href="/about/"><i class="fa fa-user"></i> About</a>
        
          <a class="main-nav-link" href="/atom.xml"><i class="fa fa-rss"></i> RSS</a>
        
      </nav>
    </div>
    <div id="search-form">
      <div id="result-mask" class="hide"></div>
      <label><input id="search-key" type="text" autocomplete="off" placeholder="search"></label>
      <div id="result-wrap" class="hide">
        <div id="search-result"></div>
      </div>
      <div class="hide">
        <template id="search-tpl">
          <div class="item">
            <a href="/{path}" title="{title}">
              <div class="title">{title}</div>
              <div class="time">{date}</div>
              <div class="tags">{tags}</div>
            </a>
          </div>
        </template>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  <article id="post-annotation" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/04/25/annotation/">annotation</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-04-25T14:38:39.000Z" itemprop="datePublished">2020年04月25日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/JAVA/">JAVA</a>
  </div>

      
      
<a href="/2020/04/25/annotation/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h3 id="注解"><a href="#注解" class="headerlink" title="注解"></a>注解</h3><h4 id="注解的作用"><a href="#注解的作用" class="headerlink" title="注解的作用"></a>注解的作用</h4><img src="/2020/04/25/annotation/2021-07-29_9.08.16_function.png" alt="ff">

<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/briblue/article/details/73824058">https://blog.csdn.net/briblue/article/details/73824058</a></p>
<ul>
<li>提供信息给编译器： 编译器可以利用注解来探测错误和警告信息</li>
<li>编译阶段时的处理：  软件工具可以用来利用注解信息来生成代码、Html文档或者做其它相应处理。</li>
<li>运行时的处理：  某些注解可以在程序运行的时候接受代码的提取</li>
</ul>
<p>元注解 ： 不可以再分的注解， 负责注解其他注解。java定义了4个标准的meta-annotation类型,它们被用来提供对其它annotation类型作说明。Target Retention Documented Inherited</p>
<p>​                如上图的 Overide被@Target和@Retention修饰，他们用来说明解释其他注解，位于 java.lang.annotation下</p>
<h4 id="元注解类型"><a href="#元注解类型" class="headerlink" title="元注解类型"></a>元注解类型</h4><h5 id="Target"><a href="#Target" class="headerlink" title="Target"></a>Target</h5><p>用于描述注解的使用范围(注解可以用在什么地方)</p>
<p>如 类 属性 方法等</p>
<p><img src="/2020/04/25/annotation/2021-06-28_21-32-34_target.png"></p>
<h5 id="Retention"><a href="#Retention" class="headerlink" title="Retention"></a>Retention</h5><p>需要什么级别保存该注释信息，用于保留注解的生命周期</p>
<p><img src="/2020/04/25/annotation/2021-06-28_21-36-57_retention.png"></p>
<h5 id="Inherited"><a href="#Inherited" class="headerlink" title="@Inherited"></a>@Inherited</h5><p>标明所修饰的注解，在所作用的类上，是否可以被继承。</p>
<h5 id="Documented"><a href="#Documented" class="headerlink" title="@Documented"></a>@Documented</h5><p>javadoc的工具文档化</p>
<h4 id="注解使用"><a href="#注解使用" class="headerlink" title="注解使用"></a>注解使用</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Sxt&#123;</span><br><span class="line"> 	<span class="function">String <span class="title">studentName</span><span class="params">()</span></span>;  <span class="comment">// studentName 参数名， String参数类型</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>注解元素必须要有值，我们定义注解元素时，经常使用空字符串，0作为默认值。</p>
<p>也经常使用负数(比如:-1)表示不存在的含义</p>
<p>annotation01</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(value = &#123;ElementType.METHOD,ElementType.TYPE&#125;)</span> <span class="comment">//针对方法 和类有效</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span>	<span class="comment">// 针对运行时有效</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Annotation01 &#123;</span><br><span class="line">    <span class="function">String <span class="title">studentName</span><span class="params">()</span> <span class="keyword">default</span> &quot;&quot;</span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">age</span><span class="params">()</span> <span class="keyword">default</span> 0</span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">id</span><span class="params">()</span> <span class="keyword">default</span> -1</span>; <span class="comment">// String indexOf(&quot;abc&quot;) -1</span></span><br><span class="line"></span><br><span class="line">    String[] schools() <span class="keyword">default</span> &#123;<span class="string">&quot;清华大学&quot;</span>,<span class="string">&quot;哈工大&quot;</span>&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Annotation02</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(value = &#123;ElementType.METHOD,ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Annotation02 &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果只有一个参数，一般写成value</p>
<p>Demo01</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Annotation01</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Demo02</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Annotation01(age = 19, studentName = &quot;老高&quot;,</span></span><br><span class="line"><span class="meta">            id = 1001, schools = &#123;&quot;哈工大&quot;, &quot;清华大学&quot;&#125;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Annotation02(value = &quot;aaaa&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test01</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Annotation02(&quot;aaaa&quot;)</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test02</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>使用注解,参照 test01(),也可以省略”value=” 参见test02()</p>
<h5 id="注解实例"><a href="#注解实例" class="headerlink" title="注解实例"></a>注解实例</h5><p>注解设置 SxtStudent信息，映射数据库</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(value = &#123;ElementType.TYPE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SxtTable &#123;</span><br><span class="line">    <span class="function">String <span class="title">value</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(value = &#123;ElementType.FIELD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SxtField &#123;</span><br><span class="line">    <span class="function">String <span class="title">columnName</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function">String <span class="title">type</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="function"><span class="keyword">int</span> <span class="title">length</span><span class="params">()</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SxtTable(&quot;tb_student&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">SxtStudent</span> </span>&#123;</span><br><span class="line">    <span class="meta">@SxtField(columnName = &quot;id&quot;,type = &quot;int&quot;,length = 10)</span></span><br><span class="line">    <span class="keyword">private</span>  <span class="keyword">int</span> id;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SxtField(columnName = &quot;sname&quot;,type = &quot;varchar&quot;,length = 10)</span></span><br><span class="line">    <span class="keyword">private</span> String studentName;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@SxtField(columnName = &quot;age&quot;,type = &quot;int&quot;,length = 3)</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>通过第三方工具获取注解信息</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Class clazz = Class.forName(<span class="string">&quot;annotation.SxtStudent&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获得类的所有有效注解</span></span><br><span class="line">    Annotation[] annotations = clazz.getAnnotations();</span><br><span class="line">    <span class="keyword">for</span> (Annotation a:annotations)&#123;</span><br><span class="line">        System.out.println(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//获得类的指定注解</span></span><br><span class="line">    SxtTable st = (SxtTable)clazz.getAnnotation(SxtTable.class);</span><br><span class="line">    System.out.println(st.value());</span><br><span class="line"></span><br><span class="line">    <span class="comment">//获得类的属性的注解</span></span><br><span class="line">    Field f = clazz.getDeclaredField(<span class="string">&quot;studentName&quot;</span>);</span><br><span class="line">    SxtField sxtField = f.getAnnotation(SxtField.class);</span><br><span class="line">    System.out.println(sxtField.columnName()+<span class="string">&quot;--&quot;</span> + sxtField.type()+<span class="string">&quot;---&quot;</span> + sxtField.length());</span><br><span class="line"></span><br><span class="line">&#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125; <span class="keyword">catch</span> (NoSuchFieldException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>运行结果</p>
<blockquote>
<p>@annotation.SxtTable(value=tb_student)<br>tb_student<br>sname–varchar—10</p>
</blockquote>
<h5 id="反射实例"><a href="#反射实例" class="headerlink" title="反射实例"></a>反射实例</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">String path = <span class="string">&quot;reflection.User&quot;</span>;</span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">    Class&lt;?&gt; clazz = Class.forName(path);</span><br><span class="line">    <span class="comment">//对象是表示或封装一些数据。一个类被加载后，JVM会创建一个对应该类的Class对象，类的整个结构信息会放到对应的CLass对象中。</span></span><br><span class="line">    <span class="comment">//这个Class对象就像一面镜子一样，通过这面镜子我可已看到对应类的全部信息。</span></span><br><span class="line">    System.out.println(clazz.hashCode());</span><br><span class="line"></span><br><span class="line">    Class clazz2 = Class.forName(path); <span class="comment">// 一个类对应的一个class对象</span></span><br><span class="line">    System.out.println(clazz2.hashCode());</span><br><span class="line"></span><br><span class="line">    Class intCLazz = <span class="keyword">int</span>.class;</span><br><span class="line">    <span class="keyword">int</span>[] arr01 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">10</span>];</span><br><span class="line">    <span class="keyword">int</span>[][] arr02 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">30</span>][<span class="number">3</span>];</span><br><span class="line">    <span class="keyword">int</span>[]arr03 = <span class="keyword">new</span> <span class="keyword">int</span>[<span class="number">30</span>];</span><br><span class="line">    <span class="keyword">double</span>[] arr04 = <span class="keyword">new</span> <span class="keyword">double</span>[<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line">    System.out.println(arr01.getClass().hashCode());</span><br><span class="line">    System.out.println(arr02.getClass().hashCode());</span><br><span class="line">    System.out.println(arr03.getClass().hashCode());</span><br><span class="line">    System.out.println(arr04.getClass().hashCode());</span><br></pre></td></tr></table></figure>





<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=vZe5zG0vh3U&amp;list=PLC664nq_h8b9Jzh-qYJ_AeOpmSoBLC_tg&amp;index=1">https://www.youtube.com/watch?v=vZe5zG0vh3U&amp;list=PLC664nq_h8b9Jzh-qYJ_AeOpmSoBLC_tg&amp;index=1</a></p>
<h3 id="注解处理器"><a href="#注解处理器" class="headerlink" title="注解处理器"></a>注解处理器</h3><p>是javac处理注解的一种工具，它用来在编译时扫描和处理注解。简单来说就是在编译器，通过注解采集信息，生成.java文件。减少重复代码的编写。</p>
<h5 id="APT原理"><a href="#APT原理" class="headerlink" title="APT原理"></a>APT原理</h5><p><img src="/2020/04/25/annotation/2021-07-29_2.39.54_apt.png"></p>
<p><img src="/2020/04/25/annotation/2021-07-29_2.10_process.png"></p>
<h5 id="步骤"><a href="#步骤" class="headerlink" title="步骤"></a>步骤</h5><p><img src="/2020/04/25/annotation/2021-07-29_2.10.48_step.png"></p>
<h5 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h5><p>APT就这固定的几步，网上demo可以生成，我的就是没法生成，原来是因为,@DIActivity类的头部没有设置</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@DIActivity</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MainActivity</span> <span class="keyword">extends</span> <span class="title">AppCompatActivity</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>项目 MRouter</p>
<h4 id="Arouter"><a href="#Arouter" class="headerlink" title="Arouter"></a>Arouter</h4><h5 id="原理"><a href="#原理" class="headerlink" title="原理"></a>原理</h5><p>获得当前程序在手机中对应的apk文件,使用classsloader:dexfile(PMS)，反射获取apk所有的类，筛选出注册activity的类。初始化</p>
<h5 id="核心实现"><a href="#核心实现" class="headerlink" title="核心实现"></a>核心实现</h5><p><img src="/2020/04/25/annotation/2021-08-12_1.18_arouter.png"></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Ly4y1W7f5?p=6&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1Ly4y1W7f5?p=6&amp;spm_id_from=pageDriver</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1nU4y1a79o?from=search&amp;seid=3188418579827888379">https://www.bilibili.com/video/BV1nU4y1a79o?from=search&amp;seid=3188418579827888379</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6925283352698159117#heading-14">https://juejin.cn/post/6925283352698159117#heading-14</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6947992544252788767">https://juejin.cn/post/6947992544252788767</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/xx326664162/article/details/68490059">https://blog.csdn.net/xx326664162/article/details/68490059</a></p>
<p><a target="_blank" rel="noopener" href="https://hanshuliang.blog.csdn.net/article/details/117072224">https://hanshuliang.blog.csdn.net/article/details/117072224</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/han1202012/APT">https://github.com/han1202012/APT</a></p>
<h4 id="反射机制"><a href="#反射机制" class="headerlink" title="反射机制"></a>反射机制</h4><p>Java反射机制是在运行状态中，对于任意一个类，都能够知道这个类的所有属性和方法；对于任意一个对象都能够调用它的任意一个方法；这种动态获取的信息以及动态调用对象的方法的功能称为java的反射机制。</p>
<h5 id="基本使用"><a href="#基本使用" class="headerlink" title="基本使用"></a>基本使用</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflection;</span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MethodReflect</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">addResult</span><span class="params">(<span class="keyword">int</span> addNum)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> addNum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//使用反射第一步:获取操作类MethodDemoFieldDemo所对应的Class对象</span></span><br><span class="line">Class &lt; ?&gt;cls = Class.forName(<span class="string">&quot;reflection.MethodReflect&quot;</span>);</span><br><span class="line"><span class="comment">//使用MethodDemo类的class对象生成 实例</span></span><br><span class="line">Object obj = cls.newInstance();</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取public int addResult(int addNum)方法</span></span><br><span class="line">Method addMethod = cls.getMethod(<span class="string">&quot;addResult&quot;</span>, <span class="keyword">new</span> Class[] &#123;</span><br><span class="line">        <span class="keyword">int</span>.class</span><br><span class="line">&#125;);</span><br><span class="line">System.out.println(<span class="string">&quot;修饰符: &quot;</span> + Modifier.toString(addMethod.getModifiers()));</span><br><span class="line">System.out.println(<span class="string">&quot;返回值: &quot;</span> + addMethod.getReturnType());</span><br><span class="line">System.out.println(<span class="string">&quot;方法名称: &quot;</span> + addMethod.getName());</span><br><span class="line">System.out.println(<span class="string">&quot;参数列表: &quot;</span> + addMethod.getParameterTypes());</span><br><span class="line"><span class="keyword">int</span> result = (<span class="keyword">int</span>) addMethod.invoke(obj, <span class="number">2</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;调用addResult后的运行结果:&quot;</span> + result);</span><br><span class="line"></span><br><span class="line">System.out.println(<span class="string">&quot;--------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取public String toString() 方法</span></span><br><span class="line">Method toStringMethod = cls.getMethod(<span class="string">&quot;toString&quot;</span>, <span class="keyword">new</span> Class[] &#123;&#125;);</span><br><span class="line">System.out.println(<span class="string">&quot;修饰符: &quot;</span> + Modifier.toString(toStringMethod.getModifiers()));</span><br><span class="line">System.out.println(<span class="string">&quot;返回值: &quot;</span> + toStringMethod.getReturnType());</span><br><span class="line">System.out.println(<span class="string">&quot;方法名称: &quot;</span> + toStringMethod.getName());</span><br><span class="line">System.out.println(<span class="string">&quot;参数列表: &quot;</span> + toStringMethod.getParameterTypes());</span><br><span class="line">String msg = (String) toStringMethod.invoke(obj);</span><br><span class="line">System.out.println(<span class="string">&quot;调用toString后的运行结果:&quot;</span> + msg);</span><br></pre></td></tr></table></figure>



<p>Method类的invoke(Object obj,Object  args[])方法接收的参数必须为对象,如果参数为基本类型数据,必须转换为相应的包装类型的对象。invoke()方法的返回值总是对象,如果实际被调用的方法的返回类型是基本类型数据,那么invoke()方法会把它转换为相应的包装类型的对象,再将其返回.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InvokeTester</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">InvokeTester</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">add</span><span class="params">(<span class="keyword">int</span> param1, <span class="keyword">int</span> param2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> param1 + param2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">echo</span><span class="params">(String mesg)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;echo&quot;</span> + mesg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        Class classType = InvokeTester.class;</span><br><span class="line">        Object invokertester = classType.newInstance(); <span class="comment">//1</span></span><br><span class="line">        Method addMethod = classType.getMethod(<span class="string">&quot;add&quot;</span>, <span class="keyword">new</span> Class[]&#123; <span class="comment">//2</span></span><br><span class="line">                <span class="keyword">int</span>.class,</span><br><span class="line">                <span class="keyword">int</span>.class</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        Object result = addMethod.invoke(invokertester, <span class="keyword">new</span> Object[]&#123; <span class="comment">//3</span></span><br><span class="line">                <span class="keyword">new</span> Integer(<span class="number">100</span>),</span><br><span class="line">                <span class="keyword">new</span> Integer(<span class="number">200</span>)</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        System.out.println(result);</span><br><span class="line">        Method echo = classType.getMethod(<span class="string">&quot;echo&quot;</span>, <span class="keyword">new</span> Class[]&#123;</span><br><span class="line">                String.class</span><br><span class="line">        &#125;);</span><br><span class="line">        Object obj = echo.invoke(invokertester, <span class="keyword">new</span> Object[]&#123;</span><br><span class="line">                <span class="keyword">new</span> String(<span class="string">&quot;Jon is very good!!!&quot;</span>)</span><br><span class="line">        &#125;);</span><br><span class="line">        System.out.println(obj.toString());</span><br><span class="line"></span><br><span class="line">        InvokeTester test = <span class="keyword">new</span> InvokeTester(); <span class="comment">//1</span></span><br><span class="line">        test.setName(<span class="string">&quot;黄翊&quot;</span>); <span class="comment">//2</span></span><br><span class="line">        <span class="comment">//Method[] methods;</span></span><br><span class="line">        Method[] methods = test.getClass().getDeclaredMethods(); <span class="comment">//3</span></span><br><span class="line">        <span class="comment">//循环查找获取id方法，并执行查看是否有返回值</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; methods.length; i++) &#123;</span><br><span class="line">            <span class="comment">//如果此方法有get和Id关键字则执行</span></span><br><span class="line">            <span class="keyword">if</span> (methods[i].getName().indexOf(<span class="string">&quot;get&quot;</span>) != -<span class="number">1</span> &amp;&amp; methods[i].getName().indexOf(<span class="string">&quot;Name&quot;</span>) != -<span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// 获取此get方法返回值,判断是否有值,如果没有值说明即将执行的操作新增</span></span><br><span class="line">                <span class="keyword">if</span> (methods[i].invoke(test, <span class="keyword">null</span>) == <span class="keyword">null</span>) &#123; <span class="comment">//4</span></span><br><span class="line">                    System.out.println(<span class="string">&quot;此对象没有值！！！&quot;</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    Object strName = methods[i].invoke(test, <span class="keyword">null</span>);</span><br><span class="line">                    System.out.println(strName);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>





<h5 id="invoke方法的使用"><a href="#invoke方法的使用" class="headerlink" title="invoke方法的使用"></a>invoke方法的使用</h5><p>实际上invoke方法的使用，和我们常见的有所区别。</p>
<p>我们经常创建一个对象A，A对象里面的方法getA()方法，然后A.getA()</p>
<p>我们采用新的方式调用<br>（1）弄一个方法的“替身”（其实就是构建一个Method对象，让这个Method对象来代替你现在要用的方法）<br>（2）然后给替身需要的对象和参数，让替身去替你调用（像替身替你去战斗）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> reflection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.junit.jupiter.api.Test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.lang.reflect.Method;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">InvokeTest</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">test</span><span class="params">(String[] arg)</span></span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (String string : arg) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;zp is &quot;</span> + string);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">invokeDemo</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="comment">//获取字节码对象,这里要填好你对应对象的包的路径</span></span><br><span class="line">        Class&lt;InvokeTest&gt; clazz = (Class&lt;InvokeTest&gt;) Class.forName(<span class="string">&quot;reflection.InvokeTest&quot;</span>);</span><br><span class="line">        <span class="comment">//形式一：获取一个对象</span></span><br><span class="line"><span class="comment">//        Constructor con =  clazz.getConstructor();</span></span><br><span class="line"><span class="comment">//        InvokeTest m = (InvokeTest) con.newInstance();</span></span><br><span class="line">        <span class="comment">//形式二：直接new对象，实际上不是框架的话，自己写代码直接指定某个对象创建并调用也可以</span></span><br><span class="line">        InvokeTest m = <span class="keyword">new</span> InvokeTest();</span><br><span class="line">        String[] s = <span class="keyword">new</span> String[]&#123;<span class="string">&quot;handsome&quot;</span>,<span class="string">&quot;smart&quot;</span>&#125;;</span><br><span class="line">        <span class="comment">//获取Method对象</span></span><br><span class="line">        Method method = clazz.getMethod(<span class="string">&quot;test&quot;</span>, String[].class); <span class="comment">//invoke方法要比别的方法多做一步</span></span><br><span class="line">        <span class="comment">//调用invoke方法来调用</span></span><br><span class="line">        method.invoke(m, (Object) s);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>输出结果</p>
<blockquote>
<p>zp is handsome<br>zp is smart</p>
</blockquote>
<p>所以使用invoke方法要比别的方法多做一步，就是构建一个Method对象，这个对象替代的是现在程序要调用方法的替代品。</p>
<p>而且除了参数以外，invoke还会多要一个对象，因为方法调用需要对象，所以invoke要想调用的目标方法，就需要目标方法的需要的对象。</p>
<p>看起来invoke方法不仅比平常方法直接调用要麻烦很多，但是你有想过吗，我只需要输入参数，我可以调用替代各种方法，在未知的情况下，根据条件决定去调用什么对象，什么方法，一下子就让代码变得灵活，这不仅是invoke的妙处，也是整个反射的妙处，在程序运行时根据条件灵活使用。</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/350058223">https://zhuanlan.zhihu.com/p/350058223</a></p>
<h5 id="Method信息"><a href="#Method信息" class="headerlink" title="Method信息"></a>Method信息</h5><p>我们已经能通过<code>Class</code>实例获取所有<code>Field</code>对象，同样的，可以通过<code>Class</code>实例获取所有<code>Method</code>信息。<code>Class</code>类提供了以下几个方法来获取<code>Method</code>：</p>
<ul>
<li><code>Method getMethod(name, Class...)</code>：获取某个<code>public</code>的<code>Method</code>（包括父类）</li>
<li><code>Method getDeclaredMethod(name, Class...)</code>：获取当前类的某个<code>Method</code>（不包括父类）</li>
<li><code>Method[] getMethods()</code>：获取所有<code>public</code>的<code>Method</code>（包括父类）</li>
<li><code>Method[] getDeclaredMethods()</code>：获取当前类的所有<code>Method</code>（不包括父类）</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span> <span class="keyword">extends</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getScore</span><span class="params">(String type)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">99</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getGrade</span><span class="params">(<span class="keyword">int</span> year)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//    @Override</span></span><br><span class="line"><span class="comment">//    public void hello() &#123;</span></span><br><span class="line"><span class="comment">//        System.out.println(&quot;Student:hello&quot;);</span></span><br><span class="line"><span class="comment">//    &#125;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Person&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hello</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Person:hello&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;Student&gt; methodClass = Student.class;</span><br><span class="line">Arrays.stream(methodClass.getMethods()).forEach(method -&gt; System.out.println(<span class="string">&quot;method方法:    &quot;</span> + method));</span><br></pre></td></tr></table></figure>

<p>打印出</p>
<blockquote>
<p>method方法:    public int reflection.liao.Student.getScore(java.lang.String)<br>method方法:    public void reflection.liao.Person.hello()<br>method方法:    public java.lang.String reflection.liao.Person.getName()</p>
</blockquote>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;Person&gt; methodClass = Person.class;</span><br><span class="line">Arrays.stream(methodClass.getMethods()).forEach(method -&gt; System.out.println(<span class="string">&quot;method方法:    &quot;</span> + method));</span><br></pre></td></tr></table></figure>

<p>打印出</p>
<blockquote>
<p>method方法:    public void reflection.liao.Person.hello()<br>method方法:    public java.lang.String reflection.liao.Person.getName()</p>
<p>…object方法</p>
</blockquote>
<ol>
<li><p>getMethods()可以 获取所有<code>public</code>的<code>Method</code>（包括父类），</p>
</li>
<li><p>不能获取到子类的方法,除非是是多肽实现</p>
</li>
</ol>
<h5 id="getDeclaredMethod获取的Method能否调用子类"><a href="#getDeclaredMethod获取的Method能否调用子类" class="headerlink" title="getDeclaredMethod获取的Method能否调用子类?"></a>getDeclaredMethod获取的Method能否调用子类?</h5><p>父类class通过getDeclaredMethod获取的Method能否调用子类的对象</p>
<p>验证是不可以</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Class&lt;?&gt; clz = Class.forName(<span class="string">&quot;reflection.liao.Person&quot;</span>);</span><br><span class="line">Object o = clz.newInstance();</span><br><span class="line">Method methodGetName = clz.getMethod(<span class="string">&quot;getName&quot;</span>);</span><br><span class="line">Object noParams = methodGetName.invoke(o);</span><br><span class="line">System.out.println(noParams);</span><br><span class="line"></span><br><span class="line">Method methodHello  = clz.getMethod(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">System.out.println(methodHello.invoke(o));</span><br><span class="line"></span><br><span class="line">Method methodGetGrade = clz.getMethod(<span class="string">&quot;getGrade&quot;</span>);</span><br><span class="line">System.out.println(methodGetGrade.invoke(o));</span><br></pre></td></tr></table></figure>

<blockquote>
<p>A Person<br>Person:hello<br>null        // 这个null是哪里来的</p>
</blockquote>
<p>提示</p>
<p>java.lang.NoSuchMethodException: reflection.liao.Person.getGrade()</p>
<p>所以是调用不了的。</p>
<p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1264803678201760">https://www.liaoxuefeng.com/wiki/1252599548343744/1264803678201760</a></p>
<p><a target="_blank" rel="noopener" href="http://www.51gjie.com/java/796.html">http://www.51gjie.com/java/796.html</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/onlywujun/p/3519037.html">https://www.cnblogs.com/onlywujun/p/3519037.html</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/10/index.html">https://noteforme.github.io/page/10/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-JVM" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/04/18/JVM/">JVM</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-04-18T14:19:42.000Z" itemprop="datePublished">2020年04月18日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/JAVA/">JAVA</a>
  </div>

      
      
<a href="/2020/04/18/JVM/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a href="https://noteforme.github.io/2020/01/04/JVM-METHOD/">JVM方法区-第六章</a></p>
<img src="/2020/04/18/JVM/2020-04-16_8.22.33.png" alt="2020-04-16_8.22.33" style="zoom:50%;">



<p><img src="/2020/04/18/JVM/2020-04-16_8.29.39.png" alt="2020-04-16_8.29.39"></p>
<p><img src="/2020/04/18/JVM/2020-04-16_8.41.39.png" alt="2020-04-16_8.41.39"></p>
<p><img src="/2020/04/18/JVM/2020-04-16_8.43.41.png" alt="2020-04-16_8.43.41"></p>
<p><a target="_blank" rel="noopener" href="https://www.iteye.com/blog/rednaxelafx-656951">https://www.iteye.com/blog/rednaxelafx-656951</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/av75247289?p=2">https://www.bilibili.com/video/av75247289?p=2</a></p>
<p>这种情况全局变量 b: B是否会造成内存泄漏</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="keyword">val</span> b = B.getInstance()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="keyword">companion</span> <span class="keyword">object</span> &#123;</span><br><span class="line">        <span class="keyword">val</span> b = B()</span><br><span class="line">        <span class="function"><span class="keyword">fun</span> <span class="title">getInstance</span><span class="params">()</span></span>: B &#123;</span><br><span class="line">            <span class="keyword">return</span> b</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>我觉得不会,B 并不指向A</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1GA4y197VR?spm_id_from=333.337.search-card.all.click&amp;vd_source=d4c5260002405798a57476b318eccac9">https://www.bilibili.com/video/BV1GA4y197VR?spm_id_from=333.337.search-card.all.click&amp;vd_source=d4c5260002405798a57476b318eccac9</a></p>
<p>mOpenEnv  加</p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/10/index.html">https://noteforme.github.io/page/10/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/JVM/" rel="tag">JVM</a></li></ul>

          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-tool-mac" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/04/11/tool-mac/">tool_mac</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-04-11T08:35:50.000Z" itemprop="datePublished">2020年04月11日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/TOOL/">TOOL</a>
  </div>

      
      
<a href="/2020/04/11/tool-mac/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h5 id="IntelliJ-idea-clion"><a href="#IntelliJ-idea-clion" class="headerlink" title="IntelliJ idea clion"></a>IntelliJ idea clion</h5><p>clion激活: CLion-2019.2.5.dmg 下载完成后,先使用再打开,jetbrains-agent-20200227.zip直接拖入就好了。</p>
<p>some tool for mac</p>
<p>查看当前环境变量 : env</p>
<h5 id="Packet-Sender"><a href="#Packet-Sender" class="headerlink" title="Packet Sender"></a>Packet Sender</h5><p>tcp ip tool</p>
<img src="/2020/04/11/tool-mac/Screen Shot 2020-04-11 at 4.40.59 PM.png" alt="Screen Shot 2020-04-11 at 4.40.59 PM" style="zoom:67%;">







<h5 id="HomeBrew安装"><a href="#HomeBrew安装" class="headerlink" title="HomeBrew安装"></a>HomeBrew安装</h5><ol>
<li>下载</li>
</ol>
<p><a target="_blank" rel="noopener" href="https://raw.githubusercontent.com/Homebrew/install/master/install.sh">https://raw.githubusercontent.com/Homebrew/install/master/install.sh</a></p>
<ol start="2">
<li><p>更换源</p>
<figure class="highlight makefile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">BREW_REPO=<span class="string">&quot;https://github.com/Homebrew/brew&quot;</span></span><br><span class="line">   换成  </span><br><span class="line">BREW_REPO=<span class="string">&quot;git://mirrors.ustc.edu.cn/brew.git&quot;</span> </span><br></pre></td></tr></table></figure></li>
<li><p>权限</p>
<figure class="highlight cmake"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod <span class="number">755</span> <span class="keyword">install</span>.sh </span><br><span class="line">./<span class="keyword">install</span>.sh </span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_43635647/article/details/104249968">https://blog.csdn.net/weixin_43635647/article/details/104249968</a></p>
<h5 id="set-environment-variable-mac"><a href="#set-environment-variable-mac" class="headerlink" title="set environment variable mac"></a>set environment variable mac</h5><ol>
<li>Flutter</li>
</ol>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bash_profile</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="string">&quot;<span class="variable">$PATH</span>:/Users/john/development/flutter/bin&quot;</span></span><br><span class="line"></span><br><span class="line">which flutter</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>jdk </p>
<p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/10/install/installation-jdk-and-jre-macos.htm#JSJIG-GUID-F575EB4A-70D3-4AB4-A20E-DBE95171AB5F">https://docs.oracle.com/javase/10/install/installation-jdk-and-jre-macos.htm#JSJIG-GUID-F575EB4A-70D3-4AB4-A20E-DBE95171AB5F</a></p>
</li>
</ol>
<h5 id="mac-terminal"><a href="#mac-terminal" class="headerlink" title="mac terminal"></a>mac terminal</h5><ol>
<li>download and install iterm2</li>
<li>Download iterm2-finder-tools-1.0.0  open Open iTerm.workflow install</li>
<li>file top 右键 customize toolbar then move opem iTerm into toolbar</li>
</ol>
</li>
<li><p>Ignore</p>
<p><code>Command + Shift + .</code></p>
</li>
<li><p>Environment set</p>
<p>AppledeMacBook-Pro:~ apple$ cat ~/.bash_profile</p>
<p>export PATH=”$PATH:/Users/john/development/flutter/bin”</p>
<p>export PUB_HOSTED_URL=<a target="_blank" rel="noopener" href="https://pub.flutter-io.cn/">https://pub.flutter-io.cn</a></p>
<p>export FLUTTER_STORAGE_BASE_URL=<a target="_blank" rel="noopener" href="https://storage.flutter-io.cn/">https://storage.flutter-io.cn</a> </p>
</li>
</ol>
<h5 id="gradle-阿里云镜像"><a href="#gradle-阿里云镜像" class="headerlink" title="gradle 阿里云镜像"></a>gradle 阿里云镜像</h5><p>/Users/john/.gradle 目录添加 init.gradle</p>
<h5 id="鼠须管默认简繁体"><a href="#鼠须管默认简繁体" class="headerlink" title="鼠须管默认简繁体"></a>鼠须管默认简繁体</h5><p>control 加上 ~ 快捷键</p>
<h5 id="屏幕录制"><a href="#屏幕录制" class="headerlink" title="屏幕录制"></a>屏幕录制</h5><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43428139/article/details/109038098">https://blog.csdn.net/qq_43428139/article/details/109038098</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/hi3254014978/p/15084851.html#:~:text=%E8%A7%A3%E5%86%B3Mac%E7%AC%94%E8%AE%B0%E6%9C%AC%E7%94%B5%E8%84%91%E8%87%AA%E5%B8%A6%E5%BD%95%E5%B1%8F%E8%BD%AF%E4%B">https://www.cnblogs.com/hi3254014978/p/15084851.html#:~:text=%E8%A7%A3%E5%86%B3Mac%E7%AC%94%E8%AE%B0%E6%9C%AC%E7%94%B5%E8%84%91%E8%87%AA%E5%B8%A6%E5%BD%95%E5%B1%8F%E8%BD%AF%E4%B</a></p>
<h5 id="adb-环境变量"><a href="#adb-环境变量" class="headerlink" title="adb 环境变量"></a>adb 环境变量</h5><figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">sudo touch ~/.zshrc</span><br><span class="line">sudo vi ~/.zshrc</span><br><span class="line"></span><br><span class="line">复制</span><br><span class="line"></span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">ANDROID_HOME</span>=/Users/m/Library/Android/sdk</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$ANDROID_HOME</span>/platform-tools:$PATH</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$ANDROID_HOME</span>/tools:$PATH</span><br><span class="line"><span class="builtin-name">export</span> <span class="attribute">PATH</span>=<span class="variable">$ANDROID_HOME</span>/tools/bin:$PATH</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><a target="_blank" rel="noopener" href="https://dev.to/ravics09/solution-of-command-not-found-adb-error-29e7">https://dev.to/ravics09/solution-of-command-not-found-adb-error-29e7</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/10/index.html">https://noteforme.github.io/page/10/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-viewmodel" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/04/06/viewmodel/">viewmodel</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-04-06T07:51:24.000Z" itemprop="datePublished">2020年04月06日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/Jetpack/">Jetpack</a>
  </div>

      
      
<a href="/2020/04/06/viewmodel/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://developer.android.com/topic/libraries/architecture/viewmodel">https://developer.android.com/topic/libraries/architecture/viewmodel</a></p>
<p>Share data between fragments</p>
<h4 id="livedata和viewmodel关系"><a href="#livedata和viewmodel关系" class="headerlink" title="livedata和viewmodel关系"></a>livedata和viewmodel关系</h4><p>viewmodel中的数据发生变化时通知页面</p>
<h4 id="ViewModel出现前"><a href="#ViewModel出现前" class="headerlink" title="ViewModel出现前"></a>ViewModel出现前</h4><ol>
<li>瞬间数据丢失</li>
<li>异步调用的内存泄漏</li>
<li>类膨胀提高维护难度和测试难度</li>
</ol>
<p><img src="/2020/04/06/viewmodel/2021-08-02_8.18_viewmodel.png"></p>
<p>Share data between fragments</p>
<p>It’s very common that two or more fragments in an activity need to communicate with each other</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">class SharedViewModel : ViewModel() &#123;</span><br><span class="line">    val selected &#x3D; MutableLiveData&lt;Item&gt;()</span><br><span class="line"></span><br><span class="line">    fun select(item: Item) &#123;</span><br><span class="line">        selected.value &#x3D; item</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class MasterFragment : Fragment() &#123;</span><br><span class="line"></span><br><span class="line">    private lateinit var itemSelector: Selector</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Use the &#39;by activityViewModels()&#39; Kotlin property delegate</span><br><span class="line">    &#x2F;&#x2F; from the fragment-ktx artifact</span><br><span class="line">    private val model: SharedViewModel by activityViewModels()</span><br><span class="line"></span><br><span class="line">    override fun onViewCreated(view: View, savedInstanceState: Bundle?) &#123;</span><br><span class="line">        super.onViewCreated(view, savedInstanceState)</span><br><span class="line">        itemSelector.setOnClickListener &#123; item -&gt;</span><br><span class="line">            &#x2F;&#x2F; Update the UI</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">class DetailFragment : Fragment() &#123;</span><br><span class="line"></span><br><span class="line">    &#x2F;&#x2F; Use the &#39;by activityViewModels()&#39; Kotlin property delegate</span><br><span class="line">    &#x2F;&#x2F; from the fragment-ktx artifact</span><br><span class="line">    private val model: SharedViewModel by activityViewModels()</span><br><span class="line"></span><br><span class="line">    override fun onViewCreated(view: View, savedInstanceState: Bundle?) &#123;</span><br><span class="line">        super.onViewCreated(view, savedInstanceState)</span><br><span class="line">        model.selected.observe(viewLifecycleOwner, Observer&lt;Item&gt; &#123; item -&gt;</span><br><span class="line">            &#x2F;&#x2F; Update the UI</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://codelabs.developers.google.com/codelabs/android-lifecycles/#0">https://codelabs.developers.google.com/codelabs/android-lifecycles/#0</a></p>
<h5 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyViewModel</span>  <span class="keyword">extends</span> <span class="title">ViewModel</span> </span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyViewModel</span><span class="params">(Application application)</span></span>&#123;</span><br><span class="line">        <span class="keyword">super</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> number;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyViewModel</span> <span class="keyword">extends</span> <span class="title">AndroidViewModel</span> </span>&#123; <span class="comment">//需要用到application就用AndroidViewModel</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyViewModel</span><span class="params">(Application application)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(application);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">int</span> number;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="ViewModel保持数据原理"><a href="#ViewModel保持数据原理" class="headerlink" title="ViewModel保持数据原理"></a>ViewModel保持数据原理</h4><ol>
<li>使用</li>
</ol>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">viewModel = <span class="keyword">new</span> ViewModelProvider(<span class="keyword">this</span>, <span class="keyword">new</span> ViewModelProvider.AndroidViewModelFactory(getApplication())).get(MyViewModel.class);</span><br></pre></td></tr></table></figure>



<ol start="2">
<li><p>owner.getViewModelStore()</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ViewModelProvider</span><span class="params">(<span class="meta">@NonNull</span> ViewModelStoreOwner owner, <span class="meta">@NonNull</span> Factory factory)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>(owner.getViewModelStore(), factory);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>ComponentActivity</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> ViewModelStore <span class="title">getViewModelStore</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (getApplication() == <span class="keyword">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> IllegalStateException(<span class="string">&quot;Your activity is not yet attached to the &quot;</span></span><br><span class="line">                + <span class="string">&quot;Application instance. You can&#x27;t request ViewModel before onCreate call.&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (mViewModelStore == <span class="keyword">null</span>) &#123;</span><br><span class="line">        NonConfigurationInstances nc =</span><br><span class="line">                (NonConfigurationInstances) getLastNonConfigurationInstance(); <span class="comment">//拿到上次屏幕的状态</span></span><br><span class="line">        <span class="keyword">if</span> (nc != <span class="keyword">null</span>) &#123;</span><br><span class="line">            <span class="comment">// Restore the ViewModelStore from NonConfigurationInstances</span></span><br><span class="line">            mViewModelStore = nc.viewModelStore; <span class="comment">// 获取上次的mViewModelStore，里面保存有HashMap&lt;String, ViewModel&gt; mMap</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (mViewModelStore == <span class="keyword">null</span>) &#123;</span><br><span class="line">            mViewModelStore = <span class="keyword">new</span> ViewModelStore();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> mViewModelStore;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<p>所以ViewModel横竖屏切换保存数据的秘诀就是</p>
<p>//拿到上次屏幕的状态,获取上次的mViewModelStore，里面保存有HashMap&lt;String, ViewModel&gt; mMap,接着通过.get(MyViewModel.class);获取ViewModel,如果获取不到就反射newInstance()一个。</p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Hh411a7LX?p=6&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1Hh411a7LX?p=6&amp;spm_id_from=pageDriver</a></p>
<h4 id="Unit-test"><a href="#Unit-test" class="headerlink" title="Unit test"></a>Unit test</h4><p><a target="_blank" rel="noopener" href="https://simplifiedcoding.in/all-courses">https://simplifiedcoding.in/all-courses</a></p>
<p><a target="_blank" rel="noopener" href="https://simplifiedcoding.in/course/android-testing-tutorial-from-junit-to-espresso/start/1">https://simplifiedcoding.in/course/android-testing-tutorial-from-junit-to-espresso/start/1</a></p>
<p>点 DOWNLOAD CODE OF SPENDS TRACKER 跳转后就有下载地址</p>
<p> spend-tracker</p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=B-dJTFeOAqw">https://www.youtube.com/watch?v=B-dJTFeOAqw</a></p>
<p><a target="_blank" rel="noopener" href="https://www.youtube.com/watch?v=uH6-HNxK32E">https://www.youtube.com/watch?v=uH6-HNxK32E</a></p>
<h5 id="SavedStateHandle"><a href="#SavedStateHandle" class="headerlink" title="SavedStateHandle"></a>SavedStateHandle</h5><p><a target="_blank" rel="noopener" href="https://www.kodeco.com/5212210-jetpack-saved-state-for-viewmodel-getting-started">https://www.kodeco.com/5212210-jetpack-saved-state-for-viewmodel-getting-started</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6907121847024746503">https://juejin.cn/post/6907121847024746503</a></p>
<h5 id="VisibleForTesting"><a href="#VisibleForTesting" class="headerlink" title="VisibleForTesting"></a>VisibleForTesting</h5><p>通过上面的代码看出， 被测试的testPrivate方法的可见性还是被改成Protected。也就是,VisibleForTesting只是一个注释，一个元数据metadata，它并没有进入程序逻辑，也没有被转化成字节码byte code 从而被JVM执行。</p>
<p>笔者猜测可能是Guava 的 程序员犯懒了, 即不愿意在unit test里直接利用Reflection来测试私有方法。也没有把私有方法写入另一个类中。所以设计了VisibleForTesting的注解来提醒其他程序员: 这里为了测试私有方法把私有方法改成了Protected(受保护的)并放宽了访问限制。</p>
<p>可是就JAVA本身而言，只有通过Reflection才能真正测试私有方法。</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/yanlongpankow/p/6240563.html">https://www.cnblogs.com/yanlongpankow/p/6240563.html</a></p>
<p><a target="_blank" rel="noopener" href="https://jefflin1982.medium.com/android-visiblefortesting%E7%9A%84%E7%94%A8%E9%80%94-5a666a17ba95">https://jefflin1982.medium.com/android-visiblefortesting%E7%9A%84%E7%94%A8%E9%80%94-5a666a17ba95</a></p>
<h5 id="viewmodel-share"><a href="#viewmodel-share" class="headerlink" title="viewmodel share"></a>viewmodel share</h5><p><a target="_blank" rel="noopener" href="https://github.com/google-developer-training/android-basics-kotlin-cupcake-app/tree/starter">https://github.com/google-developer-training/android-basics-kotlin-cupcake-app/tree/starter</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/10/index.html">https://noteforme.github.io/page/10/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Corouties" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/04/05/Corouties/">Corouties</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-04-05T02:37:04.000Z" itemprop="datePublished">2020年04月05日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/Kotlin/">Kotlin</a>
  </div>

      
      
<a href="/2020/04/05/Corouties/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6953441828100112392">https://juejin.cn/post/6953441828100112392</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/joy99/p/15805916.html">https://www.cnblogs.com/joy99/p/15805916.html</a></p>
<p><img src="/2020/04/05/Corouties/2022-03-20_5.39.31.png" alt="2022-03-20_5.39.31"></p>
<p><img src="/2020/04/05/Corouties/2022-03-20_5.39.55.png" alt="2022-03-20_5.39.55"></p>
<h4 id="协程启动模式"><a href="#协程启动模式" class="headerlink" title="协程启动模式"></a>协程启动模式</h4><p><img src="/2020/04/05/Corouties/20220529215120.jpg" alt="20220529215120"></p>
<p>DEFAULT</p>
<p><a target="_blank" rel="noopener" href="https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#1">https://codelabs.developers.google.com/codelabs/kotlin-coroutines/#1</a></p>
<h5 id="Dispatchers"><a href="#Dispatchers" class="headerlink" title="Dispatchers"></a>Dispatchers</h5><p>By default, Kotlin coroutines provides three Dispatchers: <a target="_blank" rel="noopener" href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-dispatchers/-main.html"><code>Main</code></a>, <a target="_blank" rel="noopener" href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-dispatchers/-i-o.html"><code>IO</code></a>, and <a target="_blank" rel="noopener" href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-dispatchers/-default.html"><code>Default</code></a>. </p>
<p>The IO dispatcher is optimized for IO work like reading from the network or disk,</p>
<p> while the Default dispatcher is optimized for CPU intensive tasks.</p>
<p><a target="_blank" rel="noopener" href="https://juejin.cn/post/6883652600462327821">https://juejin.cn/post/6883652600462327821</a></p>
<p>runBlocking 只会等待相同作用域的协程完成才会退出</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">fun</span> main&#123;</span></span><br><span class="line">	runBlocking&#123; <span class="comment">// 不会阻塞正常的调用，阻塞主线程，让内部的程序执行完</span></span><br><span class="line">		GlobalScope.launch&#123;</span><br><span class="line">      println(<span class="string">&quot;hello world&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">	&#125;	</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>









<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1uo4y1y7ZF/?p=101">https://www.bilibili.com/video/BV1uo4y1y7ZF/?p=101</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1Yu411X73j?p=5">https://www.bilibili.com/video/BV1Yu411X73j?p=5</a></p>
<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV164411C7FK?from=search&amp;seid=2446477518780731765">https://www.bilibili.com/video/BV164411C7FK?from=search&amp;seid=2446477518780731765</a></p>
<p><a target="_blank" rel="noopener" href="https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-scope/index.html">https://kotlin.github.io/kotlinx.coroutines/kotlinx-coroutines-core/kotlinx.coroutines/-coroutine-scope/index.html</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/10/index.html">https://noteforme.github.io/page/10/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/coroutie/" rel="tag">coroutie</a></li></ul>

          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-databinding" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/04/01/databinding/">databinding</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-03-31T21:52:42.000Z" itemprop="datePublished">2020年04月01日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/Jetpack/">Jetpack</a>
  </div>

      
      
<a href="/2020/04/01/databinding/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>layout expression of the language</p>
<p><a target="_blank" rel="noopener" href="https://codelabs.developers.google.com/codelabs/android-databinding/#0">https://codelabs.developers.google.com/codelabs/android-databinding/#0</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.android.com/topic/libraries/data-binding">https://developer.android.com/topic/libraries/data-binding</a></p>
<h4 id="Create-first-layout-expression"><a href="#Create-first-layout-expression" class="headerlink" title="Create first layout expression"></a>Create first layout expression</h4><ol>
<li> when you want to use it in your own projects the first step is to enable the library in the modules that will use it:</li>
</ol>
   <figure class="highlight puppet"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">android</span> &#123;</span><br><span class="line">...</span><br><span class="line">    dataBinding &#123;</span><br><span class="line">       <span class="literal">enabled</span> <span class="keyword">true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>Convert to data binding layout</p>
<p>打开布局文件，选中根布局的 <strong>ViewGroup</strong>，按住 <strong>option + 回车键</strong>，点击 “<strong>Convert to data binding layout</strong>”，就可以生成 DataBinding 需要的布局规则</p>
</li>
</ol>
<figure class="highlight dust"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="xml"><span class="tag">&lt;<span class="name">layout</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span></span></span></span><br><span class="line"><span class="xml">        xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span></span><br><span class="line"><span class="xml">        xmlns:tools=&quot;http://schemas.android.com/tools&quot;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">    <span class="tag">&lt;<span class="name">data</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">        &lt;variable</span></span><br><span class="line"><span class="xml">            name=&quot;name&quot;  //不能用下划线 &quot;_&quot;</span></span><br><span class="line"><span class="xml">            type=&quot;String&quot;/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">        &lt;variable</span></span><br><span class="line"><span class="xml">            name=&quot;lastName&quot;</span></span><br><span class="line"><span class="xml">            type=&quot;String&quot;/&gt;</span></span><br><span class="line"><span class="xml">    <span class="tag">&lt;/<span class="name">data</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="xml">    &lt;androidx.constraintlayout.widget.ConstraintLayout</span></span><br><span class="line"><span class="xml">        android:layout_width=&quot;match_parent&quot;</span></span><br><span class="line"><span class="xml">        android:layout_height=&quot;match_parent&quot;&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">        &lt;TextView</span></span><br><span class="line"><span class="xml">            android:id=&quot;@+id/plain_name&quot;</span></span><br><span class="line"><span class="xml">            android:layout_width=&quot;0dp&quot;</span></span><br><span class="line"><span class="xml">            android:layout_height=&quot;wrap_content&quot;</span></span><br><span class="line"><span class="xml">            android:layout_marginStart=&quot;16dp&quot;</span></span><br><span class="line"><span class="xml">            android:layout_marginTop=&quot;8dp&quot;</span></span><br><span class="line"><span class="xml">            android:layout_marginEnd=&quot;128dp&quot;</span></span><br><span class="line"><span class="xml">            android:text=&quot;@</span><span class="template-variable">&#123;name&#125;</span><span class="xml">&quot;			</span></span><br><span class="line"><span class="xml">            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Large&quot;</span></span><br><span class="line"><span class="xml">            app:layout_constraintEnd_toEndOf=&quot;parent&quot;</span></span><br><span class="line"><span class="xml">            app:layout_constraintStart_toStartOf=&quot;parent&quot;</span></span><br><span class="line"><span class="xml">            app:layout_constraintTop_toBottomOf=&quot;@+id/name_label&quot;/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="xml">        &lt;TextView</span></span><br><span class="line"><span class="xml">            android:id=&quot;@+id/plain_lastname&quot;</span></span><br><span class="line"><span class="xml">            android:layout_width=&quot;0dp&quot;</span></span><br><span class="line"><span class="xml">            android:layout_height=&quot;wrap_content&quot;</span></span><br><span class="line"><span class="xml">            android:layout_marginStart=&quot;16dp&quot;</span></span><br><span class="line"><span class="xml">            android:layout_marginTop=&quot;8dp&quot;</span></span><br><span class="line"><span class="xml">            android:layout_marginEnd=&quot;128dp&quot;</span></span><br><span class="line"><span class="xml">            android:text=&quot;@</span><span class="template-variable">&#123;lastName&#125;</span><span class="xml">&quot;</span></span><br><span class="line"><span class="xml">            android:textAppearance=&quot;@style/TextAppearance.AppCompat.Large&quot;</span></span><br><span class="line"><span class="xml">            app:layout_constraintEnd_toEndOf=&quot;parent&quot;</span></span><br><span class="line"><span class="xml">            app:layout_constraintStart_toStartOf=&quot;parent&quot;</span></span><br><span class="line"><span class="xml">            app:layout_constraintTop_toBottomOf=&quot;@+id/lastname_label&quot;/&gt;</span></span><br><span class="line"><span class="xml">            </span></span><br><span class="line"><span class="xml">       <span class="tag">&lt;/<span class="name">androidx.constraintlayout.widget.ConstraintLayout</span>&gt;</span>    </span></span><br><span class="line"><span class="xml">   <span class="tag">&lt;/<span class="name">layout</span>&gt;</span></span></span><br></pre></td></tr></table></figure>



<ol start="3">
<li>Bind TextView</li>
</ol>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PlainOldActivitySolution2</span> : <span class="type">AppCompatActivity</span></span>() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Obtain ViewModel from ViewModelProviders</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">val</span> viewModel <span class="keyword">by</span> lazy &#123; ViewModelProviders.of(<span class="keyword">this</span>).<span class="keyword">get</span>(SimpleViewModel::<span class="keyword">class</span>.java) &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">override</span> <span class="function"><span class="keyword">fun</span> <span class="title">onCreate</span><span class="params">(savedInstanceState: <span class="type">Bundle</span>?)</span></span> &#123;</span><br><span class="line">        <span class="keyword">super</span>.onCreate(savedInstanceState)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">val</span> binding: PlainActivitySolution2Binding =</span><br><span class="line">            DataBindingUtil.setContentView(<span class="keyword">this</span>, R.layout.plain_activity_solution_2)</span><br><span class="line"></span><br><span class="line">        binding.name = <span class="string">&quot;John&quot;</span></span><br><span class="line">        binding.lastName = <span class="string">&quot;lice&quot;</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> Explicitly setting initial values is a bad pattern. We&#x27;ll fix that later on.</span></span><br><span class="line">        updateLikes()</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h4 id="Dealing-with-user-events-Observering-data"><a href="#Dealing-with-user-events-Observering-data" class="headerlink" title="Dealing with user events  Observering data"></a>Dealing with user events  Observering data</h4><figure class="highlight haskell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="class"><span class="keyword">data</span>&gt;</span></span><br><span class="line">     &lt;variable</span><br><span class="line">             name=<span class="string">&quot;viewmodel&quot;</span></span><br><span class="line">             <span class="class"><span class="keyword">type</span>=&quot;com.example.android.databinding.basicsample.<span class="keyword">data</span>.<span class="type">SimpleViewModel</span>&quot;/&gt;</span></span><br><span class="line"> &lt;/<span class="class"><span class="keyword">data</span>&gt;</span></span><br></pre></td></tr></table></figure>



<figure class="highlight avrasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">android:</span>onClick=<span class="string">&quot;@&#123;() -&gt; viewmodel.onLike()&#125;&quot;</span></span><br><span class="line">   </span><br><span class="line">binding.viewmodel = viewModel</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure>



<figure class="highlight reasonml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">val</span> _likes =  <span class="constructor">MutableLiveData(0)</span></span><br><span class="line"> <span class="keyword">fun</span> on<span class="constructor">Like()</span> &#123;</span><br><span class="line">       <span class="module-access"><span class="module"><span class="identifier">_likes</span>.</span></span>value = (<span class="module-access"><span class="module"><span class="identifier">_likes</span>.</span></span>value ?: <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;TextView</span><br><span class="line">            android:<span class="built_in">id</span>=<span class="string">&quot;@+id/likes&quot;</span></span><br><span class="line">            android:<span class="built_in">text</span>=<span class="string">&quot;@&#123;Integer.toString(viewmodel.likes)&#125;&quot;</span></span><br></pre></td></tr></table></figure>





<h4 id="Using-Binding-Adapters"><a href="#Using-Binding-Adapters" class="headerlink" title="Using Binding Adapters"></a>Using Binding Adapters</h4><ol>
<li>One parameter</li>
</ol>
<figure class="highlight arduino"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@<span class="built_in">BindingAdapter</span>(<span class="string">&quot;android:text&quot;</span>)</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">setText</span><span class="params">(TextView view, CharSequence text)</span> </span>&#123;</span><br><span class="line">      <span class="comment">// Some checks removed for clarity</span></span><br><span class="line"></span><br><span class="line">      view.<span class="built_in">setText</span>(text);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BindingAdapter(<span class="meta-string">&quot;app:hideIfZero&quot;</span>)</span></span><br><span class="line"> <span class="function"><span class="keyword">fun</span> <span class="title">hideIfZero</span><span class="params">(view: <span class="type">View</span>, number: <span class="type">Int</span>)</span></span> &#123;</span><br><span class="line">     view.visibility = <span class="keyword">if</span> (number == <span class="number">0</span>) View.GONE <span class="keyword">else</span> View.VISIBLE</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;ProgressBar</span><br><span class="line">            android:<span class="attribute">id</span>=<span class="string">&quot;@+id/progressBar&quot;</span></span><br><span class="line">            app:<span class="attribute">hideIfZero</span>=<span class="string">&quot;@&#123;viewmodel.likes&#125;&quot;</span></span><br></pre></td></tr></table></figure>



<ol start="2">
<li><p>Create a Binding Adapter with multiple parameters   </p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;ProgressBar</span><br><span class="line">               android:<span class="attribute">id</span>=<span class="string">&quot;@+id/progressBar&quot;</span></span><br><span class="line">               app:<span class="attribute">hideIfZero</span>=<span class="string">&quot;@&#123;viewmodel.likes&#125;&quot;</span></span><br><span class="line">               app:<span class="attribute">progressScaled</span>=<span class="string">&quot;@&#123;viewmodel.likes&#125;&quot;</span></span><br><span class="line">               android:<span class="attribute">max</span>=<span class="string">&quot;@&#123;100&#125;&quot;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="oberver-class-field"><a href="#oberver-class-field" class="headerlink" title="oberver class field"></a>oberver class field</h4><p><a target="_blank" rel="noopener" href="https://developer.android.com/topic/libraries/data-binding/observability#observable_fields">https://developer.android.com/topic/libraries/data-binding/observability#observable_fields</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.android.com/topic/libraries/data-binding/observability#observable_objects">https://developer.android.com/topic/libraries/data-binding/observability#observable_objects</a></p>
<h5 id="Using-Binding-Adapters-to-create-custom-attributes"><a href="#Using-Binding-Adapters-to-create-custom-attributes" class="headerlink" title="Using Binding Adapters to create custom attributes"></a>Using Binding Adapters to create custom attributes</h5><figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BindingAdapter(value=[<span class="meta-string">&quot;app:setSleepData&quot;</span>])</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">setSleepData</span><span class="params">(viewBodySleep: <span class="type">ViewBodySleep</span>, sleepData: <span class="type">String</span>)</span></span> &#123;</span><br><span class="line">    viewBodySleep.setSleepData(sleepData)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;com.android.util.view.ViewBodySleep</span><br><span class="line">    android:<span class="attribute">id</span>=<span class="string">&quot;@+id/view_body_sleep&quot;</span></span><br><span class="line">    android:<span class="attribute">layout_width</span>=<span class="string">&quot;match_parent&quot;</span></span><br><span class="line">    android:<span class="attribute">layout_height</span>=<span class="string">&quot;wrap_content&quot;</span></span><br><span class="line">    android:<span class="attribute">paddingLeft</span>=<span class="string">&quot;55dp&quot;</span></span><br><span class="line">    android:<span class="attribute">paddingRight</span>=<span class="string">&quot;48dp&quot;</span></span><br><span class="line">    app:<span class="attribute">setSleepData</span>=<span class="string">&quot;@&#123;vmBodyFragment.spData&#125;&quot;</span></span><br><span class="line">    app:<span class="attribute">layout_constraintTop_toTopOf</span>=<span class="string">&quot;parent&quot;</span> /&gt;</span><br></pre></td></tr></table></figure>



<p><a target="_blank" rel="noopener" href="https://developer.android.com/topic/libraries/data-binding/expressions#expression_language">https://developer.android.com/topic/libraries/data-binding/expressions#expression_language</a></p>
<p><a target="_blank" rel="noopener" href="https://developer.android.com/topic/libraries/data-binding/observability">Work with observable data objects</a></p>
<ul>
<li><p>isNull</p>
<figure class="highlight vbnet"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">android:</span><span class="keyword">text</span>=<span class="comment">&#x27;@&#123;viewModel.patientInfo.remoteCheckReceiveName??&quot;&quot;&#125;&#x27;</span></span><br></pre></td></tr></table></figure></li>
<li><p>visible</p>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@BindingAdapter(<span class="meta-string">&quot;app:goneUnless&quot;</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">fun</span> <span class="title">goneUnless</span><span class="params">(view: <span class="type">View</span>, visible: <span class="type">Boolean</span>)</span></span> &#123;</span><br><span class="line">    view.visibility = <span class="keyword">if</span> (visible) View.VISIBLE <span class="keyword">else</span> View.GONE</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<p><a target="_blank" rel="noopener" href="https://github.com/googlecodelabs/android-databinding">android-databinding</a></p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s?__biz=MzAwODY4OTk2Mg==&amp;mid=2652046992&amp;idx=1&amp;sn=b8b4c47537be1227eecd01c1eaee2550&amp;chksm=808ca6d5b7fb2fc32d9ec361c91a2958e51a2db1c6b20370e7ef6493bb5cb20314cda6ab059c&amp;scene=38#wechat_redirect">https://mp.weixin.qq.com/s?__biz=MzAwODY4OTk2Mg==&amp;mid=2652046992&amp;idx=1&amp;sn=b8b4c47537be1227eecd01c1eaee2550&amp;chksm=808ca6d5b7fb2fc32d9ec361c91a2958e51a2db1c6b20370e7ef6493bb5cb20314cda6ab059c&amp;scene=38#wechat_redirect</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/5d2be05ff265da1bd605d49a">https://juejin.im/post/5d2be05ff265da1bd605d49a</a></p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/4UP-pDs0FK66g1QUQvRN6A">https://mp.weixin.qq.com/s/4UP-pDs0FK66g1QUQvRN6A</a></p>
<p>定义xml背景</p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/5b95c6a0e51d450e664b0aa0">https://juejin.im/post/5b95c6a0e51d450e664b0aa0</a></p>
<p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/741103ba2ff1">https://www.jianshu.com/p/741103ba2ff1</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cs.usfca.edu/~galles/visualization/RedBlack.html">https://www.cs.usfca.edu/~galles/visualization/RedBlack.html</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/10/index.html">https://noteforme.github.io/page/10/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Java-Queue" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/03/23/Java-Queue/">Android_itnerview2</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-03-23T09:47:11.000Z" itemprop="datePublished">2020年03月23日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/JAVA/">JAVA</a>
  </div>

      
      
<a href="/2020/03/23/Java-Queue/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://blog.csdn.net/bn493235694/article/details/79600634">https://blog.csdn.net/bn493235694/article/details/79600634</a></p>
<p><em>队列是一个先进先出的的数据结构</em></p>
<img src="/2020/03/23/Java-Queue/16d7ddc81e9f954f.jpg" alt="16d7ddc81e9f954f">





<h5 id="Deque"><a href="#Deque" class="headerlink" title="Deque"></a>Deque</h5><p><strong>I need to have a thread-safe LIFO structure</strong></p>
<p>Use LinkedBlockingDeque if at a time you want only single thread can operate your data.</p>
<p>Use ConcurrentLinkedDeque if you want that each thread can access the shared data</p>
<p><a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedDeque.html">https://docs.oracle.com/javase/7/docs/api/java/util/concurrent/ConcurrentLinkedDeque.html</a></p>
<ul>
<li><p>ConcurrentLinkedDeque</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/hello_worldee/article/details/77880532">https://blog.csdn.net/hello_worldee/article/details/77880532</a></p>
</li>
</ul>
<p>Deque : <a target="_blank" rel="noopener" href="https://docs.oracle.com/javase/7/docs/api/java/util/Deque.html">https://docs.oracle.com/javase/7/docs/api/java/util/Deque.html</a></p>
<p><a target="_blank" rel="noopener" href="https://www.liaoxuefeng.com/wiki/1252599548343744/1265122668445536">https://www.liaoxuefeng.com/wiki/1252599548343744/1265122668445536</a></p>
<p><a target="_blank" rel="noopener" href="https://www.geeksforgeeks.org/deque-interface-java-example/">https://www.geeksforgeeks.org/deque-interface-java-example/</a></p>
<ul>
<li>LinkedList 线程安全处理</li>
</ul>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/d380025303/article/details/81010980">https://blog.csdn.net/d380025303/article/details/81010980</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/10/index.html">https://noteforme.github.io/page/10/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-Android_itnerview2" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/03/23/Android_itnerview2/">Java_Queue</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-03-23T09:47:11.000Z" itemprop="datePublished">2020年03月23日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/JAVA/">JAVA</a>
  </div>

      
      
<a href="/2020/03/23/Android_itnerview2/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="爱奇艺"><a href="#爱奇艺" class="headerlink" title="爱奇艺"></a>爱奇艺</h1><ul>
<li>Android消息机制</li>
<li>Android View绘制流程，当一个TextView的实例调用setText()方法后执行了什么</li>
<li>Android dalvik虚拟机和Art虚拟机的优化升级点</li>
<li>Android屏幕渲染机制</li>
<li>热修复的原理，你都了解过哪几种热修复框架</li>
<li>OkHttp的原理</li>
<li>Android 线程池的实现原理</li>
<li>JavaGC机制</li>
<li>HashMap的实现机制，怎么样HashMap线程安全</li>
<li>可重入锁的实现，公平锁非公平锁都是什么定义？</li>
<li>都用过那些常用的数据结构，说说对树的了解？</li>
<li>Activity启动模式，allowReparent的特点和栈亲和性</li>
<li>WebView优化</li>
<li>有没有Jni使用经验</li>
<li>有使用过RxJava吗？</li>
<li>说说你对设计模式的理解，开发过程中主要用到了哪些设计模式？</li>
<li>快排写一下，动态规划了解吗？</li>
</ul>
<h1 id="小米"><a href="#小米" class="headerlink" title="小米"></a>小米</h1><ul>
<li>冒泡排序的链表实现</li>
<li>写个快排</li>
<li>写个单例模式 -Activity启动模式</li>
<li>异常生命周期</li>
<li>从点击应用图标到进入应用，Android系统都做了哪些工作，期间涉及到的进程切换有哪些？</li>
<li>说说你了解的IPC方法</li>
<li>说说Binder的大体实现</li>
<li>怎么控制另外一个进程的View显示</li>
<li>广播中怎么进行网络请求</li>
<li>说说Android中线程池的实现</li>
<li>HashMap如果Hash冲突了怎么解决？</li>
<li>双线程通过线程同步的方式打印12121212…….</li>
</ul>
<h1 id="腾讯"><a href="#腾讯" class="headerlink" title="腾讯"></a>腾讯</h1><ul>
<li>HTTPS是怎么实现的？</li>
<li>Android事件传递流程和OnTouchListener的关系</li>
<li>Activity启动模式</li>
<li>Android线程池实现原理</li>
<li>双指缩放拖动大图</li>
<li>客户端网络安全实现</li>
<li>Webview优化</li>
<li>Android应用保活</li>
<li>RemoteViews实现和使用场景</li>
<li>RecyclerView绘制步骤和复用机制</li>
<li>Binder的大体设计模式</li>
<li>Activity遵循什么设计模式</li>
<li>EventBus源码解析，遵循什么设计模式</li>
<li>Handler为什么会发生内存泄漏</li>
<li>Java内存模块分区和GC机制，GC算法有哪些</li>
<li>Finalize机制</li>
<li>强引用 弱引用 软引用 虚引用的区别和使用场景</li>
<li>LeakCanary的使用和实现原理</li>
<li>介绍一下你在开发过程中使用到的设计模式</li>
<li>快排</li>
<li>对服务器众多错误码的处理（错误码有好几万个）</li>
</ul>
<h1 id="阿里"><a href="#阿里" class="headerlink" title="阿里"></a>阿里</h1><ul>
<li>Android消息机制</li>
<li>Android事件传递流程</li>
<li>Android View绘制流程</li>
<li>Activity启动模式</li>
<li>Android IPC机制</li>
<li>Android线程池设计原理</li>
<li>EventBus源码和设计模式</li>
<li>Android应用保活</li>
<li>Android UI优化</li>
<li>Android启动优化</li>
<li>快排 堆排 单例</li>
<li>进程线程在操作系统中的实现</li>
<li>HTTPS的组成是什么？</li>
<li>ClassLoader的双亲委托</li>
<li>Android中的ClassLoader</li>
<li>有过Jni使用经验吗？</li>
<li>有过跨平台开发经验吗？</li>
</ul>
<h1 id="今日头条"><a href="#今日头条" class="headerlink" title="今日头条"></a>今日头条</h1><ul>
<li>视频加密</li>
<li>Android Native Crash</li>
<li>视频组成</li>
<li>播放器原理</li>
</ul>
<p>作者：Android小崽<br>链接：<a target="_blank" rel="noopener" href="https://www.nowcoder.com/?type=11023_0">https://www.nowcoder.com/?type=11023_0</a><br>来源：牛客网</p>
<h1 id="哈啰安卓一面面经"><a href="#哈啰安卓一面面经" class="headerlink" title="哈啰安卓一面面经"></a>哈啰安卓一面面经</h1><p>问了一个半小时  很多问题没记住  挑几个说一下<br>1、进程通信方式有哪些<br>2、线程通信方式有哪些<br>3、进程线程区别<br>4、JAVAGC如何判断是否回收以及僵尸线程<br>5、AOP了解吗<br>6、为什么安卓用BINDER 有啥优点<br>7、GC回收算法有哪些<br>8、http的流程以及和https的区别<br>9、OSI七层有哪些  TCP UDP在哪些层  交换器路由器在哪些层<br>10、UDP STL  和TCP区别<br>11、对称加密和非对称加密有哪些算法  什么区别<br>12、有哪些数据结构   增删改查的复杂度多少<br>13、算法的五大基本要素有哪些？为什么算法效率不是基本要素？<br>14、算法题  判断二叉树深度</p>
<p>1、Glide<br>2、http和https<br>3、view绘制流程<br>4、TCP/UDP<br>5、Handler和AsyncTask<br>6、TCP\UDP<br>7、MVP<br>8、Retrofit<br>9、AsyncTask  Handler</p>
<p>作者：想去广西嗦粉的小黄鸭在学习腾讯一面 50分钟</p>
<p>1.MVVM与mvc、mvp架构的区别与联系</p>
<p>2.mvvm用到的设计模式</p>
<p>3.viewmodel的实现原理</p>
<p>4.viewmodel怎么更新数据的</p>
<p>5.安卓的线程通信</p>
<p>6.looper阻塞为什么不会造成ANR</p>
<p>7.广播里怎么执行耗时操作</p>
<p>8.阻塞多久会出现ANR</p>
<p>9.开发遇到的一些异常，怎么处理</p>
<p>10.线程安全的队列有哪些</p>
<p>11.concurrenthashmap详解</p>
<p>12.fragment的生命周期</p>
<p>13.安卓里解决多线程冲突的方法</p>
<p>14.volatile详解、synchronized详解，两者区别</p>
<p>15.activity生命周期</p>
<p>16.onStart与onResume解释</p>
<p>17.安卓中进程间通信方式</p>
<p>18.内核态与用户态</p>
<p>21.TCP传输中header里的字段</p>
<p>22.http状态码</p>
<p>23.Java GC机制</p>
<p>24.进程、线程、协程的联系与区别</p>
<p>25.死锁的必要条件</p>
<p>26.银行家算法</p>
<p>27.TCP拥塞控制</p>
<p>28.四次挥手详解</p>
<p>29.TCP与UDP区别</p>
<p>30.TCP怎么保证可靠传输</p>
<p>31.DNS解析过程</p>
<p>32.TCP报文里的字段 </p>
<p>33.算法题：计算二叉树的高度（递归与非递归两种方式）</p>
<h1 id="腾讯二面，35分钟"><a href="#腾讯二面，35分钟" class="headerlink" title="腾讯二面，35分钟"></a>腾讯二面，35分钟</h1><p>1.mvvm，mvp,mvc</p>
<p>2.详细介绍项目</p>
<p>3.网络传输层的协议</p>
<p>4.TCP报头</p>
<p>5.TCP三次握手，为什么三次</p>
<p>6.linux内存管理机制</p>
<p>7.虚拟内存与物理内存</p>
<p>8.常用数据结构</p>
<p>9.堆排序原理</p>
<h1 id="vivo一面-45分钟"><a href="#vivo一面-45分钟" class="headerlink" title="vivo一面 45分钟"></a>vivo一面 45分钟</h1><p>1.面向对象三大特性，多态怎么实现</p>
<p>2.静态方法与变量是否可以继承，原因</p>
<p>3.Java代理是否用过，怎么实现</p>
<p>4.Java异常详解</p>
<p>5.项目中遇到的异常</p>
<p>线程安全的队列</p>
<p>7.类加载的过程</p>
<p>8.类加载器，双亲委派模型</p>
<p>9.对象生命周期</p>
<p>10.判断对象是否可以回收的方法</p>
<p>11.有哪些GC roots</p>
<p>12.Java引用类型</p>
<p>13.抽象类与接口区别，各自优缺点</p>
<p>14.Java线程间通信， volatile详解、synchronized详解</p>
<p>15.线程的状态</p>
<p>16.进程、线程、协程</p>
<p>17.死锁怎么造成的</p>
<p>18.线程池详解</p>
<p>19.线程池怎么做到线程复用</p>
<p>20.thread local详解</p>
<p>21.Java泛型，泛型擦除机制</p>
<p>22.TCP与UDP区别，优缺点</p>
<p>23.TCP可靠传输机制</p>
<p>24.介绍http协议</p>
<p>25.https请求流程</p>
<p>26.b树、b+树、红黑树</p>
<p>27.红黑树怎么增加、删除节点</p>
<p>28.输入一个URL到网页显示的过程</p>
<p>29.localhost 与127.0.0.1的区别</p>
<p>30.MVVM、MVC、MVP的区别与联系，各自优缺点</p>
<p>31.activity的生命周期</p>
<p>32.安卓中的数据存储，sharedpreference详解</p>
<h1 id="字节一面-1小时"><a href="#字节一面-1小时" class="headerlink" title="字节一面 1小时"></a>字节一面 1小时</h1><p>1.进程、线程、协程</p>
<p>2.进程间能共享内存吗</p>
<p>3.安卓中挂起函数怎么实现的</p>
<p>4.安卓中实现多线程的方法</p>
<p>5.线程池详解</p>
<p>6.线程池设计模式，怎么自己设计一个线程池</p>
<p>7.handler详解，是否会内存泄漏，泄露的原理</p>
<p>8.匿名内部类，原理是什么</p>
<p>9.Java GC算法</p>
<p>10.Java引用类型，弱引用的作用，引用队列。</p>
<p>11.安卓图片缓存，加载</p>
<p>12.安卓中的布局，布局优化方法，常用标签</p>
<p>13.安卓四大组件</p>
<p>14.activity四大启动模式</p>
<p>15.onnewintent方法</p>
<p>16.本地广播</p>
<p>17.jetpack组件</p>
<p>18.viewmodel设计模式，mvc,mvp,mvvm介绍</p>
<p>19.retrofit的具体实现，其中接口的作用，注解的作用</p>
<p>20.hashtable,hashmap与 concurrenthashmap详解</p>
<p>21.哈希冲突解决方法，</p>
<p>22.算法题：随机生成不重复的100个数0-99</p>
<h1 id="字节二面，50分钟"><a href="#字节二面，50分钟" class="headerlink" title="字节二面，50分钟"></a>字节二面，50分钟</h1><p>1.https详细介绍</p>
<p>2.get与post区别</p>
<p>3.请求状态码</p>
<p>4.cookie与session</p>
<p>5.Java内部类</p>
<p>6.泛型擦除机制</p>
<p>7.Java内存回收</p>
<p>8.GC roots</p>
<p>9.Java加锁方式</p>
<p>10.线程安全的单例模式（双重检测），为什么要两次判断，volatile作用</p>
<p>11.安卓的事件分发机制</p>
<p>12.算法题：获得二叉树的最大宽度，写出最优解</p>
<h1 id="字节三面，50分钟"><a href="#字节三面，50分钟" class="headerlink" title="字节三面，50分钟"></a>字节三面，50分钟</h1><p>5道代码题</p>
<p>1.写一个泛型方法，实现删除数组中的元素功能</p>
<p>2.写一个单例模式</p>
<p>3.返回二叉树的第k大数</p>
<p>另外两个记不得了，代码写的很差，所以三面卒。。。</p>
<h1 id="顺丰一面，30分钟"><a href="#顺丰一面，30分钟" class="headerlink" title="顺丰一面，30分钟"></a>顺丰一面，30分钟</h1><p>1.面向对象三大特性与面向过程区别</p>
<p>2.怎么判断对象相等，equals详解</p>
<p>3.抽象类与接口区别</p>
<p>4.Java跨平台的原因</p>
<p>5.JVM，GC算法</p>
<p>6.安卓view绘制流程</p>
<p>7.view怎么确认位置与大小，测量模式</p>
<p>8.常用的viewgroup，与view区别，在事件处理过程中有什么区别</p>
<p>9.安卓事件传递机制</p>
<p>10.listview详解，缓存机制与recyclerview区别</p>
<h1 id="顺丰二面，15分钟"><a href="#顺丰二面，15分钟" class="headerlink" title="顺丰二面，15分钟"></a>顺丰二面，15分钟</h1><p>1.项目详细介绍</p>
<p>2.安卓中的listview与recyclerview</p>
<p>3.安卓中的网络请求方式</p>
<p>4.项目中的设计模式</p>
<h1 id="美团一面，1小时"><a href="#美团一面，1小时" class="headerlink" title="美团一面，1小时"></a>美团一面，1小时</h1><p>1.安卓项目介绍</p>
<p>2.mvc,mvp,mvvm架构</p>
<p>3.jetpack组件</p>
<p>4.lifecycle介绍</p>
<p>5.viewmodel实现原理</p>
<p>6.retrofit介绍</p>
<p>7.retrofit怎么实现多线程</p>
<p>8.线程池详解</p>
<p>9.多线程会遇到什么问题</p>
<p>10.死锁的条件，手写一个死锁代码并运行出来</p>
<p>11.怎么避免死锁问题</p>
<p>12.可重入锁</p>
<p>13.安卓怎么进行ui操作</p>
<p>14.安卓点击事件的处理</p>
<p>15.下拉刷新原理</p>
<p>16.安卓存储方式</p>
<p>17.contentprovider介绍，能实现耗时操作吗</p>
<p>18.service介绍，生命周期与 contentprovider区别</p>
<p>19.https请求过程</p>
<p>20.算法题：返回第k大的数，先说下你能想到的方法，再选一个最优方法。</p>
<h1 id="美团二面，50分钟"><a href="#美团二面，50分钟" class="headerlink" title="美团二面，50分钟"></a>美团二面，50分钟</h1><p>1.Java入口函数</p>
<p>2.方法签名</p>
<p>3.方法修饰符</p>
<p>4.static关键字详解，说下自己知道的关键字</p>
<p>5.Java基本类型</p>
<p>6.字符串详解</p>
<p>7.字符串的常用操作</p>
<p>8.Java io</p>
<p>9.Java异常介绍，是否所有异常都需要捕获</p>
<p>10.对Java抽象的理解</p>
<p>11.接口与抽象类区别</p>
<p>12.类编译过程</p>
<p>13.介绍对安卓中intent的理解</p>
<p>14.自定义view过程</p>
<p>15.介绍service</p>
<p>16.service与activity通信</p>
<p>17.输入URL到返回页面的完整过程</p>
<p>18.怎么加速http连接</p>
<p>19.虚拟内存</p>
<p>20.线程并发会遇到哪些问题，怎么解决</p>
<p>21.详细介绍自己的项目，项目可以有哪些改进的地方</p>
<p>22.算法题：二分法查找目标数</p>
<p>作者：Android大牛</p>
<h1 id="小米安卓开发一二面面经一面9-29"><a href="#小米安卓开发一二面面经一面9-29" class="headerlink" title="小米安卓开发一二面面经一面9.29"></a>小米安卓开发一二面面经<strong>一面9.29</strong></h1><p>1、手撕：使用一个固定长度数组实现队列，包括添加和取数据的功能</p>
<p>2、时间复杂度、空间复杂度，如何优化</p>
<p>3、链表如何优化，可以降低查询的时间复杂度？</p>
<p>4、hashmap插入数据的流程？</p>
<p>5、如何计算hashmap数据插入的位置？</p>
<p>6、如何解决哈希冲突？</p>
<p>7、多线程如何解决线程冲突？</p>
<p>8、手撕：手写一个单例模式</p>
<p>9、volatile 和 synchronized 有什么区别？</p>
<p>10、synchronized 和 lock 有什么区别？</p>
<p>11、synchronized 底层是如何实现加锁操作的？</p>
<p>12、对象、锁、对象监视器相互之间的关系？</p>
<p>13、乐观锁如何实现？缺点有哪些？</p>
<p>14、ThreadLocal 是如何存储的？</p>
<p>15、ThreadLocalMap中遇到冲突是如何处理的？</p>
<p>16、框架部分是如何学习的？遇到问题如何解决？</p>
<p>17、如果转安卓开发，将怎样制定学习路线？</p>
<p>18、对小米的了解？（我说我老米粉了，给面试官整笑了）</p>
<p>反问</p>
<p>（面试之前沟通时我说不会安卓，他也就没问我安卓的东西，面试官人还挺好的）</p>
<h1 id="二面9-30"><a href="#二面9-30" class="headerlink" title="二面9.30"></a><strong>二面9.30</strong></h1><p>1、为什么会转码？（…每次面试必问）</p>
<p>2、有一千个键值对的数据，如何设计HashMap的初始容量大小？</p>
<p>3、HashMap的扩容机制是什么样的？</p>
<p>4、ConcurrentHashMap 是如何实现线程安全的？如果让你设计锁的数量你会怎么设计来提高效率？</p>
<p>5、synchronized 底层是如何实现的？</p>
<p>6、ReentrantLock 如何实现公平锁与非公平锁？</p>
<p>7、公平锁与非公平锁的释放有什么区别？</p>
<p>8、线程的 wait 和 block 有什么区别？和 sleep 有什么区别？</p>
<p>9、JVM 中创建一个对象的过程是什么样的？</p>
<p>10、JVM 如何判断一个对象需要被回收?</p>
<p>11、如果电脑内存是4G，已经使用了3G，现在启动一个程序需要超过1G的内存，会发生什么？(内存回收)</p>
<p>12、SpringBoot相比于Spring有什么优势？</p>
<p>13、Spring中控制反转和依赖注入有什么区别和联系？为什么要进行控制反转？有什么好处？</p>
<p>14、单例模式的好处有哪些？应用场景有哪些？</p>
<p>15、三种工厂模式有什么区别？</p>
<p>16、类加载过程是什么样的？</p>
<p>17、双亲委派模型有什么作用？</p>
<p>18、项目中如何设计单点登录？如何实现你这边登陆，另一边强制下线的功能？</p>
<p>19、OSI七层模型介绍一下？应用层有什么协议？</p>
<p>20、三次握手变成两次可不可以？为什么？</p>
<p>21、手撕：二叉搜索树第 k 小的节点</p>
<p>小米面试官感觉都挺好的，不会的问题会进行引导，二面多问些场景题。</p>
<p>作者：CodeWH</p>
<p>2.==和equals的区别</p>
<p>3.重载和重写的区别</p>
<p>4.值传递和引用传递</p>
<p>5.static、final作用</p>
<p>6.所有类的父类</p>
<p>7.this()和super()</p>
<p>8.int和Integer的区别</p>
<p>9.线程池和线程</p>
<p>10.锁了解哪些（说了分布式锁，又问我分布式锁是什么）</p>
<p>11.项目的难点，解决</p>
<p>Java反射原理<br>Java面向对象的理解，封装，继承，多态<br>HashMap底层原理<br>接口和抽象类的区别<br>你是怎么学习的，你的学习能力怎么样<br>Activity的启动模式有哪些<br>多进程通信的方式<br>Android intent如何传递数据<br>Android广播<br>谈谈Android性能优化</p>
<p>https和http的区别<br>三次握手<br>你都用过哪些设计模式？</p>
<p>作者：被光选中的人</p>
<h1 id="字节跳动安卓工程师一、二面社招"><a href="#字节跳动安卓工程师一、二面社招" class="headerlink" title="字节跳动安卓工程师一、二面社招"></a>字节跳动安卓工程师一、二面社招</h1><h2 id="一面-1h"><a href="#一面-1h" class="headerlink" title="一面|1h"></a>一面|1h</h2><p>聊了好久，一面也太正式了，问得较为基础，但是问得真的挺多的，心累。<br>项目介绍</p>
<p>Java四次引用</p>
<p>垃圾回收机制</p>
<p>线程安全的集合有哪些（问得比较细）</p>
<p>进程间通信的方式</p>
<p>HashMap的底层实现</p>
<p>eventbus原理</p>
<p>View的绘制过程</p>
<p>Surfaceview可以在非主线程绘制吗</p>
<p>Glide的缓存机制</p>
<p>内存优化（追着问）</p>
<p>TCP三次握手</p>
<p>算法：合并区间</p>
<p>算法：排序数组</p>
<h2 id="二面-45min"><a href="#二面-45min" class="headerlink" title="二面|45min"></a>二面|45min</h2><p>二面在源码这块真的问得很深，Android部分问得比较多，不能小看啊</p>
<p>Java虚拟机</p>
<p>okhttp的请求机制</p>
<p>RxJava实现原理</p>
<p>handler处理流程，looper和handler是一对一还是一对多，为什么主线程loop不会ANR？</p>
<p>AsyncTask的底层是怎么实现的</p>
<p>消费者与生产者模型</p>
<p>Activity的生命周期，从Activity A启动Activity B生命周期的变化</p>
<p>touch事件的传递机制</p>
<p>TCP与UDP的区别</p>
<p>常用的数据结构</p>
<p>算法：序列化和反序列化二叉搜索树</p>
<p>作者：田鸡不是鸡</p>
<p>对Java面向对象的理解（重点讲三大特性，哪些可以继承下来）<br>你知道Java哪些数据类型呢？<br>接口和抽象类的区别<br>进程间通信的方式<br>线程池参数<br>HashMap的扩容机制，它线程安全吗？<br>ArrayList和LinkedList区别<br>String、StringBuffer、StringBuidler的区别<br>讲讲activity的生命周期<br>Android框架有了解过吗？binder原理<br>安卓是如何进行数据存储的？<br>TCP三次握手，为什么三次？<br>用过哪些设计模式吗？单例模式有哪些实现方法</p>
<h1 id="客户端技术成长路线分享"><a href="#客户端技术成长路线分享" class="headerlink" title="客户端技术成长路线分享"></a>客户端技术成长路线分享</h1><ul>
<li><strong>计算机网络、操作系统、计算机组成原理、数据结构与算法、数据库原理等计算机基础课：</strong>学习这些一方面是为了应付面试，就Android的面试，很多公司爱问http/https，tcp/udp，hashmap，linkedhashmap，用户态/核心态等八股；更重要的是，对Android开发及体系的全面理解，Android应用层建立在linux操作系统上，所以才有Java和C++分别去写应用层代码和系统层代码，而系统层代码会做一些系统调用，这就需要了解一些操作系统。      </li>
<li><strong>Java：</strong>由于笔者之前学习的是Java后端开发，所以Java基础还比较扎实，语言的学习一定是需要不断地实践思考的。在学习Java的同时也需要去搞懂Java中的多线程（包括各种锁和线程管理）、JVM、集合类实现原理，这部分一定需要去慢慢啃原理甚至源码。      </li>
<li><strong>kotlin：</strong>kt目前作为Google主推的Android开发语言，以其空安全、简便性和各种语法糖会更进一步受到Android开发工程师的喜爱，同时支持Java和kt相互调用。同样地，kt的学习也需要不断地去实践，写一些小demo，更重要的是去识别kt与Java之间的区别，以及kt所拥有的新特性（协程、扩展函数、更优秀的函数式编程、一些常用的关键字如by lazy、lateinit、apply、run、with、object等等）。总之，kt学习过程中一定是需要和Java去对比着来的。      </li>
<li><strong>Android基础 推荐Android第一行代码（尽量看最新的版本，用kt写的）</strong></li>
</ul>
<ol>
<li>​    Android四大组件（Activity、Service、ContentProvider、BroadcastReceiver）的使用；      </li>
<li>​    Activity的生命周期，Activity显式跳转和隐式跳转，各种操作的生命周期变化（包括横竖屏切换、Activity间跳转、Activity非正常销毁生命周期变化），Activity的LaunchMode；      </li>
<li>Android动画；</li>
<li>​    Service两种启动方式及生命周期；      </li>
<li>​    网络编程、SqlLite、SharedPreferences；      </li>
<li>​    Fragment管理，与Activity之间的通信；      </li>
<li>​    Intent、Bundle、Parcelable使用；      </li>
<li>​    常见的控件和布局使用，ContraintLayout；      </li>
<li>​    常见的UI框架如ViewPager、ViewPager2、ListView、GridView、RecyclerView的使用，ListView和RecyclerView的缓存机制，RecyclerView的LayoutManager自定义布局，ViewPager2原理。     </li>
</ol>
<ul>
<li><strong>Android进阶 推荐Android系统源代码情景分析</strong></li>
</ul>
<p>​    笔者认为学习Android Framework非常有必要，一方面对于整个Android体系的把握，另一方面做Android Framework可以往智能车载系统开发等方向走。笔者花了1-2个月的时间看了Android系统源代码情景分析，看完以后对我触动很大，也理解了Android体系工作过程，所以笔者还是非常推荐读者有时间的话都学习一下Framework的知识，只要你肯专研，其实也并没有想象中那么难。   </p>
<ol>
<li><p>c++学习，学c++一方面是为了看懂系统源码，特别是binder基本上是用c++写的；另一方面NDK相关开发用的就是c++；</p>
</li>
<li><p>​      Android Framework，包括handler（Android线程间通信、Android应用层心脏）、Binder（Android 进程间通信、Android系统层心脏）、AMS、PMS、WMS工作原理；          </p>
</li>
<li><p>​      Android 启动流程（包括系统开机流程、应用启动），Launcher工作原理，zygote工作原理；</p>
</li>
<li><p>​      自定义View，View绘制（ViewRootImpl中三大绘制整个过程），滑动冲突；          </p>
</li>
<li><p>​      Hook，动态代理；          </p>
</li>
<li><p>​      AIDL使用和原理（其实本质上还是用的Binder），Messager使用和原理；          </p>
</li>
<li><p>​      Android启动优化，Android应用整个启动流程和可以优化的点（1、业务，2、线程处理耗时任务，3、线程池管理，4、界面渲染，5、避免启动卡顿，6、闪屏），还有一些启动优化常用的工具如systrace；          </p>
</li>
<li><p>​      Android卡顿优化，卡顿产生的原因，卡顿的检测；          </p>
</li>
<li><p>​      Android内存优化，内存泄漏产生的原因和检测，内存溢出产生的原因和检测，LeakCanary原理；          </p>
</li>
<li><p>​      构建原理（gradle、groovy），Dalvik虚拟机和dex文件；          </p>
</li>
<li><p>​      ANR原理和解决手段；          </p>
</li>
<li><p>​      开源库使用和源码，okhttp、retrofit、livedata、databinding、rxjava、glide等，glide缓存机制和内存优化；          </p>
</li>
<li><p>​      MVC、MVP、MVVM使用；          </p>
</li>
<li><p>​      Android开发架构，组件化、模块化；          </p>
</li>
<li><p>​      黑科技：插件化、热部署（笔者也还在学）；</p>
</li>
</ol>
<p>作者：_Hawper</p>
<h1 id="欧科云链安卓工程师"><a href="#欧科云链安卓工程师" class="headerlink" title="欧科云链安卓工程师"></a>欧科云链安卓工程师</h1><h2 id="一面"><a href="#一面" class="headerlink" title="一面"></a>一面</h2><p>项目提问（这里就不说了，大家看自己项目就好，项目尽量不要写得模棱两可）</p>
<p>Java基本的数据类型有哪些？</p>
<p>注解的类型有哪些？</p>
<p>sychronized和lock的区别</p>
<p>Java创建线程的方式</p>
<p>JVM的内存模型</p>
<p>自定义view的流程</p>
<p>HashMap的实现原理，和HashTable区别，线程不安全的原因</p>
<p>Activity生命周期，横竖屏切换的 Activity 生命周期变化？</p>
<p>view事件分发机制</p>
<p>https请求到响应的过程（加密过程）</p>
<p>TCP拥塞控制</p>
<p>单例模式的实现方法，如何破坏一个单例模式？</p>
<h2 id="二面"><a href="#二面" class="headerlink" title="二面"></a>二面</h2><p>项目介绍</p>
<p>有用过kotlin，那问这块没问题吧？</p>
<p>Kotlin有没有static 关键字？那创建静态函数怎么办</p>
<p>构造方法有哪些</p>
<p>协程Flow有哪些应用场景？</p>
<p>（问了四五道就没问了，内心OS：要不还是问Java吧）</p>
<p>Handler原理</p>
<p>looper死循环会不会卡死？为什么？</p>
<p>内存泄漏的情况有哪些，讲一种检测方法</p>
<p>okhttp拦截器</p>
<p>Retrofit的调用过程（我给你点提示，你自己思考一下）</p>
<p>mvp是什么？</p>
<p>TCP三次握手，如何保证安全传输的</p>
<p>现在Android岗位真的不多了，各位面试Android的朋友可以抱个团，共享下最新情况，我可以给大家分享一份自己整理的Android面试手册，需要的话可以给到大家，也可以看我专栏哦，都是新鲜面经。</p>
<p>作者：汉尼拔哈哈</p>
<h1 id="海信"><a href="#海信" class="headerlink" title="海信"></a>海信</h1><p>项目介绍（听你讲完项目觉得你Android这块是没啥问题的，还是问了下Android架构和性能优化这块，让我具体谈谈）<br>对Java面向对象思想的理解<br>讲一下Java的基本数据类型（没答全，开头棒喝）<br>深拷贝和浅拷贝分别是什么？<br>Java 容器都有哪些？List、Set和Map的区别知道吗？<br>String 类可以继承吗？为什么？它和StringBuilder、StringBuffer有什么区别？<br>线程的 sleep() 方法和 yield() 方法有什么区别呢？<br>线程不安全的情形有哪些？<br>为什么要使用线程池？<br>GC Root有哪些呢?那你就讲Java垃圾收集机制就行<br>MVC架构是怎样的？<br>https和http的区别，它是如何来保证安全性的？<br>TCP三次握手的步骤？两次握手为什么不行？</p>
<p>作者：汉尼拔哈哈</p>
<h1 id="荣耀Android技术面面经"><a href="#荣耀Android技术面面经" class="headerlink" title="荣耀Android技术面面经"></a>荣耀Android技术面面经</h1><p>荣耀是一个很值得去的地方，我9月初投的简历，国庆上来陆续进行了面试，荣耀是有一轮技术面、一轮综合面以及一轮HR面，我也都感受了一遍，这里重点给大家讲一下技术面的内容，希望能够帮到大家。</p>
<h2 id="技术面丨50min"><a href="#技术面丨50min" class="headerlink" title="技术面丨50min"></a>技术面丨50min</h2><p>自我介绍</p>
<p>项目中遇到的难题 使用了什么技术来解决</p>
<p>Java垃圾回收</p>
<p>HashMap底层原理</p>
<p>哈希表解决冲突的方法</p>
<p>什么是多态，怎么去实现呢</p>
<p>接口和抽象类的区别，它们各自的使用场景呢</p>
<p>安卓的四大组件</p>
<p>Activity回调的方法</p>
<p>你都用过哪些设计模式？</p>
<p>实现多线程的几种方式</p>
<p>用过哪些数据结构</p>
<p>Java面向对象</p>
<p>synchronized</p>
<p>equals和hashCode方法</p>
<p>广播的两种启动方式</p>
<p>三次握手</p>
<p>kotlin有了解过吗（聊了一会）</p>
<p>作者：牛牛！向前冲！<br>链接：<a target="_blank" rel="noopener" href="https://www.nowcoder.com/?type=11023_0">https://www.nowcoder.com/?type=11023_0</a><br>来源：牛客网</p>
<h1 id="小米安卓面经-已offer"><a href="#小米安卓面经-已offer" class="headerlink" title="小米安卓面经(已offer)"></a>小米安卓面经(已offer)</h1><h3 id="9-5-一面-25min"><a href="#9-5-一面-25min" class="headerlink" title="9.5 一面 25min"></a>9.5 一面 25min</h3><ol>
<li>​    <strong>自我介绍</strong>   </li>
<li>​    <strong>写代码带来的快乐</strong>   </li>
<li>​    <strong>设计模式</strong>   </li>
<li>​    <strong>单例模式的好处</strong>   </li>
<li>​    <strong>线程安全</strong>   </li>
<li>​    <strong>形成死锁的条件,破解死锁的方法</strong>   </li>
<li>​    <strong>gc是什么</strong>   </li>
<li>​    <strong>垃圾标记方法(拓展了很多)</strong>   </li>
<li>​    <strong>强引用,弱引用</strong>   </li>
<li>​    <strong>对操作系统的了解</strong>   </li>
</ol>
<h3 id="9-9-二面-40min"><a href="#9-9-二面-40min" class="headerlink" title="9.9 二面  40min"></a>9.9 二面  40min</h3><ol>
<li>​    <strong>自我介绍</strong>   </li>
<li>​    <strong>多线程</strong>   </li>
<li>​    <strong>线程池</strong>   </li>
<li>​    <strong>并行与并发</strong>   </li>
<li>​    <strong>死锁</strong>   </li>
<li>​    <strong>arraylist与linkedlist</strong>   </li>
<li>​    <strong>hashmap</strong>   </li>
<li>​    <strong>hashtable与concurrenthashmap</strong>   </li>
<li>​    <strong>手撕快速排序</strong>   </li>
<li>​    <strong>手撕单例模式</strong>   </li>
<li>​    <strong>内存泄露</strong>   </li>
<li>​    <strong>项目中碰到的异常</strong></li>
</ol>
<p>作者：rsthh<br>链接：<a target="_blank" rel="noopener" href="https://www.nowcoder.com/?type=11023_0">https://www.nowcoder.com/?type=11023_0</a><br>来源：牛客网</p>
<h1 id="蚂蚁金服Android客户端一面面经"><a href="#蚂蚁金服Android客户端一面面经" class="headerlink" title="蚂蚁金服Android客户端一面面经"></a>蚂蚁金服Android客户端一面面经</h1><h2 id="一面-40min"><a href="#一面-40min" class="headerlink" title="一面|40min"></a>一面|40min</h2><p>java四种引用<br>JVM内存区域<br>乐观锁和悲观锁<br>gradle打包流程<br>线程和进程的区别<br>线程池的参数<br>多线程同步问题，怎么保证线程安全？<br>Android签名流程<br>Android的四大组件有哪些？活动的生命周期<br>http的缓存机制<br>tcp滑动窗口，三次握手<br>hashmap的底层结构<br>常用的设计模式，重点问了单例模式的实现<br>对AMS的了解<br>讲一个红黑树和一个排序算法的时间复杂度问题的分析思路</p>
<h2 id="二面-35min"><a href="#二面-35min" class="headerlink" title="二面|35min"></a>二面|35min</h2><p>实习项目和小应用开发过程（扒裤子）<br>HTTPS是怎么保证安全的<br>DNS协议<br>tap和udp的区别<br>对称加密<br>Android签名机制<br>okhttp如何处理网络缓存的</p>
<p>作者：汉尼拔哈哈</p>
<h1 id="OPPO安卓岗一、二面的面经"><a href="#OPPO安卓岗一、二面的面经" class="headerlink" title="OPPO安卓岗一、二面的面经"></a>OPPO安卓岗一、二面的面经</h1><h2 id="一面-35min"><a href="#一面-35min" class="headerlink" title="一面|35min"></a>一面|35min</h2><p>数组和链表的区别</p>
<p>hashmap原理</p>
<p>java中的异常处理与分类</p>
<p>线程池的参数</p>
<p>java垃圾回收机制</p>
<p>GC ROOT包括什么</p>
<p>dns协议</p>
<p>thread</p>
<p>fragment的生命周期</p>
<p>handler的作用</p>
<p>hashmap相关</p>
<p>TCP传输层</p>
<p>https怎么保证他的安全性</p>
<p>http与https的区别</p>
<p>单例模式</p>
<h2 id="二面-45min-1"><a href="#二面-45min-1" class="headerlink" title="二面|45min"></a>二面|45min</h2><p>view绘制流程</p>
<p>双亲委派机制</p>
<p>内存泄漏的原因及方案</p>
<p>try catch finally 中遇到的return问题</p>
<p>讲一下排序算法的思路</p>
<p>作者：统一鲜橙多</p>
<h1 id="商米-安卓开发-一面面经"><a href="#商米-安卓开发-一面面经" class="headerlink" title="商米-安卓开发-一面面经"></a>商米-安卓开发-一面面经</h1><p><strong>技术问题包括数据结构、算法、计算机网络和安卓的知识</strong></p>
<p><strong>数据结构：</strong></p>
<p>数据结构的分类</p>
<p>数组和链表最大的区别</p>
<p>5个元素没有排序，数组和链表查找哪个更快一些？</p>
<p>如果排序了，哪个会快一些？为什么？</p>
<p>hashmap具体是怎么实现的？</p>
<p>hash冲突如何解决？</p>
<p>栈和队列的区别</p>
<p>二叉查找树的概念</p>
<p>树退化成链表如何解决？</p>
<p>B树以及B树可以解决什么问题？</p>
<p>图的遍历以及具体代码如何实现？（迭代）</p>
<p><strong>算法：</strong></p>
<p>时间复杂度和空间复杂度的概念</p>
<p>常见的排序算法以及时间复杂度</p>
<p>链表的反转怎么实现？</p>
<p><strong>安卓：</strong></p>
<p>安卓的四大组件</p>
<p>activity的声明周期</p>
<p>activity的启动模式</p>
<p>事件的触发流程</p>
<p><strong>计算机网络：</strong></p>
<p>5层结构以及相应的作用</p>
<p>传输层的主要协议有哪些</p>
<p>作者：鲸鱼sama<br>链接：<a target="_blank" rel="noopener" href="https://www.nowcoder.com/?type=11023_0">https://www.nowcoder.com/?type=11023_0</a><br>来源：牛客网</p>
<h1 id="商米安卓校招面经分享"><a href="#商米安卓校招面经分享" class="headerlink" title="商米安卓校招面经分享"></a>商米安卓校招面经分享</h1><p>先说结果：技术面挂了，但是感觉收获还是蛮大的。</p>
<p>简历过了，先是笔试关，一共8道题，全是lc上刷到过的原题，毫不犹豫的过了。 </p>
<p>面试一开始，面试官根据简历上的项目经历问问题。</p>
<p>然后问Java语言基础，问到了泛型，有没有自己定义过泛型？（没有）</p>
<p>Java中父类对象能否强制转换为子类对象？（印象中这题并没有刷到过，就回答的没有，面试官再追问 那有没有一种可能，在某种特殊情况下父类对象能强制转换为子类对象？）此时我心里已经发凉了，他这么追问的意思是，肯定能强制转换，只是我不知道，这也不是题库里能见到的题。这题过了。</p>
<p>然后是问c语言基础，宏定义</p>
<p>再就是数据结构和算法，堆排序的实现过程，快速排序的实现过程（快速排序的实现过程用语言给他描述了，然后他再追问细节，第二轮排序的时候，数组是不是要移动？）人麻了，稀里糊涂不知道讲的什么，这题过。</p>
<p>再然后是操作系统和计算机网络。Java多线程。计算机网络的7层模型。线程和进程的区别。线程和函数的关系。创建线程需要什么参数？哪些参数是必要的？如何用函数创建一个线程？</p>
<p>然后，大学成绩怎么样？（绩点3.3）问高数，x立方的导数是多少？（3x方，很简单）如何用微积分计算圆锥体的体积？（具体过程不记得了，毕竟三年没学高数了，答的用极限的思想，把圆锥体抽象成无限个圆柱体，底面积乘高，两层类似f的符号相乘得出圆锥体的体积。）</p>
<p>然后再是概率论，如何计算数学期望？（答，数学期望类似平均值，比如在有10个点的散点图中，数学期望即这10个点的y值相加除以10）</p>
<p>最后是华为经典题，一个桶5L，另一个桶7L，如何得到6L？（答出来了）面试官立马追问，有没有一种数学理论可以给这个问题提供支持来证明，1L，2L，3L，4L，6L是不是都可以得到还是只能得到其中的某几种？（到这里，我是真的麻了，考这种题真的无从准备，面试官是啥问题都能深挖深挖再深挖）（最后一题有知道的同学可以评论区留言）</p>
<p>作者：AlaJackie</p>
<h1 id="2022百度Android面试题汇总-解析思路"><a href="#2022百度Android面试题汇总-解析思路" class="headerlink" title="2022百度Android面试题汇总+解析思路"></a>2022百度Android面试题汇总+解析思路</h1><p>1、 Activity的启动流程</p>
<p>——从Launcher到AMS——从AMS到ApplicationThread——从ApplicationThread到Activity</p>
<p>2、 handler机制的原理</p>
<p>3、 跨进程通信的几种方式</p>
<p>4、 wait 和 sleep 的区别</p>
<p>5、 String,StringBuffer,StringBuilder 的区别</p>
<p>6、 View 和 SurfaceView 的区别</p>
<p>7、 View 的绘制原理</p>
<p>8、 简述 JNI</p>
<p>9、 简述 TCP，UDP，Socket</p>
<p>10、 进程和线程的区别</p>
<p>11、 内存泄露如何查看和解决</p>
<p>12、 View 的分发机制</p>
<p>13、 RecyclerView 和 ListView 的区别</p>
<p>14、 谈 MVC ，MVP，MVVM</p>
<p>15、 Android 性能优化</p>
<p>16、 SharedPreference 跨进程使用会怎么样？如何保证跨进程 使用安全？</p>
<p>17、 activity，fragment 传值问题</p>
<p>18、 activity 与 fragment 区别</p>
<p>19、 Fragment 中 add 与 replace 的区别？</p>
<p>20、 说下 Activity 的四种启动模式、应用场景 ？</p>
<p>——standard标准模式；singleTop 栈顶复用模式；singleTask 栈内复用模式；singleInstance 单实例模式</p>
<p>21、 横竖屏切换的 Activity 生命周期变化？</p>
<p>22、 Android 线程间通信有哪几种方式</p>
<p>——1. 共享内存（变量）；2.文件，数据库；3.Handler；4.Java 里的 wait()，notify()，notifyAll()</p>
<p>23、自定义view的基本流程</p>
<p>24、 tcp和udp区别</p>
<p>25、 微信视频是用了tcp还是udp</p>
<p>26、 udp的优点</p>
<p>27、 http基于tcp还是udp</p>
<p>28、 为什么很多用https而不用http</p>
<p>29、 加密算法有了解吗</p>
<p>30、 什么是对称加密和非对称加密</p>
<p>31、 https的加密是对称的还是非对称的</p>
<p>32、 service在项目中怎么使用？</p>
<p>33、 怎么在子线程中更新UI？</p>
<h1 id="同花顺-安卓-09-23-二面-50min"><a href="#同花顺-安卓-09-23-二面-50min" class="headerlink" title="同花顺 安卓 09.23 二面 50min"></a>同花顺 安卓 09.23 二面 50min</h1><ol>
<li>   自我介绍    </li>
<li>   面向对象和面向过程的区别    </li>
<li>   面向切面编程你知道么，和面向对象的区别和细节    </li>
<li>   有无面向切面编程的案例    </li>
<li>   开闭原则的细节    </li>
<li>   设计模式的其他设计原则    </li>
<li>   synchronized了解么    </li>
<li>   ThreadLocal了解么，他有什么问题    </li>
<li>   快排的思想    </li>
<li>   快排解决topk问题（我哭死啊，我没有想到当前的会使用快排来进行解决topk，我之前都是使用堆排序）    </li>
<li>   快排和堆排来进行解决topk问题    </li>
<li>   自己手上的意向offer有那些    </li>
<li>   地点会考虑哪一些么    </li>
<li>   不知道你最近看过一些B站的虚拟人物么，你觉得当前的技术方面是怎么来进行实现的    </li>
<li>   看过那些书籍    </li>
<li>   假如说你来同花顺，你对团队怎么来看    </li>
<li>   你有那些优势和缺点    </li>
<li>   假如说同花顺给你一笔资金，你会怎么考虑来进行创业    </li>
<li>   反问：1：部门的一些情况；2：使用到的技术栈（安卓）</li>
</ol>
<p>作者：叶子与花(o-ωｑ)).oO困</p>
<h1 id="传音-Android开发-一面-二面"><a href="#传音-Android开发-一面-二面" class="headerlink" title="传音 Android开发 一面+二面"></a>传音 Android开发 一面+二面</h1><p>  09/13 一面 </p>
<p>  volatile 在Java和C++中的区别 </p>
<p>  synchronized 原理 锁的升级 </p>
<p>  JVM内存模型 </p>
<p>  NoSQL与关系型数据库区别 </p>
<p>  垃圾回收算法 </p>
<p>  内存泄露检测方法 </p>
<p>  JVM调优 </p>
<p>  09/19 二面 </p>
<p>  设计模式作用 </p>
<p>  动态代理与静态代理 </p>
<p>  线程与进程的使用场景 </p>
<p>  线程安全与不安全的例子 </p>
<p>  TCP三次握手 </p>
<p>  HTTP3 </p>
<p>  Java内存泄露场景 </p>
<p>  OOM能捕获吗 </p>
<p>  运行时异常与编译时异常 </p>
<p>  安卓相关知识</p>
<p>作者：牛客100861101<br>链接：<a target="_blank" rel="noopener" href="https://www.nowcoder.com/?type=11023_0">https://www.nowcoder.com/?type=11023_0</a><br>来源：牛客网</p>
<h1 id="滴滴安卓客户端一二面面经"><a href="#滴滴安卓客户端一二面面经" class="headerlink" title="滴滴安卓客户端一二面面经"></a>滴滴安卓客户端一二面面经</h1><h3 id="一面-1"><a href="#一面-1" class="headerlink" title="一面"></a>一面</h3><p>（40min）</p>
<p><strong>算法:</strong></p>
<ol>
<li>反转链表 </li>
<li>合并两个排序的链表 </li>
</ol>
<ul>
<li>自我介绍 </li>
<li>安卓学习路线 </li>
<li>http和https的区别 </li>
<li>TCP与UDP区别 </li>
<li>TCP流量控制 </li>
<li>Cookie与Session的作用与原理 </li>
<li>进程和线程的区别 </li>
<li>进程间通信方式 </li>
<li>多线程里的关键字 </li>
<li>synchronized应用场景 </li>
<li>wait() 和 sleep() 的区别 </li>
<li>Java内存回收机制 </li>
<li>垃圾收集器有哪些 </li>
</ul>
<h3 id="二面-1"><a href="#二面-1" class="headerlink" title="二面"></a>二面</h3><p>（30min）</p>
<p><strong>算法:</strong></p>
<ol>
<li>合并两个有序数组 </li>
<li>合并区间 </li>
</ol>
<ul>
<li>自我介绍 </li>
<li>选择这个岗位的原因 </li>
<li>项目盘点 </li>
<li>当系统内存不足时，会存在单个 Activity 直接被系统回收的情况吗？ </li>
<li>安卓中的消息机制是什么样的 </li>
<li>分发给Handler的消息是怎么处理的 </li>
<li>消息机制中，如何更新UI </li>
<li>用过哪些安卓相关的开源框架</li>
</ul>
<p>作者：统一鲜橙多<br>链接：<a target="_blank" rel="noopener" href="https://www.nowcoder.com/?type=11023_0">https://www.nowcoder.com/?type=11023_0</a><br>来源：牛客网</p>
<p>1.介绍RPC，RPC和其他协议HTTP有什么区别，然后扣项目细节。。。（录像都不敢看，不想写了）</p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/10/index.html">https://noteforme.github.io/page/10/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-ActivityRender01" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/03/22/ActivityRender01/">ActivityRender01</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-03-22T14:45:17.000Z" itemprop="datePublished">2020年03月22日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/ANDROID/">ANDROID</a>
  </div>

      
      
<a href="/2020/03/22/ActivityRender01/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><a target="_blank" rel="noopener" href="https://juejin.im/post/5baf275f5188255c9a7740ba">https://juejin.im/post/5baf275f5188255c9a7740ba</a></p>
<p><a target="_blank" rel="noopener" href="https://github.com/SusionSuc/AdvancedAndroid/blob/master/AndroidFramework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%E8%A7%86%E5%9B%BE%E5%B1%82%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/README.md">https://github.com/SusionSuc/AdvancedAndroid/blob/master/AndroidFramework%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/Android%E8%A7%86%E5%9B%BE%E5%B1%82%E6%BA%90%E7%A0%81%E5%88%86%E6%9E%90/README.md</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/luoshengyang/article/details/8170307">https://blog.csdn.net/luoshengyang/article/details/8170307</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/6844904146227691527">https://juejin.im/post/6844904146227691527</a></p>
<p><a target="_blank" rel="noopener" href="https://mp.weixin.qq.com/s/sKJCG1AjhIRRQL9tQTrLZg">https://mp.weixin.qq.com/s/sKJCG1AjhIRRQL9tQTrLZg</a></p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/10/index.html">https://noteforme.github.io/page/10/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Activity/" rel="tag">Activity</a></li></ul>

          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>


  <article id="post-UML" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2020/03/20/UML/">UML</a>
    </h1>
  


      </header>
    
    <div class="article-meta">
      
      <span class="article-date">
  <i class="fa fa-date"></i>
  <time class="dt-published" datetime="2020-03-20T10:00:33.000Z" itemprop="datePublished">2020年03月20日</time>
</span>
      
  <div class="article-category">
    <i class="fa fa-classify"></i>
    <a class="article-category-link" href="/categories/TOOL/">TOOL</a>
  </div>

      
      
<a href="/2020/03/20/UML/#comments" class="article-comment-link">
  
  <i class="fa fa-commt"></i>
  Guestbook
</a>


    </div>
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h4 id="工具"><a href="#工具" class="headerlink" title="工具"></a>工具</h4><p>Android Studio插件</p>
<img src="/2020/03/20/UML/UML.png" style="zoom:50%;">

<pre><code>                                           UML.xmind
</code></pre>
<h4 id="UML标准建模语言中5种主要的类型图"><a href="#UML标准建模语言中5种主要的类型图" class="headerlink" title="UML标准建模语言中5种主要的类型图"></a><strong>UML标准建模语言中5种主要的类型图</strong></h4><p><a target="_blank" rel="noopener" href="https://www.visual-paradigm.com/tw/guide/uml-unified-modeling-language/what-is-uml/">https://www.visual-paradigm.com/tw/guide/uml-unified-modeling-language/what-is-uml/</a></p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/shindo/p/5579191.html">https://www.cnblogs.com/shindo/p/5579191.html</a></p>
<p><a target="_blank" rel="noopener" href="https://juejin.im/post/5e96b1cae51d4546e41beeb3">https://juejin.im/post/5e96b1cae51d4546e41beeb3</a></p>
<h4 id="类图"><a href="#类图" class="headerlink" title="类图"></a>类图</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Integer age;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">getAge</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setAge</span><span class="params">(Integer age)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.age = age;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">getName</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setName</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="依赖关系-dependency"><a href="#依赖关系-dependency" class="headerlink" title="依赖关系-dependency"></a>依赖关系-dependency</h5><ol>
<li>类中用到了对方。</li>
<li>如果是类的成员属性。</li>
<li>如果是方法的返回类型。</li>
<li>是方法接收的参数类型。</li>
<li>方法中使用到。</li>
</ol>
<p><img src="/2020/03/20/UML/dependency.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonServiceBean</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> PersonDao personDao;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(Person person)</span> </span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">modify</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Department department = <span class="keyword">new</span> Department();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PersonDao</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IdCard</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Department</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="泛化关系-generalization"><a href="#泛化关系-generalization" class="headerlink" title="泛化关系-generalization"></a>泛化关系-generalization</h5><p>泛化关系实际上就是继承关系，他是依赖关系的特例。</p>
<p><img src="/2020/03/20/UML/Generalization.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">DataSupport</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">save</span><span class="params">(Object entity)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(Object id)</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonServiceBean</span> <span class="keyword">extends</span> <span class="title">DataSupport</span> </span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="实现关系-realization"><a href="#实现关系-realization" class="headerlink" title="实现关系-realization"></a>实现关系-realization</h5><p>A实现B类，就是依赖关系的特例。</p>
<p><img src="/2020/03/20/UML/Realization.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//A实现B类，就是依赖关系的特例。</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">PersonServiceBean</span> <span class="keyword">implements</span> <span class="title">PersonService</span> </span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(Integer id)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;delte..&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">interface</span>  <span class="title">PersonService</span></span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">delete</span><span class="params">(Integer id)</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<h5 id="关联关系-Association"><a href="#关联关系-Association" class="headerlink" title="关联关系-Association"></a>关联关系-Association</h5><p>关联关系实际上是 类与类之间的联系，他是依赖关系的特例。</p>
<p>关联具有导航性（理解成属性）： 即双向关系或单向关系</p>
<p>关系具有多重性： “1” 有且仅有一个，“0”表示0个或者多个，”n…m”表示n到m个</p>
<p><img src="/2020/03/20/UML/association.png"></p>
<p>单向一对一关系</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Public <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> IDCard card;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IDCard</span></span>&#123;&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<p>双向一对一关系</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">Public <span class="class"><span class="keyword">class</span> <span class="title">Person</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> IDCard card;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">IDCard</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> Person person;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>



<h5 id="聚合关系-Aggregation"><a href="#聚合关系-Aggregation" class="headerlink" title="聚合关系- Aggregation"></a>聚合关系- Aggregation</h5><p>表示整体和部分的关系，整体与部分可以分开。聚合关系是关联关系的特例，所有他具有关联的导航性与多重性。</p>
<p>如:一台电脑由keyboard ,monitor  mouse组成，组成电脑的各个配件是可以从电脑上分离处理的，使用带空心菱形的实线表示。</p>
<p><img src="/2020/03/20/UML/aggregation.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Computer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Moniter moniter; <span class="comment">//moniter可以和computer分离</span></span><br><span class="line">    <span class="keyword">private</span> Mouse mouse;<span class="comment">//mouse可以和computer分离</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mouse</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Moniter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p>下面是组合关系</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// computer对象创建moniter,mouse创建， computer销毁也跟着销毁。</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Computer</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> Moniter moniter = <span class="keyword">new</span> Moniter(); <span class="comment">//moniter可以和computer不能分离</span></span><br><span class="line">    <span class="keyword">private</span> Mouse mouse = <span class="keyword">new</span> Mouse();<span class="comment">//mouse可以和computer不能分离</span></span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mouse</span> </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Moniter</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h5 id="组合关系-Composition"><a href="#组合关系-Composition" class="headerlink" title="组合关系-Composition"></a>组合关系-Composition</h5><p>也是整体与部分的关系，整体与部分不可以分开。</p>
<p>Person与IDCard Head，Head与Person就是组合关系，IDCard与Person就是聚合关系。</p>
<p>但是如果在程序中Person实体中定义了对 IDCard进行 <strong>级联删除</strong>，即删除Person时连同IDCard一起删除，那么IDCard和Person就是组合了。</p>
<p><img src="/2020/03/20/UML/composition.png"></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Person</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> IDCard card;</span><br><span class="line">    <span class="keyword">private</span> Head head = <span class="keyword">new</span> Head();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">IDCard</span></span>&#123;&#125;</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Head</span></span>&#123;&#125;</span><br></pre></td></tr></table></figure>





<p><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1W4411c77E?p=28&amp;spm_id_from=pageDriver">https://www.bilibili.com/video/BV1W4411c77E?p=28&amp;spm_id_from=pageDriver</a></p>
<h4 id="drawio部署"><a href="#drawio部署" class="headerlink" title="drawio部署"></a>drawio部署</h4><p>​    <a target="_blank" rel="noopener" href="https://zhangzw.com/posts/20200107.html">https://zhangzw.com/posts/20200107.html</a></p>
<ol>
<li><p><a target="_blank" rel="noopener" href="https://tomcat.apache.org/download-80.cgi">tomacat</a> 下载,下载 Core下的文件,解压</p>
</li>
<li><p><a target="_blank" rel="noopener" href="https://github.com/jgraph/drawio/releases">Draw</a>下载，解压放到/apache-tomcat-8.5.65/webapps</p>
</li>
<li><p>启动<code>tomcat chomd +x ./startup.sh  ,</code></p>
<p><code> sudo ./statup.sh</code></p>
</li>
</ol>
<h4 id="PlantUml"><a href="#PlantUml" class="headerlink" title="PlantUml"></a>PlantUml</h4><p><a target="_blank" rel="noopener" href="https://plantuml.com/zh/">https://plantuml.com/zh/</a></p>
<p><a target="_blank" rel="noopener" href="https://tngdigital.yuque.com/tngd-mobile/key-battle/xccdfz">https://tngdigital.yuque.com/tngd-mobile/key-battle/xccdfz</a></p>
<p>时序图都是plantuml,点编辑才能看到code</p>

        
        
          <blockquote id="copyright">
              <p>Original link: <a href="https://noteforme.github.io/page/10/index.html">https://noteforme.github.io/page/10/index.html</a></p>
              <p>Copyright Notice: 转载请注明出处.</p>
          </blockquote>
        
      
    </div>
    <footer class="article-footer">
      
        <div class="article-tag-wrap">
          

          
          
    <div class="social-share">
      <span>Share:</span>
    </div>



        </div>
      
      
      
    </footer>
  </div>
</article>



    <nav id="page-nav">

<a class="extend prev" rel="prev" href="/page/9/">Previous</a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/8/">8</a><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><a class="page-number" href="/page/12/">12</a><span class="space">&hellip;</span><a class="page-number" href="/page/22/">22</a><a class="extend next" rel="next" href="/page/11/">Next</a>
</nav>


</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-posts"></i> Recent</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2023/09/04/Android_interview%20organize/">Android_itnerview_organize</a>
          </li>
        
          <li>
            <a href="/2023/09/03/Android-itnerview-algorithm/">Android_itnerview_algorithm</a>
          </li>
        
          <li>
            <a href="/2023/08/20/compose-layout/">compose_layout</a>
          </li>
        
          <li>
            <a href="/2023/08/19/compose/">compose</a>
          </li>
        
          <li>
            <a href="/2023/08/09/LC-DP-BAG/">LC_DP_BAG</a>
          </li>
        
      </ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-tag"></i> Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/ANDROID/" style="font-size: 13.33px;">ANDROID</a> <a href="/tags/AOSP/" style="font-size: 16.67px;">AOSP</a> <a href="/tags/Activity/" style="font-size: 10px;">Activity</a> <a href="/tags/AndroidNewFeatures/" style="font-size: 10px;">AndroidNewFeatures</a> <a href="/tags/Assembly/" style="font-size: 10px;">Assembly</a> <a href="/tags/BLOG/" style="font-size: 10px;">BLOG</a> <a href="/tags/ConstraintLayout/" style="font-size: 10px;">ConstraintLayout</a> <a href="/tags/DB/" style="font-size: 11.67px;">DB</a> <a href="/tags/Drawer/" style="font-size: 10px;">Drawer</a> <a href="/tags/Fragment/" style="font-size: 11.67px;">Fragment</a> <a href="/tags/Git/" style="font-size: 11.67px;">Git</a> <a href="/tags/JVM/" style="font-size: 18.33px;">JVM</a> <a href="/tags/LEETCODE/" style="font-size: 20px;">LEETCODE</a> <a href="/tags/Operators/" style="font-size: 10px;">Operators</a> <a href="/tags/Performance/" style="font-size: 15px;">Performance</a> <a href="/tags/RecyclerView/" style="font-size: 11.67px;">RecyclerView</a> <a href="/tags/RxJava/" style="font-size: 15px;">RxJava</a> <a href="/tags/THINK/" style="font-size: 10px;">THINK</a> <a href="/tags/TOOL/" style="font-size: 11.67px;">TOOL</a> <a href="/tags/TabLayout/" style="font-size: 10px;">TabLayout</a> <a href="/tags/Test/" style="font-size: 15px;">Test</a> <a href="/tags/TouchEvent/" style="font-size: 13.33px;">TouchEvent</a> <a href="/tags/VIEW/" style="font-size: 11.67px;">VIEW</a> <a href="/tags/XML/" style="font-size: 10px;">XML</a> <a href="/tags/anim/" style="font-size: 10px;">anim</a> <a href="/tags/compose/" style="font-size: 11.67px;">compose</a> <a href="/tags/concurrency/" style="font-size: 15px;">concurrency</a> <a href="/tags/coroutie/" style="font-size: 16.67px;">coroutie</a> <a href="/tags/inter/" style="font-size: 18.33px;">inter</a> <a href="/tags/keyboard/" style="font-size: 10px;">keyboard</a> <a href="/tags/proguard/" style="font-size: 10px;">proguard</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-classify"></i> Categories</h3>
    <div class="widget">
      <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/ANDROID/">ANDROID</a><span class="category-list-count">59</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/BLE/">BLE</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DataStructure/">DataStructure</a><span class="category-list-count">16</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/DesignPatterns/">DesignPatterns</a><span class="category-list-count">9</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/ENGLISH/">ENGLISH</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/JAVA/">JAVA</a><span class="category-list-count">27</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Jetpack/">Jetpack</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Kotlin/">Kotlin</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/LINUX/">LINUX</a><span class="category-list-count">5</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Mathematics/">Mathematics</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/OS/">OS</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/Organization/">Organization</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/SOURCE/">SOURCE</a><span class="category-list-count">1</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TEST/">TEST</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/TOOL/">TOOL</a><span class="category-list-count">11</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/VIEW/">VIEW</a><span class="category-list-count">12</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/anim/">anim</a><span class="category-list-count">4</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/flutter/">flutter</a><span class="category-list-count">5</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-archive"></i> Archive</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/">2023年09月</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/">2022年12月</a><span class="archive-list-count">33</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/">2021年12月</a><span class="archive-list-count">23</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/">2020年12月</a><span class="archive-list-count">46</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/">2019年12月</a><span class="archive-list-count">21</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/">2018年11月</a><span class="archive-list-count">32</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/">2017年12月</a><span class="archive-list-count">57</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-tag"></i> Tags</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ANDROID/" rel="tag">ANDROID</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AOSP/" rel="tag">AOSP</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Activity/" rel="tag">Activity</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/AndroidNewFeatures/" rel="tag">AndroidNewFeatures</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Assembly/" rel="tag">Assembly</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BLOG/" rel="tag">BLOG</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ConstraintLayout/" rel="tag">ConstraintLayout</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DB/" rel="tag">DB</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Drawer/" rel="tag">Drawer</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Fragment/" rel="tag">Fragment</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Git/" rel="tag">Git</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/JVM/" rel="tag">JVM</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LEETCODE/" rel="tag">LEETCODE</a><span class="tag-list-count">11</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Operators/" rel="tag">Operators</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Performance/" rel="tag">Performance</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RecyclerView/" rel="tag">RecyclerView</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RxJava/" rel="tag">RxJava</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/THINK/" rel="tag">THINK</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TOOL/" rel="tag">TOOL</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TabLayout/" rel="tag">TabLayout</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Test/" rel="tag">Test</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/TouchEvent/" rel="tag">TouchEvent</a><span class="tag-list-count">3</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/VIEW/" rel="tag">VIEW</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/XML/" rel="tag">XML</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/anim/" rel="tag">anim</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/compose/" rel="tag">compose</a><span class="tag-list-count">2</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/concurrency/" rel="tag">concurrency</a><span class="tag-list-count">4</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/coroutie/" rel="tag">coroutie</a><span class="tag-list-count">7</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/inter/" rel="tag">inter</a><span class="tag-list-count">8</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/keyboard/" rel="tag">keyboard</a><span class="tag-list-count">1</span></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/proguard/" rel="tag">proguard</a><span class="tag-list-count">1</span></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title"><i class="fa fa-link"></i> Blogroll</h3>
    <div class="widget">
      <ul>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example1.com/">site-name1</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example2.com/">site-name2</a>
        </li>
      
        <li>
          <a target="_blank" rel="noopener" href="http://www.example3.com/">site-name3</a>
        </li>
      
      </ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <a id="totop" href="#top"></a>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      <p>
        <a href="/sitemap.xml">Site Map</a>
        <span> | </span><a href="/atom.xml">Subscribe to this site</a>
        <span> | </span><a href="/about/">Contact the blogger</a>
      </p>
      
        <p>
          <i class="fa fa-visitors"></i>
          <i id="busuanzi_container_site_uv"><i id="busuanzi_value_site_uv"></i></i>
          ，
          <i class="fa fa-views"></i>
          <i id="busuanzi_container_site_pv"><i id="busuanzi_value_site_pv"></i></i>
        </p>
      
      <p>
        <span>Copyright &copy; 2023 Jon.</span>
        <span>Theme by <a href="https://github.com/chaooo/hexo-theme-BlueLake/" target="_blank">BlueLake.</a></span>
        
            <span>Count by <a href="http://busuanzi.ibruce.info/" target="_blank">busuanzi.</a></span>
        
        <span>Powered by <a href="https://hexo.io/" target="_blank">Hexo.</a></span>
      </p>
    </div>
  </div>
</footer>

    </div>
    
<script src="/js/jquery-3.4.1.min.js"></script>


<script src="/js/search.json.js"></script>


  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>






  
<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>



  
<script src="/localshare/js/social-share.js"></script>

  
<script src="/localshare/js/qrcode.js"></script>




















  </div>
</body>
</html>