<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  <meta http-equiv="pragma" content="no-cache">
  <meta http-equiv="cache-control" content="no-cache">
  <meta http-equiv="expires" content="0">
  
  <title>AnimationView | Jon&#39;s Blog</title>
  <meta name="author" content="Jon">
  
  <meta name="description" content="View Animation第一种就pass了，看下View Animation:

You can use the view animation system to perform tweened animation on Views. Tween animation calculates the">
  
  
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

  <meta property="og:title" content="AnimationView"/>
  <meta property="og:site_name" content="Jon&#39;s Blog"/>

  
    <meta property="og:image" content=""/>
  

  
    <link rel="alternative" href="/atom.xml" title="Jon&#39;s Blog" type="application/atom+xml">
  
  
    <link href="/favicon.png" rel="icon">
  
  
  <link rel="stylesheet" href="/css/bootstrap.min.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/font-awesome.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/responsive.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/highlight.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/prism.css" media="screen" type="text/css">
  <link rel="stylesheet" href="/css/google-fonts.css" media="screen" type="text/css">
  <!--[if lt IE 9]><script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

  <script src="/js/jquery-2.0.3.min.js"></script>

  <!-- analytics -->
  
  <!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-70812759-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-70812759-1');
</script>






<meta name="generator" content="Hexo 6.3.0"></head>

 <body>  
  <nav id="main-nav" class="navbar navbar-inverse navbar-fixed-top" role="navigation">
    <div class="container">
      <button type="button" class="navbar-header navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
		<span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
	  <a class="navbar-brand" href="/">Jon&#39;s Blog</a>
      <div class="collapse navbar-collapse nav-menu">
		<ul class="nav navbar-nav">
		  
		  <li>
			<a href="/archives" title="All the articles.">
			  <i class=""></i>Archives
			</a>
		  </li>
		  
		  <li>
			<a href="/categories" title="All the categories.">
			  <i class=""></i>Categories
			</a>
		  </li>
		  
		  <li>
			<a href="/tags" title="All the tags.">
			  <i class=""></i>Tags
			</a>
		  </li>
		  
		  <li>
			<a href="/about" title="About me.">
			  <i class=""></i>About
			</a>
		  </li>
		  
		  <li>
			<a href="/atom.xml" title="Subscribe me.">
			  <i class=""></i>RSS
			</a>
		  </li>
		  
		</ul>
      </div>
    </div> <!-- container -->
</nav>
<div class="clearfix"></div>

  <div class="container">
  	<div class="content">
    	 


	
		<div class="page-header">
			<h1> AnimationView</h1>
		</div>
	



<div class="row post">
	<!-- cols -->
	
	<div id="top_meta"></div>
	<div class="col-md-9">
	

	<!-- content -->
	<div class="mypage">		
	  		

	  <h5 id="View-Animation"><a href="#View-Animation" class="headerlink" title="View Animation"></a>View Animation</h5><p>第一种就pass了，看下View Animation:</p>
<blockquote>
<p>You can use the view animation system to perform tweened animation on Views. Tween animation calculates the animation with information such as the start point, end point, size, rotation, and other common aspects of an animation.</p>
</blockquote>
<p>这种动画可以在一个视图容器执行　位置、大小、旋转、透明度的变化，使用XML定义更具可读性</p>
<blockquote>
<p>-set<br>|-android:interpolator -&gt; 插值器，影响动画的速度<br> |-默认值 -&gt; @android:anim/accelerate_decelerate_interpolator<br>|-android:shareInterpolator -&gt; 集合所有动画是否使用同一插值器<br>|-android:fillAfter -&gt; 动画结束后View是否停留在结束的位置<br>|-android:startOffset -&gt; 动画多少秒之后执行<br>|-android:repeatMode -&gt; 重复的模式,默认为restart,即重头开始重新运行,reverse即从结束开始向前重新运行<br>-TranslateAnimation -&gt; 移动View<br>|-<translate><br> |-android:fillAfter -&gt;<br> |-android:duration -&gt; 表示动画持续的时间<br> |-android:fromXDelta -&gt; 表示 x 的起始值<br> |-android:toXDelta -&gt; 表示 x 的结束值<br> |-android:fromYDelta -&gt; 表示 y 的起始值<br> |-android:toYDelta -&gt; 表示 y 的结束值<br>-scaleAnimation -&gt; 放大或者缩小View<br>|-<scale><br> |-android:duration -&gt; 表示动画持续的时间<br> |-android:fromXScale -&gt; 表示水平方向缩放的起始值<br> |-android:fromYScale -&gt; 表示竖直方向缩放的起始值<br> |-android:pivotX -&gt; 表示缩放中心点的 X 坐标<br> |-android:pivotY -&gt; 表示缩放中心点的 Y 坐标<br> |-android:toXScale -&gt; 表示水平方向缩放的结束值<br> |-android:toYScale -&gt; 表示竖直方向缩放的结束值<br>-RotateAnimation -&gt; 旋转View<br>|-<rotate><br> |-android:duration -&gt; 表示动画持续的时间<br> |-android:fromDegrees -&gt; 旋转开始的角度<br> |-android:toDegrees -&gt; 旋转结束的角度<br> |-android:pivotX -&gt; 旋转中心点的 X 坐标<br> |-android:pivotY -&gt; 旋转中心点的 Y 坐标<br>-AlphaAnimation -&gt; 改变View的透明度<br>|-<alpha><br> |-android:duration -&gt; 表示动画持续的时间<br> |-android:fromAlpha -&gt; 透明度的起始值<br> |-android:toAlpha -&gt; 透明度的结束值<br>-自定义View动画 -&gt; (不会,待实践中学习)    </alpha></rotate></scale></translate></p>
</blockquote>
<figure class="highlight kotlin"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="function"><span class="keyword">fun</span>  <span class="title">anim</span><span class="params">(resAnim:<span class="type">Int</span>)</span></span>&#123;</span><br><span class="line">    <span class="keyword">val</span> translateAnimation = AnimationUtils.loadAnimation(<span class="keyword">this</span>,resAnim)</span><br><span class="line">    textView5.startAnimation(translateAnimation)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<ol>
<li><p>view_anim_translate.xml</p>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 以下参数是4种动画效果的公共属性,即都有的属性</span></span><br><span class="line"><span class="symbol"> android:</span>duration=<span class="string">&quot;3000&quot;</span> <span class="comment">// 动画持续时间（ms），必须设置，动画才有效果</span></span><br><span class="line"><span class="symbol"> android:</span>startOffset =<span class="string">&quot;1000&quot;</span> <span class="comment">// 动画延迟开始时间（ms）</span></span><br><span class="line"><span class="symbol"> android:</span>fillBefore = “true” <span class="comment">// 动画播放完后，视图是否会停留在动画开始的状态，默认为true</span></span><br><span class="line"><span class="symbol"> android:</span>fillAfter = “false” <span class="comment">// 动画播放完后，视图是否会停留在动画结束的状态，优先于fillBefore值，默认为false</span></span><br><span class="line"><span class="symbol"> android:</span>fillEnabled= “true” <span class="comment">// 是否应用fillBefore值，对fillAfter值无影响，默认为true</span></span><br><span class="line"><span class="symbol"> android:</span>repeatMode= “restart” <span class="comment">// 选择重复播放动画模式，restart代表正序重放，reverse代表倒序回放，默认为restart|</span></span><br><span class="line"><span class="symbol"> android:</span>repeatCount = “<span class="number">0</span>” <span class="comment">// 重放次数（所以动画的播放次数=重放次数+1），为infinite时无限重复</span></span><br><span class="line"><span class="symbol"> android:</span>interpolator = @[package:]anim/interpolator_resource <span class="comment">// 插值器，即影响动画的播放速度,下面会详细讲</span></span><br><span class="line">   </span><br><span class="line"> <span class="comment">// 以下参数是平移动画特有的属性</span></span><br><span class="line"><span class="symbol"> android:</span>fromXDelta=<span class="string">&quot;0&quot;</span> <span class="comment">// 视图在水平方向x 移动的起始值</span></span><br><span class="line"><span class="symbol"> android:</span>toXDelta=<span class="string">&quot;500&quot;</span> <span class="comment">// 视图在水平方向x 移动的结束值</span></span><br><span class="line">   </span><br><span class="line"><span class="symbol"> android:</span>fromYDelta=<span class="string">&quot;0&quot;</span> <span class="comment">// 视图在竖直方向y 移动的起始值</span></span><br><span class="line"><span class="symbol"> android:</span>toYDelta=<span class="string">&quot;500&quot;</span> <span class="comment">// 视图在竖直方向y 移动的结束值</span></span><br></pre></td></tr></table></figure></li>
<li><p>View_anim_translate.xml</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--  <span class="string">//</span> 以下参数是4种动画效果的公共属性,即都有的属性</span><br><span class="line">  android<span class="function">:duration</span>=<span class="string">&quot;3000&quot;</span> <span class="string">//</span> 动画持续时间（ms），必须设置，动画才有效果</span><br><span class="line">  android<span class="function">:startOffset</span> =<span class="string">&quot;1000&quot;</span> <span class="string">//</span> 动画延迟开始时间（ms）</span><br><span class="line">  android<span class="function">:fillBefore</span> = “<span class="literal">true</span>” <span class="string">//</span> 动画播放完后，视图是否会停留在动画开始的状态，默认为<span class="literal">true</span></span><br><span class="line">  android<span class="function">:fillAfter</span> = “<span class="literal">false</span>” <span class="string">//</span> 动画播放完后，视图是否会停留在动画结束的状态，优先于fillBefore值，默认为<span class="literal">false</span></span><br><span class="line">  android<span class="function">:fillEnabled</span>= “<span class="literal">true</span>” <span class="string">//</span> 是否应用fillBefore值，对fillAfter值无影响，默认为<span class="literal">true</span></span><br><span class="line">  android<span class="function">:repeatMode</span>= “restart” <span class="string">//</span> 选择重复播放动画模式，restart代表正序重放，reverse代表倒序回放，默认为restart|</span><br><span class="line">  android<span class="function">:repeatCount</span> = “0” <span class="string">//</span> 重放次数（所以动画的播放次数=重放次数+1），为infinite时无限重复</span><br><span class="line">  android<span class="function">:interpolator</span> = @[package:]anim/interpolator_resource <span class="string">//</span> 插值器，即影响动画的播放速度,下面会详细讲</span><br><span class="line"></span><br><span class="line">  <span class="string">//</span> 以下参数是缩放动画特有的属性</span><br><span class="line">  android<span class="function">:fromXScale</span>=<span class="string">&quot;0.0&quot;</span></span><br><span class="line">  <span class="string">//</span> 动画在水平方向X的起始缩放倍数</span><br><span class="line">  <span class="string">//</span> 0.0表示收缩到没有；1.0表示正常无伸缩</span><br><span class="line">  <span class="string">//</span> 值小于1.0表示收缩；值大于1.0表示放大</span><br><span class="line"></span><br><span class="line">  android<span class="function">:toXScale</span>=<span class="string">&quot;2&quot;</span>  <span class="string">//</span>动画在水平方向X的结束缩放倍数</span><br><span class="line"></span><br><span class="line">  android<span class="function">:fromYScale</span>=<span class="string">&quot;0.0&quot;</span> <span class="string">//</span>动画开始前在竖直方向Y的起始缩放倍数</span><br><span class="line">  android<span class="function">:toYScale</span>=<span class="string">&quot;2&quot;</span> <span class="string">//</span>动画在竖直方向Y的结束缩放倍数</span><br><span class="line"></span><br><span class="line">  android<span class="function">:pivotX</span>=<span class="string">&quot;50%&quot;</span> <span class="string">//</span> 缩放轴点的x坐标</span><br><span class="line">  android<span class="function">:pivotY</span>=<span class="string">&quot;50%&quot;</span> <span class="string">//</span> 缩放轴点的y坐标</span><br><span class="line">  <span class="string">//</span> 轴点 = 视图缩放的中心点</span><br><span class="line"></span><br><span class="line">  <span class="string">//</span> pivotX pivotY,可取值为数字，百分比，或者百分比p</span><br><span class="line">  <span class="string">//</span> 设置为数字时（如50），轴点为View的左上角的原点在x方向和y方向加上50px的点。在Java代码里面设置这个参数的对应参数是Animation.ABSOLUTE。</span><br><span class="line">  <span class="string">//</span> 设置为百分比时（如50%），轴点为View的左上角的原点在x方向加上自身宽度50%和y方向自身高度50%的点。在Java代码里面设置这个参数的对应参数是Animation.RELATIVE_TO_SELF。</span><br><span class="line">  <span class="string">//</span> 设置为百分比p时（如50%p），轴点为View的左上角的原点在x方向加上父控件宽度50%和y方向父控件高度50%的点。在Java代码里面设置这个参数的对应参数是Animation.RELATIVE_TO_PARENT</span><br><span class="line"></span><br><span class="line">  <span class="string">//</span> 两个50%表示动画从自身中间开始，具体如下图</span><br></pre></td></tr></table></figure>

<p> android:pivotX=”50%” // 缩放轴点的x坐标<br>  android:pivotY=”50%” // 缩放轴点的y坐标</p>
<p>这个拿掉看看效果</p>
<img src="/2019/12/26/AnimationView/view.gif" alt="view" style="zoom:20%;">



<p>添加　</p>
<p>pivotX pivotY</p>
<img src="/2019/12/26/AnimationView/anim_view_scale1.gif" style="zoom: 20%;"></li>
<li><p>Rotate</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="regexp">//</span> 以下参数是旋转动画特有的属性</span><br><span class="line">  android:duration=<span class="string">&quot;1000&quot;</span></span><br><span class="line">  android:fromDegrees=<span class="string">&quot;0&quot;</span> <span class="regexp">//</span> 动画开始时 视图的旋转角度(正数 = 顺时针，负数 = 逆时针)</span><br><span class="line">  android:toDegrees=<span class="string">&quot;270&quot;</span> <span class="regexp">//</span> 动画结束时 视图的旋转角度(正数 = 顺时针，负数 = 逆时针)</span><br><span class="line">  android:pivotX=<span class="string">&quot;50%&quot;</span> <span class="regexp">//</span> 旋转轴点的x坐标</span><br><span class="line">  android:pivotY=<span class="string">&quot;0&quot;</span> <span class="regexp">//</span> 旋转轴点的y坐标</span><br><span class="line">  <span class="regexp">//</span> 轴点 = 视图缩放的中心点</span><br><span class="line">   </span><br><span class="line">  <span class="regexp">//</span> pivotX pivotY,可取值为数字，百分比，或者百分比p</span><br><span class="line">  <span class="regexp">//</span> 设置为数字时（如<span class="number">50</span>），轴点为View的左上角的原点在x方向和y方向加上<span class="number">50</span>px的点。在Java代码里面设置这个参数的对应参数是Animation.ABSOLUTE。</span><br><span class="line">  <span class="regexp">//</span> 设置为百分比时（如<span class="number">50</span>%），轴点为View的左上角的原点在x方向加上自身宽度<span class="number">50</span>%和y方向自身高度<span class="number">50</span>%的点。在Java代码里面设置这个参数的对应参数是Animation.RELATIVE_TO_SELF。</span><br><span class="line">  <span class="regexp">//</span> 设置为百分比p时（如<span class="number">50</span>%p），轴点为View的左上角的原点在x方向加上父控件宽度<span class="number">50</span>%和y方向父控件高度<span class="number">50</span>%的点。在Java代码里面设置这个参数的对应参数是Animation.RELATIVE_TO_PARENT</span><br><span class="line">  <span class="regexp">//</span> 两个<span class="number">50</span>%表示动画从自身中间开始，具体如下图</span><br></pre></td></tr></table></figure>

<ol start="4">
<li>alpha</li>
</ol>
<figure class="highlight dts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 以下参数是4种动画效果的公共属性,即都有的属性</span></span><br><span class="line"><span class="symbol">android:</span>duration=<span class="string">&quot;3000&quot;</span> <span class="comment">// 动画持续时间（ms），必须设置，动画才有效果</span></span><br><span class="line"><span class="symbol">android:</span>startOffset =<span class="string">&quot;1000&quot;</span> <span class="comment">// 动画延迟开始时间（ms）</span></span><br><span class="line"><span class="symbol">android:</span>fillBefore = “true” <span class="comment">// 动画播放完后，视图是否会停留在动画开始的状态，默认为true</span></span><br><span class="line"><span class="symbol">android:</span>fillAfter = “false” <span class="comment">// 动画播放完后，视图是否会停留在动画结束的状态，优先于fillBefore值，默认为false</span></span><br><span class="line"><span class="symbol">android:</span>fillEnabled= “true” <span class="comment">// 是否应用fillBefore值，对fillAfter值无影响，默认为true</span></span><br><span class="line"><span class="symbol">android:</span>repeatMode= “restart” <span class="comment">// 选择重复播放动画模式，restart代表正序重放，reverse代表倒序回放，默认为restart|</span></span><br><span class="line"><span class="symbol">android:</span>repeatCount = “<span class="number">0</span>” <span class="comment">// 重放次数（所以动画的播放次数=重放次数+1），为infinite时无限重复</span></span><br><span class="line"><span class="symbol">android:</span>interpolator = @[package:]anim/interpolator_resource <span class="comment">// 插值器，即影响动画的播放速度,下面会详细讲</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 以下参数是透明度动画特有的属性</span></span><br><span class="line"><span class="symbol">android:</span>fromAlpha=<span class="string">&quot;1.0&quot;</span> <span class="comment">// 动画开始时视图的透明度(取值范围: -1 ~ 1)</span></span><br><span class="line"><span class="symbol">android:</span>toAlpha=<span class="string">&quot;0.0&quot;</span><span class="comment">// 动画结束时视图的透明度(取值范围: -1 ~ 1)</span></span><br></pre></td></tr></table></figure></li>
</ol>
<ol start="5">
<li><p>组合动画</p>
 <figure class="highlight gams"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;utf-8&quot;</span>?&gt;</span><br><span class="line"><span class="comment">// 采用&lt; Set/&gt;标签</span></span><br><span class="line">&lt;<span class="keyword">set</span> xmlns:android=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 组合动画同样具备公共属性</span></span><br><span class="line">    android:duration=<span class="string">&quot;3000&quot;</span> <span class="comment">// 动画持续时间（ms），必须设置，动画才有效果</span></span><br><span class="line">    android:startOffset <span class="comment">=</span><span class="comment">&quot;1000&quot;</span> // 动画延迟开始时间（<span class="comment">ms</span>）</span><br><span class="line">    android:fillBefore <span class="comment">=</span> “<span class="comment">true</span>” // 动画播放完后，视图是否会停留在动画开始的状态，默认为<span class="comment">true</span></span><br><span class="line">    android:fillAfter <span class="comment">=</span> “<span class="comment">false</span>” // 动画播放完后，视图是否会停留在动画结束的状态，优先于<span class="comment">fillBefore</span>值，默认为<span class="comment">false</span></span><br><span class="line">    android:fillEnabled= “true” <span class="comment">// 是否应用fillBefore值，对fillAfter值无影响，默认为true</span></span><br><span class="line">    android:repeatMode= “restart” <span class="comment">// 选择重复播放动画模式，restart代表正序重放，reverse代表倒序回放，默认为restart|</span></span><br><span class="line">    android:repeatCount <span class="comment">=</span> “<span class="comment">0</span>” // 重放次数（所以动画的播放次数<span class="comment">=</span>重放次数<span class="comment">+1</span>），为<span class="comment">infinite</span>时无限重复</span><br><span class="line">    android:interpolator <span class="comment">= @[package:]anim</span>/interpolator_resource <span class="comment">// 插值器，即影响动画的播放速度,下面会详细讲</span></span><br><span class="line">    </span><br><span class="line"><span class="comment">// 组合动画独特的属性</span></span><br><span class="line">    android:shareinterpolator = “true”</span><br><span class="line">    <span class="comment">// 表示组合动画中的动画是否和集合共享同一个差值器</span></span><br><span class="line">    <span class="comment">// 如果集合不指定插值器，那么子动画需要单独设置</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 组合动画播放时是全部动画同时开始</span></span><br><span class="line"><span class="comment">// 如果想不同动画不同时间开始就要使用android:startOffset属性来延迟单个动画播放时间</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置旋转动画，语法同单个动画</span></span><br><span class="line">    &lt;rotate</span><br><span class="line">        android:duration=<span class="comment">&quot;1000&quot;</span></span><br><span class="line">        android:fromDegrees=<span class="comment">&quot;0&quot;</span></span><br><span class="line">        android:toDegrees=<span class="comment">&quot;360&quot;</span></span><br><span class="line">        android:pivotX=<span class="comment">&quot;50%&quot;</span></span><br><span class="line">        android:pivotY=<span class="comment">&quot;50%&quot;</span></span><br><span class="line">        android:repeatMode=<span class="comment">&quot;restart&quot;</span></span><br><span class="line">        android:repeatCount=<span class="comment">&quot;infinite&quot;</span></span><br><span class="line">        /<span class="comment">&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置平移动画，语法同单个动画</span></span><br><span class="line">    &lt;translate</span><br><span class="line">        android:duration=<span class="string">&quot;10000&quot;</span></span><br><span class="line">        android:startOffset <span class="comment">=</span> “<span class="comment">1000</span>”// 延迟该动画播放时间</span><br><span class="line">        android:fromXDelta=<span class="string">&quot;-50%p&quot;</span></span><br><span class="line">        android:fromYDelta=<span class="string">&quot;0&quot;</span></span><br><span class="line">        android:toXDelta=<span class="string">&quot;50%p&quot;</span></span><br><span class="line">        android:toYDelta=<span class="string">&quot;0&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置透明度动画，语法同单个动画</span></span><br><span class="line">    &lt;alpha</span><br><span class="line">        android:startOffset=<span class="comment">&quot;7000&quot;</span></span><br><span class="line">        android:duration=<span class="comment">&quot;3000&quot;</span></span><br><span class="line">        android:fromAlpha=<span class="comment">&quot;1.0&quot;</span></span><br><span class="line">        android:toAlpha=<span class="comment">&quot;0.0&quot;</span> /&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// 设置缩放动画，语法同单个动画</span></span><br><span class="line">    &lt;scale</span><br><span class="line">        android:startOffset=<span class="string">&quot;4000&quot;</span></span><br><span class="line">        android:duration=<span class="string">&quot;1000&quot;</span></span><br><span class="line">        android:fromXScale=<span class="string">&quot;1.0&quot;</span></span><br><span class="line">        android:fromYScale=<span class="string">&quot;1.0&quot;</span></span><br><span class="line">        android:pivotX=<span class="string">&quot;50%&quot;</span></span><br><span class="line">        android:pivotY=<span class="string">&quot;50%&quot;</span></span><br><span class="line">        android:toXScale=<span class="string">&quot;0.5&quot;</span></span><br><span class="line">        android:toYScale=<span class="string">&quot;0.5&quot;</span> /&gt;</span><br><span class="line"><span class="comment">// 特别注意：</span></span><br><span class="line"><span class="comment">// 1. 在组合动画里scale缩放动画设置的repeatCount（重复播放）和fillBefore（播放完后，视图是否会停留在动画开始的状态）是无效的。</span></span><br><span class="line"><span class="comment">// 2. 所以如果需要重复播放或者回到原位的话需要在set标签里设置</span></span><br><span class="line"><span class="comment">// 3. 但是由于此处rotate旋转动画里已设置repeatCount为infinite，所以动画不会结束，也就看不到重播和回复原位</span></span><br><span class="line">&lt;/<span class="keyword">set</span>&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>  它是一个接一个播放，可以通过设置repeatCount 达到同时播放的目的</p>
</li>
</ol>
<h5 id="监听动画"><a href="#监听动画" class="headerlink" title="监听动画"></a>监听动画</h5><ul>
<li>Animation.addListener</li>
<li>anim.addListener(new AnimatorListenerAdapter()</li>
</ul>
<h5 id="应用"><a href="#应用" class="headerlink" title="应用"></a>应用</h5><ol>
<li><p>Activity入场</p>
<p>activity_anim_enter.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span></span><br><span class="line">    &lt;translate</span><br><span class="line">            android:duration= &quot;3000&quot;</span><br><span class="line">            android:fromXDelta=&quot;100%p&quot;</span><br><span class="line">            android:toXDelta=&quot;0%p&quot;/&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br></pre></td></tr></table></figure>

<p> activity_anim_exit.xml</p>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">set</span> <span class="attr">xmlns:android</span>=<span class="string">&quot;http://schemas.android.com/apk/res/android&quot;</span>&gt;</span></span><br><span class="line">    &lt;translate</span><br><span class="line">            android:duration= &quot;3000&quot;</span><br><span class="line">            android:fromXDelta=&quot;0%p&quot;</span><br><span class="line">            android:toXDelta=&quot;-100%p&quot;/&gt;</span><br><span class="line"><span class="tag">&lt;/<span class="name">set</span>&gt;</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h5 id="视图组（ViewGroup）动画"><a href="#视图组（ViewGroup）动画" class="headerlink" title="视图组（ViewGroup）动画"></a>视图组（ViewGroup）动画</h5><h5 id="插值器"><a href="#插值器" class="headerlink" title="插值器"></a>插值器</h5><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/2f19fe1e3ca1">https://www.jianshu.com/p/2f19fe1e3ca1</a></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/carson_ho/article/details/72827747">https://blog.csdn.net/carson_ho/article/details/72827747</a></p>

	  <div class="article-footer-copyright">

    本博客采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" target="_blank">知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议(CC BY-NC-SA 4.0) 发布.</a>
</div>

	</div>

	
	
	<div>
  	<center>

	<div class="pagination">

    
    
    <a href="/2019/12/29/AnimPropertyView/" type="button" class="btn btn-default"><i
                class="fa fa-arrow-circle-o-left"></i> Prev</a>
    

    <a href="/" type="button" class="btn btn-default"><i class="fa fa-home"></i>Home</a>
    
    <a href="/2019/12/25/AnimBitmaps/" type="button" class="btn btn-default ">Next<i
                class="fa fa-arrow-circle-o-right"></i></a>
    

    
</div>


    </center>
	</div>
	
	<!-- comment -->
	<!--
<section id="comment">
    <h2 class="title">Comments</h2>

    
</section>

-->
	
	
	
	</div> <!-- col-md-9/col-md-12 -->


	
	<div id="side_meta">
		<div class="col-md-3" id="post_meta"> 

	<!-- date -->
	
	<div class="meta-widget">
	<i class="fa fa-clock-o"></i>
	2019-12-26 
	</div>
	

	<!-- categories -->
    
	<div class="meta-widget">
	<a data-toggle="collapse" data-target="#categorys"><i class="fa fa-folder"></i></a>	
    <ul id="categorys" class="tag_box list-unstyled collapse in">
          
  <li>
    <li><a href="/categories/anim/">anim<span>4</span></a></li>
  </li>

    </ul>
	</div>
	

	<!-- tags -->
		

	<!-- toc -->
	<div class="meta-widget">
	
	</div>
	
    <hr>
	
</div><!-- col-md-3 -->

		

	</div>
	
		

</div><!-- row -->

<!--
 -->



	</div>
  </div>
  <div class="container-narrow">
  <footer> <p>
  
  &copy; 2023 Jon's Blog
  
      powered by <a href="http://hexo.io/" target="_blank">Hexo</a>.Theme <a href="https://github.com/Ares-X/hexo-theme-freemind.bithack" target="_blank">freemind.bithack</a>  
</p>
 </footer>
</div> <!-- container-narrow -->
  


  
<a id="gotop" href="#">   
  <span>⬆︎TOP</span>
</a>

<script src="/js/jquery.imagesloaded.min.js"></script>
<script src="/js/gallery.js"></script>
<script src="/js/bootstrap.min.js"></script>
<script src="/js/main.js"></script>
<script src="/js/search.js"></script> 


<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" media="screen" type="text/css">
<script src="/fancybox/jquery.fancybox.pack.js"></script>
<script type="text/javascript">
(function($){
  $('.fancybox').fancybox();
})(jQuery);
</script>



</body>
   </html>
